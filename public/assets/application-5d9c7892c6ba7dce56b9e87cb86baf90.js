function circularTree(){var t=960,e=d3.layout.tree().size([360,t/2-120]).separation(function(t,e){return(t.parent==e.parent?1:2)/t.depth}),n=d3.svg.diagonal.radial().projection(function(t){return[t.y,t.x/180*Math.PI]}),i=d3.select("#circular-tree").append("svg").attr("width",t).attr("height",t-150).append("g").attr("transform","translate("+t/2+","+t/2+")");d3.json("flare.json",function(t,r){var o=e.nodes(r),a=e.links(o);i.selectAll(".link").data(a).enter().append("path").attr("class","link").attr("d",n);var s=i.selectAll(".node").data(o).enter().append("g").attr("class","node").attr("transform",function(t){return"rotate("+(t.x-90)+")translate("+t.y+")"});s.append("circle").attr("r",4.5),s.append("text").attr("dy",".31em").attr("text-anchor",function(t){return t.x<180?"start":"end"}).attr("transform",function(t){return t.x<180?"translate(8)":"rotate(180)translate(-8)"}).text(function(t){return t.name})}),d3.select(self.frameElement).style("height",t-150+"px")}function collapsibleTree(){function t(t){var r=l.nodes(i).reverse(),o=c.selectAll("g.node").data(r,function(t){return t.id||(t.id=++a)}),d=o.enter().append("svg:g").attr("class","node").attr("transform",function(){return"translate("+t.y0+","+t.x0+")"});d.append("svg:circle").attr("r",4.5).style("fill",function(t){return t._children?"lightsteelblue":"#fff"}).on("click",e),d.append("svg:text").attr("x",function(t){return t._children?-8:8}).attr("y",3).text(function(t){return t.name}),d.transition().duration(s).attr("transform",function(t){return"translate("+t.y+","+t.x+")"}).style("opacity",1).select("circle").style("fill","lightsteelblue"),o.transition().duration(s).attr("transform",function(t){return"translate("+t.y+","+t.x+")"}).style("opacity",1),o.exit().transition().duration(s).attr("transform",function(){return"translate("+t.y+","+t.x+")"}).style("opacity",1e-6).remove();var f=c.selectAll("path.link").data(l.links(r),function(t){return t.target.id});f.enter().insert("svg:path","g").attr("class","link").attr("d",function(){var e={x:t.x0,y:t.y0};return u({source:e,target:e})}).transition().duration(s).attr("d",u),f.transition().duration(s).attr("d",u),f.exit().transition().duration(s).attr("d",function(){var e={x:t.x,y:t.y};return u({source:e,target:e})}).remove(),r.forEach(function(t){t.x0=t.x,t.y0=t.y}),d3.select("#tree svg").call(d3.behavior.zoom().scaleExtent([1,5]).on("zoom",n))}function e(e){e.children?(e._children=e.children,e.children=null):(e.children=e._children,e._children=null),t(e)}function n(){var t=d3.event.scale,e=d3.event.translate,n=-o*t,i=o*t,a=-r*t,s=r*t;e=[Math.max(Math.min(e[0],s),a),Math.max(Math.min(e[1],i),n)],d3.select(".drawarea").attr("transform","translate("+e+")"+" scale("+t+")")}var i,r=960,o=2e3,a=0,s=500,l=d3.layout.tree().size([o,r-160]),u=d3.svg.diagonal().projection(function(t){return[t.y,t.x]}),c=d3.select("#tree").append("svg:svg").attr("width",r).attr("height",o).append("svg:g").attr("class","drawarea").append("svg:g").attr("transform","translate(40,0)");d3.json("/math_map_compact.json",function(e){e.x0=800,e.y0=0,t(i=e)}),d3.select(self.frameElement).style("height","2000px")}function forceGraph(t){function e(){console.log($("#chart").data("node")),$.get("/nodes/details/"+$("#chart").data("node"),function(t){x=t,n()})}function n(){b=x,o(),$("#story-map").data("id")&&i(E.selectAll("circle.node").filter(function(t){return t.id==$("#story-map").data("endnode")})[0][0])}function i(t){var e=t.__data__.id;$.get("/nodes/chain/"+e,function(n){var i="<div id='story-preview' style='height: "+window.innerHeight/1.7+"px'>";n.forEach(function(t,e,n){i+="<div class='node-preview'><h5>"+n[e].title.slice(0,20)+"</h5><p class='preview small-preview' >"+n[e].content.slice(0,15)+"...</p><p class='full hide small-preview'>"+n[e].content.slice(0,400)+"...</p></div>",E.selectAll("circle.node").filter(function(t){return t.id==n[e].id}).style("fill","silver").style("stroke","#fcb483").style("stroke-width","4px"),e<n.length-1&&E.selectAll("line.link").filter(function(t){return t.source.id==n[e].id&&t.target.id==n[e+1].id}).style("stroke-width","5px").style("stroke","blue")}),i+="</div>",""==$("#superNav").html()?($("#superNav").replaceWith("<div id='superNav' class='hide'>"+i+"</div>"),$("#node-link").replaceWith("<a id='node-link' class='button right' href='/stories/"+e+"'>Check out this story!</a>"),$("#chart-holder").css("width","900px"),$("#superNav").show("slow")):($("#superNav").replaceWith("<div id='superNav'>"+i+"</div>"),$("#node-link").replaceWith("<a id='node-link' class='button right' href='/stories/"+e+"'>Check out this story!</a>")),$("circle.node").css("opacity","0.8"),$(t).css("fill","orange").css("opacity","1.0").css("stroke","red").css("stroke-width","6px")})}function r(){trans=d3.event.translate,scale=d3.event.scale,$("#chart .node").attr("transform","translate("+trans+")"+" scale("+scale+")"),$("#chart .link").attr("transform","translate("+trans+")"+" scale("+scale+")")}function o(){console.log("initialize");var t=f(b),e=d3.layout.tree().links(t);k.nodes(t).links(e).start(),y=E.selectAll("line.link").data(e,function(t){return t.target.id}).style("stroke-width","1.5px").style("stroke",u),y.enter().insert("svg:line",".node").attr("class","link").attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),y.exit().remove(),v=E.selectAll("circle.node").data(t,function(t){return t.id}).style("fill",l).style("stroke","#3182bd").style("stroke-width","1.5px");var n=v.enter()[0][v.enter()[0].length-1];c(n.__data__)}function a(){function t(){d3.event.sourceEvent.stopPropagation(),k.stop()}function e(t){d3.event.sourceEvent.stopPropagation(),t.px+=d3.event.dx,t.py+=d3.event.dy,t.x+=d3.event.dx,t.y+=d3.event.dy,s()}function n(t){d3.event.sourceEvent.stopPropagation(),t.fixed=!0,s(),k.resume()}console.log("update");var i=f(b),r=d3.layout.tree().links(i);k.nodes(i).links(r).start(),y=E.selectAll("line.link").data(r,function(t){return t.target.id}).style("stroke-width","1.5px").style("stroke",u),y.enter().insert("svg:line",".node").attr("class","link").attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),y.exit().remove();var o=d3.behavior.drag().on("dragstart",t).on("drag",e).on("dragend",n);v=E.selectAll("circle.node").data(i,function(t){return t.id}).style("fill",l).style("stroke","#3182bd").style("stroke-width","1.5px"),v.enter()[0][v.enter()[0].length-1],v.enter().append("svg:circle").attr("class","node").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",function(t){return 1.5*t.size||6}).style("fill",l).on("dblclick",d).call(o),v.exit().remove()}function s(){v.attr("cx",function(t){return C=this.r.baseVal.value,t.x=Math.max(C,Math.min(_-C,t.x))}).attr("cy",function(t){return C=this.r.baseVal.value,t.y=Math.max(C,Math.min(w-C,t.y))}),y.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y})}function l(t){return t._children?"#81390e":t.children?"#81390e":"#222222"}function u(){return"#fcb483"}function c(t){console.log("hi"),t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null),a()}function d(t){c(t)}function f(t){function e(t){t.children&&t.children.forEach(e),t.id||(t.id=++i),n.push(t)}var n=[],i=0;return e(t),n}console.log("forceGraph"),window.oncontextmenu=function(){return m?!1:void 0},$(t).on("mouseenter",".node-preview",function(t){t.preventDefault(),$(this).find(".preview").hide(200),$(this).find(".full").show(200),$(this).addClass("full-color",400)});var h;$(t).on("mouseleave",".node-preview",function(t){t.preventDefault(),$(this).find(".preview").show(200),$(this).find(".full").hide(200),h=this,setTimeout(function(){$(h).removeClass("full-color",400)},400)});var p,g,m=!1;$("#chart").on("mousedown",function(){m=!0}),$("#chart").on("mouseleave",function(){m=!1}),$("#chart").on("mouseenter","circle.node",function(){p=this,g=setTimeout(function(){a(),i(p)},600)}),$("#chart").on("mouseleave","circle.node",function(){g&&clearTimeout(g)});var v,y,b,x,_=window.innerWidth/2,w=window.innerHeight/1.5,C=15,k=d3.layout.force().on("tick",s).size([_,w]).linkDistance([20]),E=d3.select("#chart").append("svg:svg").attr("width",_).attr("height",w).call(d3.behavior.zoom().scaleExtent([1,8]).on("zoom",r)).on("dblclick.zoom",null).attr("pointer-events","all").attr("viewBox","0 0 "+_+" "+w).attr("preserveAspectRatio","xMinYMid");e()}function forceGroup2(t){function e(t){var e=t.__data__.id;console.log("populateNode"),console.log(e),$.get("/nodes/chain/"+e,function(n){n[0].title,n[0].author,n[0].content;var i="<div style='height: "+window.innerHeight/1.7+"px; width:600px'>";n.forEach(function(t,e,n){i+="<div><h5>"+n[e].title.slice(0,20)+"</h5><p>"+n[e].content.slice(0,130)+"...</p><p class='full hide small-preview'>"+n[e].content.slice(0,400)+"...</p></div>",E.selectAll("circle.node").filter(function(t){return t.id==n[e].id}).style("fill","silver").style("stroke","#fcb483").style("stroke-width","4px"),e<n.length-1&&E.selectAll("line.link").filter(function(t){return t.source.id==n[e].id&&t.target.id==n[e+1].id}).style("stroke-width","5px").style("stroke","blue")}),i+="</div>",$("#preview-story").children().remove(),$("#preview-story").append(i),""==$("#superNav").html()?($("#node-link").replaceWith("<a id='node-link' class='button success round right' href='/stories/"+e+"'>Check out this story!</a>"),$("#chart-holder").css("width","900px"),$("#superNav").show("slow")):($("#superNav").replaceWith("<div id='superNav'>"+i+"</div>"),$("#node-link").replaceWith("<a id='node-link' class='button success round right' href='/stories/"+e+"'>Check out this story!</a>")),$("circle.node").css("opacity","0.8"),$(t).css("fill","orange").css("opacity","1.0").css("stroke","red").css("stroke-width","6px")})}function n(){y.attr("cx",function(t){return C=this.r.baseVal.value,t.x=Math.max(C,Math.min(_-C,t.x))}).attr("cy",function(t){return C=this.r.baseVal.value,t.y=Math.max(C,Math.min(w-C,t.y))}),b.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y})}function i(t){return t._children?"#81390e":t.children?"#81390e":"#222222"}function r(){return"#fcb483"}function o(t){console.log("hi"),t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null),f()}function a(t){o(t)}function s(){trans=d3.event.translate,scale=d3.event.scale,$("#chart .node").attr("transform","translate("+trans+")"+" scale("+scale+")"),$("#chart .link").attr("transform","translate("+trans+")"+" scale("+scale+")")}function l(){console.log("takeJson"),console.log(S),$.get("/nodes/details/"+S.children[0].id,function(t){x=t,u()})}function u(){console.log("hi this is it yeaaa"),h=x,c(),$("#story-map").data("id")&&e(E.selectAll("circle.node").filter(function(t){return t.id==$("#story-map").data("endnode")})[0][0])}function c(){console.log("initialize");var t=d(h),e=d3.layout.tree().links(t);console.log("nodes in initialize"),console.log(t),k.nodes(t).links(e).start(),b=E.selectAll("line.link").data(e,function(t){return t.target.id}).style("stroke-width","1.5px").style("stroke",r),b.enter().insert("svg:line",".node").attr("class","link").attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),b.exit().remove(),y=E.selectAll("circle.node").data(t,function(t){return t.id}).style("fill",i).style("stroke","#3182bd").style("stroke-width","1.5px");var n=y.enter()[0][y.enter()[0].length-1];o(n.__data__)}function d(t){function e(t){t.children&&t.children.forEach(e),t.id||(t.id=++i),n.push(t)}var n=[],i=0;return e(t),n}function f(){function t(){d3.event.sourceEvent.stopPropagation(),k.stop()}function e(t){d3.event.sourceEvent.stopPropagation(),t.px+=d3.event.dx,t.py+=d3.event.dy,t.x+=d3.event.dx,t.y+=d3.event.dy,n()}function o(t){d3.event.sourceEvent.stopPropagation(),t.fixed=!0,n(),k.resume()}console.log("update");var s=d(h),l=d3.layout.tree().links(s);k.nodes(s).links(l).start(),b=E.selectAll("line.link").data(l,function(t){return t.target.id}).style("stroke-width","1.5px").style("stroke",r),b.enter().insert("svg:line",".node").attr("class","link").attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),b.exit().remove();var u=d3.behavior.drag().on("dragstart",t).on("drag",e).on("dragend",o);y=E.selectAll("circle.node").data(s,function(t){return t.id}).style("fill",i).style("stroke","#3182bd").style("stroke-width","1.5px"),y.enter()[0][y.enter()[0].length-1],y.enter().append("svg:circle").attr("class","node").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",function(t){return 1.5*t.size||6}).style("fill",i).on("dblclick",a).call(u),y.exit().remove()}window.oncontextmenu=function(){return v?!1:void 0};var h;window.innerWidth,window.innerHeight;var p,g;$(t).on("mouseenter",".node-preview",function(t){t.preventDefault(),$(this).find(".preview").hide(200),$(this).find(".full").show(200),$(this).addClass("full-color",400)});var m;$(t).on("mouseleave",".node-preview",function(t){t.preventDefault(),$(this).find(".preview").show(200),$(this).find(".full").hide(200),m=this,setTimeout(function(){$(m).removeClass("full-color",400)},400)});var p,g,v=!1;$("#group-chart").on("mousedown",function(){v=!0}),$("#group-chart").on("mouseleave",function(){v=!1}),$("#group-chart").on("mouseenter","circle.node",function(){p=this,g=setTimeout(function(){f(),e(p)},600)}),$("#group-chart").on("mouseleave","circle.node",function(){g&&clearTimeout(g)});var y,b,h,x,_=window.innerWidth/2,w=window.innerHeight/1.5,C=15,k=d3.layout.force().on("tick",n).size([_,w]).linkDistance([20]),E=d3.select("#group-chart").append("svg:svg").attr("width",_).attr("height",w).call(d3.behavior.zoom().scaleExtent([1,8]).on("zoom",s)).on("dblclick.zoom",null).attr("pointer-events","all").attr("viewBox","0 0 "+_+" "+w).attr("preserveAspectRatio","xMinYMid"),S=$("#group-chart").data("nodes");console.log($("#group-chart").data("nodes")),l()}function forceGroup(t){function e(){console.log("takeJson"),console.log(p),r=p,i()}function n(t){var e=t.__data__.book_id;$.get("nodes/query/"+e,function(t){var n=document.createElement("div");n.innerHTML=t.content.slice(0,150);var i=n.textContent||n.innerText||"";$("#superNavTwo").replaceWith("<div id='superNavTwo' class='small-3-columns'><h2><a href='nodes/"+e+"'>"+t.title+"</a></h2><p><i>Started by "+t.author+"</i></p><h4><i>"+i+"...</i></h4></div>"),$("#superNavTwo").slideDown()})}function i(){function e(){trans=d3.event.translate,scale=d3.event.scale,$("#group-chart .node").attr("transform","translate("+trans+")"+" scale("+scale+")")}function n(t){var e=6*t.alpha;a.forEach(function(t,n){t.y+=1&n?e:-e,t.x+=2&n?e:-e}),u.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y})}function i(){a.forEach(function(t){t.x+=40*(Math.random()-.5),t.y+=40*(Math.random()-.5)}),s.resume()}function o(t){for(var e=[],n=0;n<t.children.length;n++)e.push({book_id:t.children[n].id});return e}var a=o(r),s=d3.layout.force().nodes(a).size([d,f]).on("tick",n).start(),l=d3.select("#group-chart").append("svg").attr("width",d).attr("height",f).call(d3.behavior.zoom().scaleExtent([1,8]).on("zoom",e)).attr("pointer-events","all").attr("viewBox","0 0 "+d+" "+f).attr("preserveAspectRatio","xMinYMid"),u=l.selectAll(".node").data(a).enter().append("circle").attr("class","node").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",8).style("fill",function(t,e){return h(3&e)}).style("stroke",function(t,e){return d3.rgb(h(3&e)).darker(2)}).call(s.drag).on("mousedown",function(e){d3.event.stopPropagation(),$("#chart-holder").replaceWith("<div id='chart-holder' class='small-9-columns reveal-modal' ><div id='chart' class='small-6-columns' data-node='"+e.book_id+"'></div><div><a id='node-link' style='display: none'></a></div><div id='superNav'></div><a class='close-reveal-modal'>&#215;</a></div>"),$("#chart-holder").foundation("reveal","open"),new forceGraph(t)});l.style("opacity",1e-6).transition().duration(1e3).style("opacity",1),d3.select("#group-chart").on("mousedown",i)}var r,o,a,s,l,u,c,d=window.innerWidth/2,f=window.innerHeight/1.5;$("#group-chart").on("mouseenter","circle.node",function(){o=this,s=setTimeout(function(){a&&$(a).css("fill",l).css("stroke-width",u).css("stroke",c),n(o),a=o,l=o.style.fill,u=o.style.strokeWidth,c=o.style.stroke,$("circle.node").css("opacity","0.8"),$(o).css("fill","orange").css("opacity","1.0").css("stroke","red").css("stroke-width","6px")},300)}),$("#group-chart").on("mouseleave","circle.node",function(){s&&clearTimeout(s)});var h=d3.scale.category10(),p=$("#group-chart").data("nodes");console.log($("#group-chart").data("nodes")),e()}function LightDimmer(t,e){this.readingPage=e,this.buttons=t,this.bindButton()}function ReadingPage(t,e){this.page=t,this.story=e}function Color(t){this.rgbArray=t}function grabData(){var t,e=$("#group-chart").data("nodes");console.log(e.children[0].id),$.get("/nodes/details/3",function(e){console.log(e),t=e,tree=new Tree(t),tree.update()})}function color(t){return t._children?"#81390e":t.children?"#81390e":"#222222"}function linkColor(){return"#fcb483"}function Tree(t){this.root=t,this.w=window.innerWidth/2,this.h=window.innerHeight/1.5,this.r=15,this.node,this.link,this.force=d3.layout.force().on("tick",this.tick).size([this.w,this.h]),this.vis=d3.select("#group-chart").append("svg:svg").attr("width",this.w).attr("height",this.h)}function storyTime(t){$(t).on("mouseenter",".node-title",function(){$(this).find("h5").show(400)}),$(t).on("mouseleave",".node-title",function(){var t=this;setTimeout(function(){$(t).find("h5").hide(400)},1e3)})}function sunBurst(){function t(t){var e=d3.interpolate(a.domain(),[t.x,t.x+t.dx]),n=d3.interpolate(s.domain(),[t.y,1]),i=d3.interpolate(s.range(),[t.y?20:0,o]);return function(t,r){return r?function(){return d(t)}:function(r){return a.domain(e(r)),s.domain(n(r)).range(i(r)),d(t)}}}var e,n,i=960,r=700,o=Math.min(i,r)/2;$("#sunburst").on("mouseenter","path",function(){e=this,n=setTimeout(function(){$("#superNav").slideDown(),$("path").css("opacity","0.6"),$(e).css("opacity","1.0")},600)}),$("#sunburst").on("mouseleave","path",function(){n&&clearTimeout(n)});var a=d3.scale.linear().range([0,2*Math.PI]),s=d3.scale.sqrt().range([0,o]),l=d3.scale.category10(),u=d3.select("#sunburst").append("svg").attr("width",i).attr("height",r).append("g").attr("transform","translate("+i/2+","+(r/2+10)+")"),c=d3.layout.partition().value(function(t){return t.size}),d=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,a(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,a(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,s(t.y))}).outerRadius(function(t){return Math.max(0,s(t.y+t.dy))});d3.json("flare_2.json",function(e,n){function i(e){r.transition().duration(750).attrTween("d",t(e)),$("path").css("opacity","1.0")}var r=u.selectAll("path").data(c.nodes(n)).enter().append("path").attr("d",d).style("fill",function(t){return l((t.children?t:t.parent).name)}).on("click",i)}),d3.select(self.frameElement).style("height",r+"px")}!function(t,e){function n(t){var e=t.length,n=ce.type(t);return ce.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t){var e=Ee[t]={};return ce.each(t.match(fe)||[],function(t,n){e[n]=!0}),e}function r(t,n,i,r){if(ce.acceptData(t)){var o,a,s=ce.expando,l=t.nodeType,u=l?ce.cache:t,c=l?t[s]:t[s]&&s;if(c&&u[c]&&(r||u[c].data)||i!==e||"string"!=typeof n)return c||(c=l?t[s]=ee.pop()||ce.guid++:s),u[c]||(u[c]=l?{}:{toJSON:ce.noop}),("object"==typeof n||"function"==typeof n)&&(r?u[c]=ce.extend(u[c],n):u[c].data=ce.extend(u[c].data,n)),a=u[c],r||(a.data||(a.data={}),a=a.data),i!==e&&(a[ce.camelCase(n)]=i),"string"==typeof n?(o=a[n],null==o&&(o=a[ce.camelCase(n)])):o=a,o}}function o(t,e,n){if(ce.acceptData(t)){var i,r,o=t.nodeType,a=o?ce.cache:t,l=o?t[ce.expando]:ce.expando;if(a[l]){if(e&&(i=n?a[l]:a[l].data)){ce.isArray(e)?e=e.concat(ce.map(e,ce.camelCase)):e in i?e=[e]:(e=ce.camelCase(e),e=e in i?[e]:e.split(" ")),r=e.length;for(;r--;)delete i[e[r]];if(n?!s(i):!ce.isEmptyObject(i))return}(n||(delete a[l].data,s(a[l])))&&(o?ce.cleanData([t],!0):ce.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}}function a(t,n,i){if(i===e&&1===t.nodeType){var r="data-"+n.replace(Me,"-$1").toLowerCase();if(i=t.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Se.test(i)?ce.parseJSON(i):i}catch(o){}ce.data(t,n,i)}else i=e}return i}function s(t){var e;for(e in t)if(("data"!==e||!ce.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function u(){return!1}function c(){try{return Z.activeElement}catch(t){}}function d(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function f(t,e,n){if(ce.isFunction(e))return ce.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ce.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Ie.test(e))return ce.filter(e,t,n);e=ce.filter(e,t)}return ce.grep(t,function(t){return ce.inArray(t,e)>=0!==n})}function h(t){var e=Ve.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function p(t,e){return ce.nodeName(t,"table")&&ce.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function g(t){return t.type=(null!==ce.find.attr(t,"type"))+"/"+t.type,t}function m(t){var e=on.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var n,i=0;null!=(n=t[i]);i++)ce._data(n,"globalEval",!e||ce._data(e[i],"globalEval"))}function y(t,e){if(1===e.nodeType&&ce.hasData(t)){var n,i,r,o=ce._data(t),a=ce._data(e,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)ce.event.add(e,n,s[n][i])}a.data&&(a.data=ce.extend({},a.data))}}function b(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ce.support.noCloneEvent&&e[ce.expando]){r=ce._data(e);for(i in r.events)ce.removeEvent(e,i,r.handle);e.removeAttribute(ce.expando)}"script"===n&&e.text!==t.text?(g(e).text=t.text,m(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ce.support.html5Clone&&t.innerHTML&&!ce.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&en.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function x(t,n){var i,r,o=0,a=typeof t.getElementsByTagName!==Y?t.getElementsByTagName(n||"*"):typeof t.querySelectorAll!==Y?t.querySelectorAll(n||"*"):e;if(!a)for(a=[],i=t.childNodes||t;null!=(r=i[o]);o++)!n||ce.nodeName(r,n)?a.push(r):ce.merge(a,x(r,n));return n===e||n&&ce.nodeName(t,n)?ce.merge([t],a):a}function _(t){en.test(t.type)&&(t.defaultChecked=t.checked)}function w(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=En.length;r--;)if(e=En[r]+n,e in t)return e;return i}function C(t,e){return t=e||t,"none"===ce.css(t,"display")||!ce.contains(t.ownerDocument,t)}function k(t,e){for(var n,i,r,o=[],a=0,s=t.length;s>a;a++)i=t[a],i.style&&(o[a]=ce._data(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&C(i)&&(o[a]=ce._data(i,"olddisplay",T(i.nodeName)))):o[a]||(r=C(i),(n&&"none"!==n||!r)&&ce._data(i,"olddisplay",r?n:ce.css(i,"display"))));for(a=0;s>a;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function E(t,e,n){var i=yn.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function S(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ce.css(t,n+kn[o],!0,r)),i?("content"===n&&(a-=ce.css(t,"padding"+kn[o],!0,r)),"margin"!==n&&(a-=ce.css(t,"border"+kn[o]+"Width",!0,r))):(a+=ce.css(t,"padding"+kn[o],!0,r),"padding"!==n&&(a+=ce.css(t,"border"+kn[o]+"Width",!0,r)));return a}function M(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=dn(t),a=ce.support.boxSizing&&"border-box"===ce.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=fn(t,e,o),(0>r||null==r)&&(r=t.style[e]),bn.test(r))return r;i=a&&(ce.support.boxSizingReliable||r===t.style[e]),r=parseFloat(r)||0}return r+S(t,e,n||(a?"border":"content"),i,o)+"px"}function T(t){var e=Z,n=_n[t];return n||(n=N(t,e),"none"!==n&&n||(cn=(cn||ce("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(cn[0].contentWindow||cn[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=N(t,e),cn.detach()),_n[t]=n),n}function N(t,e){var n=ce(e.createElement(t)).appendTo(e.body),i=ce.css(n[0],"display");return n.remove(),i}function A(t,e,n,i){var r;if(ce.isArray(e))ce.each(e,function(e,r){n||Mn.test(t)?i(t,r):A(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==ce.type(e))i(t,e);else for(r in e)A(t+"["+r+"]",e[r],n,i)}function R(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(fe)||[];if(ce.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function D(t,e,n,i){function r(s){var l;return o[s]=!0,ce.each(t[s]||[],function(t,s){var u=s(e,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=t===qn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function H(t,n){var i,r,o=ce.ajaxSettings.flatOptions||{};for(r in n)n[r]!==e&&((o[r]?t:i||(i={}))[r]=n[r]);return i&&ce.extend(!0,t,i),t}function L(t,n,i){for(var r,o,a,s,l=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),o===e&&(o=t.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){u.unshift(s);break}if(u[0]in i)a=u[0];else{for(s in i){if(!u[0]||t.converters[s+" "+u[0]]){a=s;break}r||(r=s)}a=a||r}return a?(a!==u[0]&&u.unshift(a),i[a]):void 0}function F(t,e,n,i){var r,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[r]:u[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function B(){try{return new t.XMLHttpRequest}catch(e){}}function P(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function j(){return setTimeout(function(){Qn=e}),Qn=ce.now()}function O(t,e,n){for(var i,r=(oi[e]||[]).concat(oi["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,e,t))return i}function z(t,e,n){var i,r,o=0,a=ri.length,s=ce.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Qn||j(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,o=1-i,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(t,[u,o,n]),1>o&&l?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:ce.extend({},e),opts:ce.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Qn||j(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ce.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return e?s.resolveWith(t,[u,e]):s.rejectWith(t,[u,e]),this}}),c=u.props;for($(c,u.opts.specialEasing);a>o;o++)if(i=ri[o].call(u,t,c,u.opts))return i;return ce.map(c,O,u),ce.isFunction(u.opts.start)&&u.opts.start.call(t,u),ce.fx.timer(ce.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function $(t,e){var n,i,r,o,a;for(n in t)if(i=ce.camelCase(n),r=e[i],o=t[n],ce.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=ce.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function I(t,e,n){var i,r,o,a,s,l,u=this,c={},d=t.style,f=t.nodeType&&C(t),h=ce._data(t,"fxshow");n.queue||(s=ce._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,ce.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ce.css(t,"display")&&"none"===ce.css(t,"float")&&(ce.support.inlineBlockNeedsLayout&&"inline"!==T(t.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ce.support.shrinkWrapBlocks||u.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],ei.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show"))continue;c[i]=h&&h[i]||ce.style(t,i)}if(!ce.isEmptyObject(c)){h?"hidden"in h&&(f=h.hidden):h=ce._data(t,"fxshow",{}),o&&(h.hidden=!f),f?ce(t).show():u.done(function(){ce(t).hide()}),u.done(function(){var e;ce._removeData(t,"fxshow");for(e in c)ce.style(t,e,c[e])});for(i in c)a=O(f?h[i]:0,i,u),i in h||(h[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function W(t,e,n,i,r){return new W.prototype.init(t,e,n,i,r)}function q(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=kn[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function U(t){return ce.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var V,X,Y=typeof e,K=t.location,Z=t.document,G=Z.documentElement,J=t.jQuery,Q=t.$,te={},ee=[],ne="1.10.2",ie=ee.concat,re=ee.push,oe=ee.slice,ae=ee.indexOf,se=te.toString,le=te.hasOwnProperty,ue=ne.trim,ce=function(t,e){return new ce.fn.init(t,e,X)},de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=/\S+/g,he=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,me=/^[\],:{}\s]*$/,ve=/(?:^|:|,)(?:\s*\[)+/g,ye=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,be=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,xe=/^-ms-/,_e=/-([\da-z])/gi,we=function(t,e){return e.toUpperCase()},Ce=function(t){(Z.addEventListener||"load"===t.type||"complete"===Z.readyState)&&(ke(),ce.ready())},ke=function(){Z.addEventListener?(Z.removeEventListener("DOMContentLoaded",Ce,!1),t.removeEventListener("load",Ce,!1)):(Z.detachEvent("onreadystatechange",Ce),t.detachEvent("onload",Ce))};ce.fn=ce.prototype={jquery:ne,constructor:ce,init:function(t,n,i){var r,o;if(!t)return this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:pe.exec(t),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(t):this.constructor(n).find(t);if(r[1]){if(n=n instanceof ce?n[0]:n,ce.merge(this,ce.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:Z,!0)),ge.test(r[1])&&ce.isPlainObject(n))for(r in n)ce.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(o=Z.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(t);this.length=1,this[0]=o}return this.context=Z,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ce.isFunction(t)?i.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),ce.makeArray(t,this))},selector:"",length:0,toArray:function(){return oe.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=ce.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ce.each(this,t,e)},ready:function(t){return ce.ready.promise().done(t),this},slice:function(){return this.pushStack(oe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(ce.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)
},push:re,sort:[].sort,splice:[].splice},ce.fn.init.prototype=ce.fn,ce.extend=ce.fn.extend=function(){var t,n,i,r,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||ce.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(o=arguments[l]))for(r in o)t=s[r],i=o[r],s!==i&&(c&&i&&(ce.isPlainObject(i)||(n=ce.isArray(i)))?(n?(n=!1,a=t&&ce.isArray(t)?t:[]):a=t&&ce.isPlainObject(t)?t:{},s[r]=ce.extend(c,a,i)):i!==e&&(s[r]=i));return s},ce.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===ce&&(t.$=Q),e&&t.jQuery===ce&&(t.jQuery=J),ce},isReady:!1,readyWait:1,holdReady:function(t){t?ce.readyWait++:ce.ready(!0)},ready:function(t){if(t===!0?!--ce.readyWait:!ce.isReady){if(!Z.body)return setTimeout(ce.ready);ce.isReady=!0,t!==!0&&--ce.readyWait>0||(V.resolveWith(Z,[ce]),ce.fn.trigger&&ce(Z).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===ce.type(t)},isArray:Array.isArray||function(t){return"array"===ce.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?te[se.call(t)]||"object":typeof t},isPlainObject:function(t){var n;if(!t||"object"!==ce.type(t)||t.nodeType||ce.isWindow(t))return!1;try{if(t.constructor&&!le.call(t,"constructor")&&!le.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ce.support.ownLast)for(n in t)return le.call(t,n);for(n in t);return n===e||le.call(t,n)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Z;var i=ge.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=ce.buildFragment([t],e,r),r&&ce(r).remove(),ce.merge([],i.childNodes))},parseJSON:function(e){return t.JSON&&t.JSON.parse?t.JSON.parse(e):null===e?e:"string"==typeof e&&(e=ce.trim(e),e&&me.test(e.replace(ye,"@").replace(be,"]").replace(ve,"")))?new Function("return "+e)():(ce.error("Invalid JSON: "+e),void 0)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{t.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=e}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ce.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(e){e&&ce.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(xe,"ms-").replace(_e,we)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,o=0,a=t.length,s=n(t);if(i){if(s)for(;a>o&&(r=e.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],i),r===!1)break}else if(s)for(;a>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:ue&&!ue.call("﻿ ")?function(t){return null==t?"":ue.call(t)}:function(t){return null==t?"":(t+"").replace(he,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ce.merge(i,"string"==typeof t?[t]:t):re.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(ae)return ae.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,n){var i=n.length,r=t.length,o=0;if("number"==typeof i)for(;i>o;o++)t[r++]=n[o];else for(;n[o]!==e;)t[r++]=n[o++];return t.length=r,t},grep:function(t,e,n){var i,r=[],o=0,a=t.length;for(n=!!n;a>o;o++)i=!!e(t[o],o),n!==i&&r.push(t[o]);return r},map:function(t,e,i){var r,o=0,a=t.length,s=n(t),l=[];if(s)for(;a>o;o++)r=e(t[o],o,i),null!=r&&(l[l.length]=r);else for(o in t)r=e(t[o],o,i),null!=r&&(l[l.length]=r);return ie.apply([],l)},guid:1,proxy:function(t,n){var i,r,o;return"string"==typeof n&&(o=t[n],n=t,t=o),ce.isFunction(t)?(i=oe.call(arguments,2),r=function(){return t.apply(n||this,i.concat(oe.call(arguments)))},r.guid=t.guid=t.guid||ce.guid++,r):e},access:function(t,n,i,r,o,a,s){var l=0,u=t.length,c=null==i;if("object"===ce.type(i)){o=!0;for(l in i)ce.access(t,n,l,i[l],!0,a,s)}else if(r!==e&&(o=!0,ce.isFunction(r)||(s=!0),c&&(s?(n.call(t,r),n=null):(c=n,n=function(t,e,n){return c.call(ce(t),n)})),n))for(;u>l;l++)n(t[l],i,s?r:r.call(t[l],l,n(t[l],i)));return o?t:c?n.call(t):u?n(t[0],i):a},now:function(){return(new Date).getTime()},swap:function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r}}),ce.ready.promise=function(e){if(!V)if(V=ce.Deferred(),"complete"===Z.readyState)setTimeout(ce.ready);else if(Z.addEventListener)Z.addEventListener("DOMContentLoaded",Ce,!1),t.addEventListener("load",Ce,!1);else{Z.attachEvent("onreadystatechange",Ce),t.attachEvent("onload",Ce);var n=!1;try{n=null==t.frameElement&&Z.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!ce.isReady){try{n.doScroll("left")}catch(t){return setTimeout(r,50)}ke(),ce.ready()}}()}return V.promise(e)},ce.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){te["[object "+e+"]"]=e.toLowerCase()}),X=ce(Z),function(t,e){function n(t,e,n,i){var r,o,a,s,l,u,c,d,p,g;if((e?e.ownerDocument||e:z)!==D&&R(e),e=e||D,n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=e.nodeType)&&9!==s)return[];if(L&&!i){if(r=be.exec(t))if(a=r[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&j(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return te.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&C.getElementsByClassName&&e.getElementsByClassName)return te.apply(n,e.getElementsByClassName(a)),n}if(C.qsa&&(!F||!F.test(t))){if(d=c=O,p=e,g=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(u=f(t),(c=e.getAttribute("id"))?d=c.replace(we,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;l--;)u[l]=d+h(u[l]);p=he.test(t)&&e.parentNode||e,g=u.join(",")}if(g)try{return te.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{c||e.removeAttribute("id")}}}return _(t.replace(ue,"$1"),e,n,i)}function i(){function t(n,i){return e.push(n+=" ")>E.cacheLength&&delete t[e.shift()],t[n]=i}var e=[];return t}function r(t){return t[O]=!0,t}function o(t){var e=D.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var n=t.split("|"),i=t.length;i--;)E.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||K)-(~t.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function l(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return r(function(e){return e=+e,r(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function d(){}function f(t,e){var i,r,o,a,s,l,u,c=q[t+" "];if(c)return e?0:c.slice(0);for(s=t,l=[],u=E.preFilter;s;){(!i||(r=de.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=fe.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ue," ")}),s=s.slice(i.length));for(a in E.filter)!(r=ve[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return e?s.length:s?n.error(t):q(t,l).slice(0)}function h(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=I++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,l,u,c=$+" "+o;if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(u=e[O]||(e[O]={}),(l=u[i])&&l[0]===c){if((s=l[1])===!0||s===k)return s===!0}else if(l=u[i]=[c],l[1]=t(e,n,a)||k,l[1]===!0)return!0}}function g(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function m(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,u=null!=e;l>s;s++)(o=t[s])&&(!n||n(o,i,r))&&(a.push(o),u&&e.push(s));return a}function v(t,e,n,i,o,a){return i&&!i[O]&&(i=v(i)),o&&!o[O]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,d,f=[],h=[],p=a.length,g=r||x(e||"*",s.nodeType?[s]:s,[]),v=!t||!r&&e?g:m(g,f,t,s,l),y=n?o||(r?t:p||i)?[]:a:v;if(n&&n(v,y,s,l),i)for(u=m(y,h),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(y[h[c]]=!(v[h[c]]=d));if(r){if(o||t){if(o){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(v[c]=d);o(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=o?ne.call(r,d):f[c])>-1&&(r[u]=!(a[u]=d))}}else y=m(y===a?y.splice(p,y.length):y),o?o(null,a,y,l):te.apply(a,y)})}function y(t){for(var e,n,i,r=t.length,o=E.relative[t[0].type],a=o||E.relative[" "],s=o?1:0,l=p(function(t){return t===e},a,!0),u=p(function(t){return ne.call(e,t)>-1},a,!0),c=[function(t,n,i){return!o&&(i||n!==N)||((e=n).nodeType?l(t,n,i):u(t,n,i))}];r>s;s++)if(n=E.relative[t[s].type])c=[p(g(c),n)];else{if(n=E.filter[t[s].type].apply(null,t[s].matches),n[O]){for(i=++s;r>i&&!E.relative[t[i].type];i++);return v(s>1&&g(c),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ue,"$1"),n,i>s&&y(t.slice(s,i)),r>i&&y(t=t.slice(i)),r>i&&h(t))}c.push(n)}return g(c)}function b(t,e){var i=0,o=e.length>0,a=t.length>0,s=function(r,s,l,u,c){var d,f,h,p=[],g=0,v="0",y=r&&[],b=null!=c,x=N,_=r||a&&E.find.TAG("*",c&&s.parentNode||s),w=$+=null==x?1:Math.random()||.1;for(b&&(N=s!==D&&s,k=i);null!=(d=_[v]);v++){if(a&&d){for(f=0;h=t[f++];)if(h(d,s,l)){u.push(d);break}b&&($=w,k=++i)}o&&((d=!h&&d)&&g--,r&&y.push(d))}if(g+=v,o&&v!==g){for(f=0;h=e[f++];)h(y,p,s,l);if(r){if(g>0)for(;v--;)y[v]||p[v]||(p[v]=J.call(u));p=m(p)}te.apply(u,p),b&&!r&&p.length>0&&g+e.length>1&&n.uniqueSort(u)}return b&&($=w,N=x),y};return o?r(s):s}function x(t,e,i){for(var r=0,o=e.length;o>r;r++)n(t,e[r],i);return i}function _(t,e,n,i){var r,o,a,s,l,u=f(t);if(!i&&1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&C.getById&&9===e.nodeType&&L&&E.relative[o[1].type]){if(e=(E.find.ID(a.matches[0].replace(Ce,ke),e)||[])[0],!e)return n;t=t.slice(o.shift().value.length)}for(r=ve.needsContext.test(t)?0:o.length;r--&&(a=o[r],!E.relative[s=a.type]);)if((l=E.find[s])&&(i=l(a.matches[0].replace(Ce,ke),he.test(o[0].type)&&e.parentNode||e))){if(o.splice(r,1),t=i.length&&h(o),!t)return te.apply(n,i),n;break}}return T(t,u)(i,e,!L,n,he.test(t)),n}var w,C,k,E,S,M,T,N,A,R,D,H,L,F,B,P,j,O="sizzle"+-new Date,z=t.document,$=0,I=0,W=i(),q=i(),U=i(),V=!1,X=function(t,e){return t===e?(V=!0,0):0},Y=typeof e,K=1<<31,Z={}.hasOwnProperty,G=[],J=G.pop,Q=G.push,te=G.push,ee=G.slice,ne=G.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=oe.replace("w","w#"),se="\\["+re+"*("+oe+")"+re+"*(?:([*^$|!~]?=)"+re+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+re+"*\\]",le=":("+oe+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+se.replace(3,8)+")*)|.*)\\)|)",ue=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),de=new RegExp("^"+re+"*,"+re+"*"),fe=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),he=new RegExp(re+"*[+~]"),pe=new RegExp("="+re+"*([^\\]'\"]*)"+re+"*\\]","g"),ge=new RegExp(le),me=new RegExp("^"+ae+"$"),ve={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe.replace("w","w*")+")"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+le),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ie+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ye=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xe=/^(?:input|select|textarea|button)$/i,_e=/^h\d$/i,we=/'|\\/g,Ce=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),ke=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{te.apply(G=ee.call(z.childNodes),z.childNodes),G[z.childNodes.length].nodeType}catch(Ee){te={apply:G.length?function(t,e){Q.apply(t,ee.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}M=n.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},C=n.support={},R=n.setDocument=function(t){var e=t?t.ownerDocument||t:z,n=e.defaultView;return e!==D&&9===e.nodeType&&e.documentElement?(D=e,H=e.documentElement,L=!M(e),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){R()}),C.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),C.getElementsByTagName=o(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),C.getElementsByClassName=o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),C.getById=o(function(t){return H.appendChild(t).id=O,!e.getElementsByName||!e.getElementsByName(O).length}),C.getById?(E.find.ID=function(t,e){if(typeof e.getElementById!==Y&&L){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},E.filter.ID=function(t){var e=t.replace(Ce,ke);return function(t){return t.getAttribute("id")===e}}):(delete E.find.ID,E.filter.ID=function(t){var e=t.replace(Ce,ke);return function(t){var n=typeof t.getAttributeNode!==Y&&t.getAttributeNode("id");return n&&n.value===e}}),E.find.TAG=C.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==Y?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},E.find.CLASS=C.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==Y&&L?e.getElementsByClassName(t):void 0},B=[],F=[],(C.qsa=ye.test(e.querySelectorAll))&&(o(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||F.push("\\["+re+"*(?:value|"+ie+")"),t.querySelectorAll(":checked").length||F.push(":checked")}),o(function(t){var n=e.createElement("input");n.setAttribute("type","hidden"),t.appendChild(n).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&F.push("[*^$]="+re+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),F.push(",.*:")})),(C.matchesSelector=ye.test(P=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&o(function(t){C.disconnectedMatch=P.call(t,"div"),P.call(t,"[s!='']:x"),B.push("!=",le)}),F=F.length&&new RegExp(F.join("|")),B=B.length&&new RegExp(B.join("|")),j=ye.test(H.contains)||H.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},X=H.compareDocumentPosition?function(t,n){if(t===n)return V=!0,0;var i=n.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(n);return i?1&i||!C.sortDetached&&n.compareDocumentPosition(t)===i?t===e||j(z,t)?-1:n===e||j(z,n)?1:A?ne.call(A,t)-ne.call(A,n):0:4&i?-1:1:t.compareDocumentPosition?-1:1}:function(t,n){var i,r=0,o=t.parentNode,a=n.parentNode,l=[t],u=[n];if(t===n)return V=!0,0;if(!o||!a)return t===e?-1:n===e?1:o?-1:a?1:A?ne.call(A,t)-ne.call(A,n):0;if(o===a)return s(t,n);for(i=t;i=i.parentNode;)l.unshift(i);for(i=n;i=i.parentNode;)u.unshift(i);for(;l[r]===u[r];)r++;return r?s(l[r],u[r]):l[r]===z?-1:u[r]===z?1:0},e):D},n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){if((t.ownerDocument||t)!==D&&R(t),e=e.replace(pe,"='$1']"),!(!C.matchesSelector||!L||B&&B.test(e)||F&&F.test(e)))try{var i=P.call(t,e);if(i||C.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return n(e,D,null,[t]).length>0},n.contains=function(t,e){return(t.ownerDocument||t)!==D&&R(t),j(t,e)},n.attr=function(t,n){(t.ownerDocument||t)!==D&&R(t);var i=E.attrHandle[n.toLowerCase()],r=i&&Z.call(E.attrHandle,n.toLowerCase())?i(t,n,!L):e;return r===e?C.attributes||!L?t.getAttribute(n):(r=t.getAttributeNode(n))&&r.specified?r.value:null:r},n.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},n.uniqueSort=function(t){var e,n=[],i=0,r=0;if(V=!C.detectDuplicates,A=!C.sortStable&&t.slice(0),t.sort(X),V){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return t},S=n.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i];i++)n+=S(e);return n},E=n.selectors={cacheLength:50,createPseudo:r,match:ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Ce,ke),t[3]=(t[4]||t[5]||"").replace(Ce,ke),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||n.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&n.error(t[0]),t},PSEUDO:function(t){var n,i=!t[5]&&t[2];return ve.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:i&&ge.test(i)&&(n=f(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(t[0]=t[0].slice(0,n),t[2]=i.slice(0,n)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Ce,ke).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+re+")"+t+"("+re+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Y&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(r){var o=n.attr(r,t);return null==o?"!="===e:e?(o+="","="===e?o===i:"!="===e?o!==i:"^="===e?i&&0===o.indexOf(i):"*="===e?i&&o.indexOf(i)>-1:"$="===e?i&&o.slice(-i.length)===i:"~="===e?(" "+o+" ").indexOf(i)>-1:"|="===e?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,f,h,p,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(c=m[O]||(m[O]={}),u=c[t]||[],h=u[0]===$&&u[1],f=u[0]===$&&u[2],d=h&&m.childNodes[h];d=++h&&d&&d[g]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===e){c[t]=[$,h,f];break}}else if(y&&(u=(e[O]||(e[O]={}))[t])&&u[0]===$)f=u[1];else for(;(d=++h&&d&&d[g]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[O]||(d[O]={}))[t]=[$,f]),d!==e)););return f-=r,f===i||0===f%i&&f/i>=0}}},PSEUDO:function(t,e){var i,o=E.pseudos[t]||E.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return o[O]?o(e):o.length>1?(i=[t,t,"",e],E.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,n){for(var i,r=o(t,e),a=r.length;a--;)i=ne.call(t,r[a]),t[i]=!(n[i]=r[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=T(t.replace(ue,"$1"));return i[O]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:r(function(t){return function(e){return n(t,e).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:r(function(t){return me.test(t||"")||n.error("unsupported lang: "+t),t=t.replace(Ce,ke).toLowerCase(),function(e){var n;do if(n=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===H},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!E.pseudos.empty(t)},header:function(t){return _e.test(t.nodeName)},input:function(t){return xe.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},E.pseudos.nth=E.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[w]=l(w);for(w in{submit:!0,reset:!0})E.pseudos[w]=u(w);d.prototype=E.filters=E.pseudos,E.setFilters=new d,T=n.compile=function(t,e){var n,i=[],r=[],o=U[t+" "];if(!o){for(e||(e=f(t)),n=e.length;n--;)o=y(e[n]),o[O]?i.push(o):r.push(o);o=U(t,b(r,i))}return o},C.sortStable=O.split("").sort(X).join("")===O,C.detectDuplicates=V,R(),C.sortDetached=o(function(t){return 1&t.compareDocumentPosition(D.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),C.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||a(ie,function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&i.specified?i.value:t[e]===!0?e.toLowerCase():null}),ce.find=n,ce.expr=n.selectors,ce.expr[":"]=ce.expr.pseudos,ce.unique=n.uniqueSort,ce.text=n.getText,ce.isXMLDoc=n.isXML,ce.contains=n.contains}(t);var Ee={};ce.Callbacks=function(t){t="string"==typeof t?Ee[t]||i(t):ce.extend({},t);var n,r,o,a,s,l,u=[],c=!t.once&&[],d=function(e){for(r=t.memory&&e,o=!0,s=l||0,l=0,a=u.length,n=!0;u&&a>s;s++)if(u[s].apply(e[0],e[1])===!1&&t.stopOnFalse){r=!1;break}n=!1,u&&(c?c.length&&d(c.shift()):r?u=[]:f.disable())},f={add:function(){if(u){var e=u.length;!function i(e){ce.each(e,function(e,n){var r=ce.type(n);"function"===r?t.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),n?a=u.length:r&&(l=e,d(r))}return this},remove:function(){return u&&ce.each(arguments,function(t,e){for(var i;(i=ce.inArray(e,u,i))>-1;)u.splice(i,1),n&&(a>=i&&a--,s>=i&&s--)}),this},has:function(t){return t?ce.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=c=r=e,this},disabled:function(){return!u},lock:function(){return c=e,r||f.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!u||o&&!c||(e=e||[],e=[t,e.slice?e.slice():e],n?c.push(e):d(e)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},ce.extend({Deferred:function(t){var e=[["resolve","done",ce.Callbacks("once memory"),"resolved"],["reject","fail",ce.Callbacks("once memory"),"rejected"],["notify","progress",ce.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ce.Deferred(function(n){ce.each(e,function(e,o){var a=o[0],s=ce.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&ce.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ce.extend(t,i):i}},r={};return i.pipe=i.then,ce.each(e,function(t,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=oe.call(arguments),a=o.length,s=1!==a||t&&ce.isFunction(t.promise)?a:0,l=1===s?t:ce.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?oe.call(arguments):r,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&ce.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,e)):--s;return s||l.resolveWith(i,o),l.promise()}}),ce.support=function(e){var n,i,r,o,a,s,l,u,c,d=Z.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],i=d.getElementsByTagName("a")[0],!i||!i.style||!n.length)return e;o=Z.createElement("select"),s=o.appendChild(Z.createElement("option")),r=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==d.className,e.leadingWhitespace=3===d.firstChild.nodeType,e.tbody=!d.getElementsByTagName("tbody").length,e.htmlSerialize=!!d.getElementsByTagName("link").length,e.style=/top/.test(i.getAttribute("style")),e.hrefNormalized="/a"===i.getAttribute("href"),e.opacity=/^0.5/.test(i.style.opacity),e.cssFloat=!!i.style.cssFloat,e.checkOn=!!r.value,e.optSelected=s.selected,e.enctype=!!Z.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==Z.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,r.checked=!0,e.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!s.disabled;try{delete d.test}catch(f){e.deleteExpando=!1}r=Z.createElement("input"),r.setAttribute("value",""),e.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),e.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),a=Z.createDocumentFragment(),a.appendChild(r),e.appendChecked=r.checked,e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){e.noCloneEvent=!1}),d.cloneNode(!0).click());for(c in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+c,"t"),e[c+"Bubbles"]=l in t||d.attributes[l].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===d.style.backgroundClip;for(c in ce(e))break;return e.ownLast="0"!==c,ce(function(){var n,i,r,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=Z.getElementsByTagName("body")[0];a&&(n=Z.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=d.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=u&&0===r[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ce.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===d.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(d,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(d,null)||{width:"4px"}).width,i=d.appendChild(Z.createElement("div")),i.style.cssText=d.style.cssText=o,i.style.marginRight=i.style.width="0",d.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(i,null)||{}).marginRight)),typeof d.style.zoom!==Y&&(d.innerHTML="",d.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==d.offsetWidth,e.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=d=r=i=null)}),n=o=a=s=i=r=null,e}({});var Se=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Me=/([A-Z])/g;ce.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ce.cache[t[ce.expando]]:t[ce.expando],!!t&&!s(t)},data:function(t,e,n){return r(t,e,n)},removeData:function(t,e){return o(t,e)},_data:function(t,e,n){return r(t,e,n,!0)},_removeData:function(t,e){return o(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&ce.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),ce.fn.extend({data:function(t,n){var i,r,o=null,s=0,l=this[0];if(t===e){if(this.length&&(o=ce.data(l),1===l.nodeType&&!ce._data(l,"parsedAttrs"))){for(i=l.attributes;s<i.length;s++)r=i[s].name,0===r.indexOf("data-")&&(r=ce.camelCase(r.slice(5)),a(l,r,o[r]));ce._data(l,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){ce.data(this,t)}):arguments.length>1?this.each(function(){ce.data(this,t,n)}):l?a(l,t,ce.data(l,t)):null},removeData:function(t){return this.each(function(){ce.removeData(this,t)})}}),ce.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=ce._data(t,e),n&&(!i||ce.isArray(n)?i=ce._data(t,e,ce.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ce.queue(t,e),i=n.length,r=n.shift(),o=ce._queueHooks(t,e),a=function(){ce.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ce._data(t,n)||ce._data(t,n,{empty:ce.Callbacks("once memory").add(function(){ce._removeData(t,e+"queue"),ce._removeData(t,n)})})}}),ce.fn.extend({queue:function(t,n){var i=2;return"string"!=typeof t&&(n=t,t="fx",i--),arguments.length<i?ce.queue(this[0],t):n===e?this:this.each(function(){var e=ce.queue(this,t,n);ce._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ce.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ce.dequeue(this,t)})},delay:function(t,e){return t=ce.fx?ce.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var i,r=1,o=ce.Deferred(),a=this,s=this.length,l=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";s--;)i=ce._data(a[s],t+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var Te,Ne,Ae=/[\t\r\n\f]/g,Re=/\r/g,De=/^(?:input|select|textarea|button|object)$/i,He=/^(?:a|area)$/i,Le=/^(?:checked|selected)$/i,Fe=ce.support.getSetAttribute,Be=ce.support.input;ce.fn.extend({attr:function(t,e){return ce.access(this,ce.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ce.removeAttr(this,t)})},prop:function(t,e){return ce.access(this,ce.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ce.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(n){}})},addClass:function(t){var e,n,i,r,o,a=0,s=this.length,l="string"==typeof t&&t;if(ce.isFunction(t))return this.each(function(e){ce(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(fe)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ae," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");
n.className=ce.trim(i)}return this},removeClass:function(t){var e,n,i,r,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof t&&t;if(ce.isFunction(t))return this.each(function(e){ce(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(fe)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ae," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=t?ce.trim(i):""}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ce.isFunction(t)?this.each(function(n){ce(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,r=ce(this),o=t.match(fe)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===Y||"boolean"===n)&&(this.className&&ce._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ce._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ae," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,i,r,o=this[0];{if(arguments.length)return r=ce.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=r?t.call(this,n,ce(this).val()):t,null==o?o="":"number"==typeof o?o+="":ce.isArray(o)&&(o=ce.map(o,function(t){return null==t?"":t+""})),i=ce.valHooks[this.type]||ce.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==e||(this.value=o))});if(o)return i=ce.valHooks[o.type]||ce.valHooks[o.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(o,"value"))!==e?n:(n=o.value,"string"==typeof n?n.replace(Re,""):null==n?"":n)}}}),ce.extend({valHooks:{option:{get:function(t){var e=ce.find.attr(t,"value");return null!=e?e:t.text}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(ce.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ce.nodeName(n.parentNode,"optgroup"))){if(e=ce(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=ce.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=ce.inArray(ce(i).val(),o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}},attr:function(t,n,i){var r,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return typeof t.getAttribute===Y?ce.prop(t,n,i):(1===a&&ce.isXMLDoc(t)||(n=n.toLowerCase(),r=ce.attrHooks[n]||(ce.expr.match.bool.test(n)?Ne:Te)),i===e?r&&"get"in r&&null!==(o=r.get(t,n))?o:(o=ce.find.attr(t,n),null==o?e:o):null!==i?r&&"set"in r&&(o=r.set(t,i,n))!==e?o:(t.setAttribute(n,i+""),i):(ce.removeAttr(t,n),void 0))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(fe);if(o&&1===t.nodeType)for(;n=o[r++];)i=ce.propFix[n]||n,ce.expr.match.bool.test(n)?Be&&Fe||!Le.test(n)?t[i]=!1:t[ce.camelCase("default-"+n)]=t[i]=!1:ce.attr(t,n,""),t.removeAttribute(Fe?n:i)},attrHooks:{type:{set:function(t,e){if(!ce.support.radioValue&&"radio"===e&&ce.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,n,i){var r,o,a,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return a=1!==s||!ce.isXMLDoc(t),a&&(n=ce.propFix[n]||n,o=ce.propHooks[n]),i!==e?o&&"set"in o&&(r=o.set(t,i,n))!==e?r:t[n]=i:o&&"get"in o&&null!==(r=o.get(t,n))?r:t[n]},propHooks:{tabIndex:{get:function(t){var e=ce.find.attr(t,"tabindex");return e?parseInt(e,10):De.test(t.nodeName)||He.test(t.nodeName)&&t.href?0:-1}}}}),Ne={set:function(t,e,n){return e===!1?ce.removeAttr(t,n):Be&&Fe||!Le.test(n)?t.setAttribute(!Fe&&ce.propFix[n]||n,n):t[ce.camelCase("default-"+n)]=t[n]=!0,n}},ce.each(ce.expr.match.bool.source.match(/\w+/g),function(t,n){var i=ce.expr.attrHandle[n]||ce.find.attr;ce.expr.attrHandle[n]=Be&&Fe||!Le.test(n)?function(t,n,r){var o=ce.expr.attrHandle[n],a=r?e:(ce.expr.attrHandle[n]=e)!=i(t,n,r)?n.toLowerCase():null;return ce.expr.attrHandle[n]=o,a}:function(t,n,i){return i?e:t[ce.camelCase("default-"+n)]?n.toLowerCase():null}}),Be&&Fe||(ce.attrHooks.value={set:function(t,e,n){return ce.nodeName(t,"input")?(t.defaultValue=e,void 0):Te&&Te.set(t,e,n)}}),Fe||(Te={set:function(t,n,i){var r=t.getAttributeNode(i);return r||t.setAttributeNode(r=t.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===t.getAttribute(i)?n:e}},ce.expr.attrHandle.id=ce.expr.attrHandle.name=ce.expr.attrHandle.coords=function(t,n,i){var r;return i?e:(r=t.getAttributeNode(n))&&""!==r.value?r.value:null},ce.valHooks.button={get:function(t,n){var i=t.getAttributeNode(n);return i&&i.specified?i.value:e},set:Te.set},ce.attrHooks.contenteditable={set:function(t,e,n){Te.set(t,""===e?!1:e,n)}},ce.each(["width","height"],function(t,e){ce.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),ce.support.hrefNormalized||ce.each(["href","src"],function(t,e){ce.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ce.support.style||(ce.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""}}),ce.support.optSelected||(ce.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ce.propFix[this.toLowerCase()]=this}),ce.support.enctype||(ce.propFix.enctype="encoding"),ce.each(["radio","checkbox"],function(){ce.valHooks[this]={set:function(t,e){return ce.isArray(e)?t.checked=ce.inArray(ce(t).val(),e)>=0:void 0}},ce.support.checkOn||(ce.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Pe=/^(?:input|select|textarea)$/i,je=/^key/,Oe=/^(?:mouse|contextmenu)|click/,ze=/^(?:focusinfocus|focusoutblur)$/,$e=/^([^.]*)(?:\.(.+)|)$/;ce.event={global:{},add:function(t,n,i,r,o){var a,s,l,u,c,d,f,h,p,g,m,v=ce._data(t);if(v){for(i.handler&&(u=i,i=u.handler,o=u.selector),i.guid||(i.guid=ce.guid++),(s=v.events)||(s=v.events={}),(d=v.handle)||(d=v.handle=function(t){return typeof ce===Y||t&&ce.event.triggered===t.type?e:ce.event.dispatch.apply(d.elem,arguments)},d.elem=t),n=(n||"").match(fe)||[""],l=n.length;l--;)a=$e.exec(n[l])||[],p=m=a[1],g=(a[2]||"").split(".").sort(),p&&(c=ce.event.special[p]||{},p=(o?c.delegateType:c.bindType)||p,c=ce.event.special[p]||{},f=ce.extend({type:p,origType:m,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&ce.expr.match.needsContext.test(o),namespace:g.join(".")},u),(h=s[p])||(h=s[p]=[],h.delegateCount=0,c.setup&&c.setup.call(t,r,g,d)!==!1||(t.addEventListener?t.addEventListener(p,d,!1):t.attachEvent&&t.attachEvent("on"+p,d))),c.add&&(c.add.call(t,f),f.handler.guid||(f.handler.guid=i.guid)),o?h.splice(h.delegateCount++,0,f):h.push(f),ce.event.global[p]=!0);t=null}},remove:function(t,e,n,i,r){var o,a,s,l,u,c,d,f,h,p,g,m=ce.hasData(t)&&ce._data(t);if(m&&(c=m.events)){for(e=(e||"").match(fe)||[""],u=e.length;u--;)if(s=$e.exec(e[u])||[],h=g=s[1],p=(s[2]||"").split(".").sort(),h){for(d=ce.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,f=c[h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;o--;)a=f[o],!r&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(t,a));l&&!f.length&&(d.teardown&&d.teardown.call(t,p,m.handle)!==!1||ce.removeEvent(t,h,m.handle),delete c[h])}else for(h in c)ce.event.remove(t,h+e[u],n,i,!0);ce.isEmptyObject(c)&&(delete m.handle,ce._removeData(t,"events"))}},trigger:function(n,i,r,o){var a,s,l,u,c,d,f,h=[r||Z],p=le.call(n,"type")?n.type:n,g=le.call(n,"namespace")?n.namespace.split("."):[];if(l=d=r=r||Z,3!==r.nodeType&&8!==r.nodeType&&!ze.test(p+ce.event.triggered)&&(p.indexOf(".")>=0&&(g=p.split("."),p=g.shift(),g.sort()),s=p.indexOf(":")<0&&"on"+p,n=n[ce.expando]?n:new ce.Event(p,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=e,n.target||(n.target=r),i=null==i?[n]:ce.makeArray(i,[n]),c=ce.event.special[p]||{},o||!c.trigger||c.trigger.apply(r,i)!==!1)){if(!o&&!c.noBubble&&!ce.isWindow(r)){for(u=c.delegateType||p,ze.test(u+p)||(l=l.parentNode);l;l=l.parentNode)h.push(l),d=l;d===(r.ownerDocument||Z)&&h.push(d.defaultView||d.parentWindow||t)}for(f=0;(l=h[f++])&&!n.isPropagationStopped();)n.type=f>1?u:c.bindType||p,a=(ce._data(l,"events")||{})[n.type]&&ce._data(l,"handle"),a&&a.apply(l,i),a=s&&l[s],a&&ce.acceptData(l)&&a.apply&&a.apply(l,i)===!1&&n.preventDefault();if(n.type=p,!o&&!n.isDefaultPrevented()&&(!c._default||c._default.apply(h.pop(),i)===!1)&&ce.acceptData(r)&&s&&r[p]&&!ce.isWindow(r)){d=r[s],d&&(r[s]=null),ce.event.triggered=p;try{r[p]()}catch(m){}ce.event.triggered=e,d&&(r[s]=d)}return n.result}},dispatch:function(t){t=ce.event.fix(t);var n,i,r,o,a,s=[],l=oe.call(arguments),u=(ce._data(this,"events")||{})[t.type]||[],c=ce.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(s=ce.event.handlers.call(this,t,u),n=0;(o=s[n++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,a=0;(r=o.handlers[a++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,i=((ce.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),i!==e&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,n){var i,r,o,a,s=[],l=n.delegateCount,u=t.target;if(l&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(o=[],a=0;l>a;a++)r=n[a],i=r.selector+" ",o[i]===e&&(o[i]=r.needsContext?ce(i,this).index(u)>=0:ce.find(i,this,null,[u]).length),o[i]&&o.push(r);o.length&&s.push({elem:u,handlers:o})}return l<n.length&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(t){if(t[ce.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Oe.test(r)?this.mouseHooks:je.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new ce.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=o.srcElement||Z),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var i,r,o,a=n.button,s=n.fromElement;return null==t.pageX&&null!=n.clientX&&(r=t.target.ownerDocument||Z,o=r.documentElement,i=r.body,t.pageX=n.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),t.pageY=n.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?n.toElement:s),t.which||a===e||(t.which=1&a?1:2&a?3:4&a?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==c()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ce.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ce.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=ce.extend(new ce.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?ce.event.trigger(r,null,e):ce.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},ce.removeEvent=Z.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===Y&&(t[i]=null),t.detachEvent(i,n))},ce.Event=function(t,e){return this instanceof ce.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:u):this.type=t,e&&ce.extend(this,e),this.timeStamp=t&&t.timeStamp||ce.now(),this[ce.expando]=!0,void 0):new ce.Event(t,e)},ce.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ce.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){ce.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!ce.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ce.support.submitBubbles||(ce.event.special.submit={setup:function(){return ce.nodeName(this,"form")?!1:(ce.event.add(this,"click._submit keypress._submit",function(t){var n=t.target,i=ce.nodeName(n,"input")||ce.nodeName(n,"button")?n.form:e;i&&!ce._data(i,"submitBubbles")&&(ce.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),ce._data(i,"submitBubbles",!0))}),void 0)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ce.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return ce.nodeName(this,"form")?!1:(ce.event.remove(this,"._submit"),void 0)}}),ce.support.changeBubbles||(ce.event.special.change={setup:function(){return Pe.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ce.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ce.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ce.event.simulate("change",this,t,!0)})),!1):(ce.event.add(this,"beforeactivate._change",function(t){var e=t.target;Pe.test(e.nodeName)&&!ce._data(e,"changeBubbles")&&(ce.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ce.event.simulate("change",this.parentNode,t,!0)}),ce._data(e,"changeBubbles",!0))}),void 0)},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ce.event.remove(this,"._change"),!Pe.test(this.nodeName)}}),ce.support.focusinBubbles||ce.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){ce.event.simulate(e,t.target,ce.event.fix(t),!0)};ce.event.special[e]={setup:function(){0===n++&&Z.addEventListener(t,i,!0)},teardown:function(){0===--n&&Z.removeEventListener(t,i,!0)}}}),ce.fn.extend({on:function(t,n,i,r,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=e);for(a in t)this.on(a,n,i,t[a],o);return this}if(null==i&&null==r?(r=n,i=n=e):null==r&&("string"==typeof n?(r=i,i=e):(r=i,i=n,n=e)),r===!1)r=u;else if(!r)return this;return 1===o&&(s=r,r=function(t){return ce().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ce.guid++)),this.each(function(){ce.event.add(this,t,r,i,n)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,n,i){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,ce(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,n,t[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=e),i===!1&&(i=u),this.each(function(){ce.event.remove(this,t,i,n)})},trigger:function(t,e){return this.each(function(){ce.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ce.event.trigger(t,e,n,!0):void 0}});var Ie=/^.[^:#\[\.,]*$/,We=/^(?:parents|prev(?:Until|All))/,qe=ce.expr.match.needsContext,Ue={children:!0,contents:!0,next:!0,prev:!0};ce.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(ce(t).filter(function(){for(e=0;r>e;e++)if(ce.contains(i[e],this))return!0}));for(e=0;r>e;e++)ce.find(t,i[e],n);return n=this.pushStack(r>1?ce.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},has:function(t){var e,n=ce(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(ce.contains(this,n[e]))return!0})},not:function(t){return this.pushStack(f(this,t||[],!0))},filter:function(t){return this.pushStack(f(this,t||[],!1))},is:function(t){return!!f(this,"string"==typeof t&&qe.test(t)?ce(t):t||[],!1).length},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=qe.test(t)||"string"!=typeof t?ce(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ce.find.matchesSelector(n,t))){n=o.push(n);break}return this.pushStack(o.length>1?ce.unique(o):o)},index:function(t){return t?"string"==typeof t?ce.inArray(this[0],ce(t)):ce.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?ce(t,e):ce.makeArray(t&&t.nodeType?[t]:t),i=ce.merge(this.get(),n);return this.pushStack(ce.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ce.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ce.dir(t,"parentNode")},parentsUntil:function(t,e,n){return ce.dir(t,"parentNode",n)},next:function(t){return d(t,"nextSibling")},prev:function(t){return d(t,"previousSibling")},nextAll:function(t){return ce.dir(t,"nextSibling")},prevAll:function(t){return ce.dir(t,"previousSibling")},nextUntil:function(t,e,n){return ce.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return ce.dir(t,"previousSibling",n)},siblings:function(t){return ce.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ce.sibling(t.firstChild)},contents:function(t){return ce.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ce.merge([],t.childNodes)}},function(t,e){ce.fn[t]=function(n,i){var r=ce.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ce.filter(i,r)),this.length>1&&(Ue[t]||(r=ce.unique(r)),We.test(t)&&(r=r.reverse())),this.pushStack(r)}}),ce.extend({filter:function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ce.find.matchesSelector(i,t)?[i]:[]:ce.find.matches(t,ce.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,n,i){for(var r=[],o=t[n];o&&9!==o.nodeType&&(i===e||1!==o.nodeType||!ce(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Ve="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Xe=/ jQuery\d+="(?:null|\d+)"/g,Ye=new RegExp("<(?:"+Ve+")[\\s/>]","i"),Ke=/^\s+/,Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ge=/<([\w:]+)/,Je=/<tbody/i,Qe=/<|&#?\w+;/,tn=/<(?:script|style|link)/i,en=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,an=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ce.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=h(Z),un=ln.appendChild(Z.createElement("div"));sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,ce.fn.extend({text:function(t){return ce.access(this,function(t){return t===e?ce.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Z).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?ce.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||ce.cleanData(x(n)),n.parentNode&&(e&&ce.contains(n.ownerDocument,n)&&v(x(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ce.cleanData(x(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ce.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ce.clone(this,t,e)})},html:function(t){return ce.access(this,function(t){var n=this[0]||{},i=0,r=this.length;if(t===e)return 1===n.nodeType?n.innerHTML.replace(Xe,""):e;if(!("string"!=typeof t||tn.test(t)||!ce.support.htmlSerialize&&Ye.test(t)||!ce.support.leadingWhitespace&&Ke.test(t)||sn[(Ge.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Ze,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(ce.cleanData(x(n,!1)),n.innerHTML=t);n=0}catch(o){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=ce.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(n){var i=t[e++],r=t[e++];r&&(i&&i.parentNode!==r&&(i=this.nextSibling),ce(this).remove(),r.insertBefore(n,i))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=ie.apply([],t);var i,r,o,a,s,l,u=0,c=this.length,d=this,f=c-1,h=t[0],p=ce.isFunction(h);if(p||!(1>=c||"string"!=typeof h||ce.support.checkClone)&&nn.test(h))return this.each(function(i){var r=d.eq(i);p&&(t[0]=h.call(this,i,r.html())),r.domManip(t,e,n)});if(c&&(l=ce.buildFragment(t,this[0].ownerDocument,!1,!n&&this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(a=ce.map(x(l,"script"),g),o=a.length;c>u;u++)r=l,u!==f&&(r=ce.clone(r,!0,!0),o&&ce.merge(a,x(r,"script"))),e.call(this[u],r,u);if(o)for(s=a[a.length-1].ownerDocument,ce.map(a,m),u=0;o>u;u++)r=a[u],rn.test(r.type||"")&&!ce._data(r,"globalEval")&&ce.contains(s,r)&&(r.src?ce._evalUrl(r.src):ce.globalEval((r.text||r.textContent||r.innerHTML||"").replace(an,"")));l=i=null}return this}}),ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ce.fn[t]=function(t){for(var n,i=0,r=[],o=ce(t),a=o.length-1;a>=i;i++)n=i===a?this:this.clone(!0),ce(o[i])[e](n),re.apply(r,n.get());return this.pushStack(r)}}),ce.extend({clone:function(t,e,n){var i,r,o,a,s,l=ce.contains(t.ownerDocument,t);if(ce.support.html5Clone||ce.isXMLDoc(t)||!Ye.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(un.innerHTML=t.outerHTML,un.removeChild(o=un.firstChild)),!(ce.support.noCloneEvent&&ce.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ce.isXMLDoc(t)))for(i=x(o),s=x(t),a=0;null!=(r=s[a]);++a)i[a]&&b(r,i[a]);if(e)if(n)for(s=s||x(t),i=i||x(o),a=0;null!=(r=s[a]);a++)y(r,i[a]);else y(t,o);return i=x(o,"script"),i.length>0&&v(i,!l&&x(t,"script")),i=s=r=null,o},buildFragment:function(t,e,n,i){for(var r,o,a,s,l,u,c,d=t.length,f=h(e),p=[],g=0;d>g;g++)if(o=t[g],o||0===o)if("object"===ce.type(o))ce.merge(p,o.nodeType?[o]:o);else if(Qe.test(o)){for(s=s||f.appendChild(e.createElement("div")),l=(Ge.exec(o)||["",""])[1].toLowerCase(),c=sn[l]||sn._default,s.innerHTML=c[1]+o.replace(Ze,"<$1></$2>")+c[2],r=c[0];r--;)s=s.lastChild;if(!ce.support.leadingWhitespace&&Ke.test(o)&&p.push(e.createTextNode(Ke.exec(o)[0])),!ce.support.tbody)for(o="table"!==l||Je.test(o)?"<table>"!==c[1]||Je.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)ce.nodeName(u=o.childNodes[r],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(ce.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(e.createTextNode(o));for(s&&f.removeChild(s),ce.support.appendChecked||ce.grep(x(p,"input"),_),g=0;o=p[g++];)if((!i||-1===ce.inArray(o,i))&&(a=ce.contains(o.ownerDocument,o),s=x(f.appendChild(o),"script"),a&&v(s),n))for(r=0;o=s[r++];)rn.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(t,e){for(var n,i,r,o,a=0,s=ce.expando,l=ce.cache,u=ce.support.deleteExpando,c=ce.event.special;null!=(n=t[a]);a++)if((e||ce.acceptData(n))&&(r=n[s],o=r&&l[r])){if(o.events)for(i in o.events)c[i]?ce.event.remove(n,i):ce.removeEvent(n,i,o.handle);l[r]&&(delete l[r],u?delete n[s]:typeof n.removeAttribute!==Y?n.removeAttribute(s):n[s]=null,ee.push(r))}},_evalUrl:function(t){return ce.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ce.fn.extend({wrapAll:function(t){if(ce.isFunction(t))return this.each(function(e){ce(this).wrapAll(t.call(this,e))});if(this[0]){var e=ce(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ce.isFunction(t)?this.each(function(e){ce(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ce(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ce.isFunction(t);return this.each(function(n){ce(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ce.nodeName(this,"body")||ce(this).replaceWith(this.childNodes)}).end()}});var cn,dn,fn,hn=/alpha\([^)]*\)/i,pn=/opacity\s*=\s*([^)]*)/,gn=/^(top|right|bottom|left)$/,mn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=new RegExp("^("+de+")(.*)$","i"),bn=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),xn=new RegExp("^([+-])=("+de+")","i"),_n={BODY:"block"},wn={position:"absolute",visibility:"hidden",display:"block"},Cn={letterSpacing:0,fontWeight:400},kn=["Top","Right","Bottom","Left"],En=["Webkit","O","Moz","ms"];ce.fn.extend({css:function(t,n){return ce.access(this,function(t,n,i){var r,o,a={},s=0;if(ce.isArray(n)){for(o=dn(t),r=n.length;r>s;s++)a[n[s]]=ce.css(t,n[s],!1,o);return a}return i!==e?ce.style(t,n,i):ce.css(t,n)},t,n,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){C(this)?ce(this).show():ce(this).hide()})}}),ce.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=fn(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ce.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,n,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,s,l=ce.camelCase(n),u=t.style;if(n=ce.cssProps[l]||(ce.cssProps[l]=w(u,l)),s=ce.cssHooks[n]||ce.cssHooks[l],i===e)return s&&"get"in s&&(o=s.get(t,!1,r))!==e?o:u[n];if(a=typeof i,"string"===a&&(o=xn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(ce.css(t,n)),a="number"),!(null==i||"number"===a&&isNaN(i)||("number"!==a||ce.cssNumber[l]||(i+="px"),ce.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(i=s.set(t,i,r))===e)))try{u[n]=i}catch(c){}}},css:function(t,n,i,r){var o,a,s,l=ce.camelCase(n);return n=ce.cssProps[l]||(ce.cssProps[l]=w(t.style,l)),s=ce.cssHooks[n]||ce.cssHooks[l],s&&"get"in s&&(a=s.get(t,!0,i)),a===e&&(a=fn(t,n,r)),"normal"===a&&n in Cn&&(a=Cn[n]),""===i||i?(o=parseFloat(a),i===!0||ce.isNumeric(o)?o||0:a):a}}),t.getComputedStyle?(dn=function(e){return t.getComputedStyle(e,null)},fn=function(t,n,i){var r,o,a,s=i||dn(t),l=s?s.getPropertyValue(n)||s[n]:e,u=t.style;return s&&(""!==l||ce.contains(t.ownerDocument,t)||(l=ce.style(t,n)),bn.test(l)&&vn.test(n)&&(r=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=r,u.minWidth=o,u.maxWidth=a)),l}):Z.documentElement.currentStyle&&(dn=function(t){return t.currentStyle},fn=function(t,n,i){var r,o,a,s=i||dn(t),l=s?s[n]:e,u=t.style;return null==l&&u&&u[n]&&(l=u[n]),bn.test(l)&&!gn.test(n)&&(r=u.left,o=t.runtimeStyle,a=o&&o.left,a&&(o.left=t.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=r,a&&(o.left=a)),""===l?"auto":l}),ce.each(["height","width"],function(t,e){ce.cssHooks[e]={get:function(t,n,i){return n?0===t.offsetWidth&&mn.test(ce.css(t,"display"))?ce.swap(t,wn,function(){return M(t,e,i)}):M(t,e,i):void 0},set:function(t,n,i){var r=i&&dn(t);return E(t,n,i?S(t,e,i,ce.support.boxSizing&&"border-box"===ce.css(t,"boxSizing",!1,r),r):0)}}}),ce.support.opacity||(ce.cssHooks.opacity={get:function(t,e){return pn.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=ce.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ce.trim(o.replace(hn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=hn.test(o)?o.replace(hn,r):o+" "+r)}}),ce(function(){ce.support.reliableMarginRight||(ce.cssHooks.marginRight={get:function(t,e){return e?ce.swap(t,{display:"inline-block"},fn,[t,"marginRight"]):void 0}}),!ce.support.pixelPosition&&ce.fn.position&&ce.each(["top","left"],function(t,e){ce.cssHooks[e]={get:function(t,n){return n?(n=fn(t,e),bn.test(n)?ce(t).position()[e]+"px":n):void 0}}})}),ce.expr&&ce.expr.filters&&(ce.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!ce.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||ce.css(t,"display"))},ce.expr.filters.visible=function(t){return!ce.expr.filters.hidden(t)}),ce.each({margin:"",padding:"",border:"Width"},function(t,e){ce.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+kn[i]+e]=o[i]||o[i-2]||o[0];return r}},vn.test(t)||(ce.cssHooks[t+e].set=E)});var Sn=/%20/g,Mn=/\[\]$/,Tn=/\r?\n/g,Nn=/^(?:submit|button|image|reset|file)$/i,An=/^(?:input|select|textarea|keygen)/i;ce.fn.extend({serialize:function(){return ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ce.prop(this,"elements");return t?ce.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ce(this).is(":disabled")&&An.test(this.nodeName)&&!Nn.test(t)&&(this.checked||!en.test(t))}).map(function(t,e){var n=ce(this).val();return null==n?null:ce.isArray(n)?ce.map(n,function(t){return{name:e.name,value:t.replace(Tn,"\r\n")}}):{name:e.name,value:n.replace(Tn,"\r\n")}}).get()}}),ce.param=function(t,n){var i,r=[],o=function(t,e){e=ce.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=ce.ajaxSettings&&ce.ajaxSettings.traditional),ce.isArray(t)||t.jquery&&!ce.isPlainObject(t))ce.each(t,function(){o(this.name,this.value)});else for(i in t)A(i,t[i],n,o);return r.join("&").replace(Sn,"+")},ce.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ce.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ce.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Rn,Dn,Hn=ce.now(),Ln=/\?/,Fn=/#.*$/,Bn=/([?&])_=[^&]*/,Pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,jn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,On=/^(?:GET|HEAD)$/,zn=/^\/\//,$n=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,In=ce.fn.load,Wn={},qn={},Un="*/".concat("*");
try{Dn=K.href}catch(Vn){Dn=Z.createElement("a"),Dn.href="",Dn=Dn.href}Rn=$n.exec(Dn.toLowerCase())||[],ce.fn.load=function(t,n,i){if("string"!=typeof t&&In)return In.apply(this,arguments);var r,o,a,s=this,l=t.indexOf(" ");return l>=0&&(r=t.slice(l,t.length),t=t.slice(0,l)),ce.isFunction(n)?(i=n,n=e):n&&"object"==typeof n&&(a="POST"),s.length>0&&ce.ajax({url:t,type:a,dataType:"html",data:n}).done(function(t){o=arguments,s.html(r?ce("<div>").append(ce.parseHTML(t)).find(r):t)}).complete(i&&function(t,e){s.each(i,o||[t.responseText,e,t])}),this},ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ce.fn[e]=function(t){return this.on(e,t)}}),ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dn,type:"GET",isLocal:jn.test(Rn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Un,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ce.parseJSON,"text xml":ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?H(H(t,ce.ajaxSettings),e):H(ce.ajaxSettings,t)},ajaxPrefilter:R(Wn),ajaxTransport:R(qn),ajax:function(t,n){function i(t,n,i,r){var o,d,y,b,_,C=n;2!==x&&(x=2,l&&clearTimeout(l),c=e,s=r||"",w.readyState=t>0?4:0,o=t>=200&&300>t||304===t,i&&(b=L(f,w,i)),b=F(f,b,w,o),o?(f.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(ce.lastModified[a]=_),_=w.getResponseHeader("etag"),_&&(ce.etag[a]=_)),204===t||"HEAD"===f.type?C="nocontent":304===t?C="notmodified":(C=b.state,d=b.data,y=b.error,o=!y)):(y=C,(t||!C)&&(C="error",0>t&&(t=0))),w.status=t,w.statusText=(n||C)+"",o?g.resolveWith(h,[d,C,w]):g.rejectWith(h,[w,C,y]),w.statusCode(v),v=e,u&&p.trigger(o?"ajaxSuccess":"ajaxError",[w,f,o?d:y]),m.fireWith(h,[w,C]),u&&(p.trigger("ajaxComplete",[w,f]),--ce.active||ce.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var r,o,a,s,l,u,c,d,f=ce.ajaxSetup({},n),h=f.context||f,p=f.context&&(h.nodeType||h.jquery)?ce(h):ce.event,g=ce.Deferred(),m=ce.Callbacks("once memory"),v=f.statusCode||{},y={},b={},x=0,_="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!d)for(d={};e=Pn.exec(s);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return x||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||_;return c&&c.abort(e),i(0,e),this}};if(g.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,f.url=((t||f.url||Dn)+"").replace(Fn,"").replace(zn,Rn[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=ce.trim(f.dataType||"*").toLowerCase().match(fe)||[""],null==f.crossDomain&&(r=$n.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===Rn[1]&&r[2]===Rn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Rn[3]||("http:"===Rn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ce.param(f.data,f.traditional)),D(Wn,f,n,w),2===x)return w;u=f.global,u&&0===ce.active++&&ce.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!On.test(f.type),a=f.url,f.hasContent||(f.data&&(a=f.url+=(Ln.test(a)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Bn.test(a)?a.replace(Bn,"$1_="+Hn++):a+(Ln.test(a)?"&":"?")+"_="+Hn++)),f.ifModified&&(ce.lastModified[a]&&w.setRequestHeader("If-Modified-Since",ce.lastModified[a]),ce.etag[a]&&w.setRequestHeader("If-None-Match",ce.etag[a])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Un+"; q=0.01":""):f.accepts["*"]);for(o in f.headers)w.setRequestHeader(o,f.headers[o]);if(f.beforeSend&&(f.beforeSend.call(h,w,f)===!1||2===x))return w.abort();_="abort";for(o in{success:1,error:1,complete:1})w[o](f[o]);if(c=D(qn,f,n,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},f.timeout));try{x=1,c.send(y,i)}catch(C){if(!(2>x))throw C;i(-1,C)}}else i(-1,"No Transport");return w},getJSON:function(t,e,n){return ce.get(t,e,n,"json")},getScript:function(t,n){return ce.get(t,e,n,"script")}}),ce.each(["get","post"],function(t,n){ce[n]=function(t,i,r,o){return ce.isFunction(i)&&(o=o||r,r=i,i=e),ce.ajax({url:t,type:n,dataType:o,data:i,success:r})}}),ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ce.globalEval(t),t}}}),ce.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ce.ajaxTransport("script",function(t){if(t.crossDomain){var n,i=Z.head||ce("head")[0]||Z.documentElement;return{send:function(e,r){n=Z.createElement("script"),n.async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(t,e){(e||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,e||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(e,!0)}}}});var Xn=[],Yn=/(=)\?(?=&|$)|\?\?/;ce.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xn.pop()||ce.expando+"_"+Hn++;return this[t]=!0,t}}),ce.ajaxPrefilter("json jsonp",function(n,i,r){var o,a,s,l=n.jsonp!==!1&&(Yn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=ce.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Yn,"$1"+o):n.jsonp!==!1&&(n.url+=(Ln.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||ce.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=t[o],t[o]=function(){s=arguments},r.always(function(){t[o]=a,n[o]&&(n.jsonpCallback=i.jsonpCallback,Xn.push(o)),s&&ce.isFunction(a)&&a(s[0]),s=a=e}),"script"):void 0});var Kn,Zn,Gn=0,Jn=t.ActiveXObject&&function(){var t;for(t in Kn)Kn[t](e,!0)};ce.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&B()||P()}:B,Zn=ce.ajaxSettings.xhr(),ce.support.cors=!!Zn&&"withCredentials"in Zn,Zn=ce.support.ajax=!!Zn,Zn&&ce.ajaxTransport(function(n){if(!n.crossDomain||ce.support.cors){var i;return{send:function(r,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(u){}l.send(n.hasContent&&n.data||null),i=function(t,r){var s,u,c,d;try{if(i&&(r||4===l.readyState))if(i=e,a&&(l.onreadystatechange=ce.noop,Jn&&delete Kn[a]),r)4!==l.readyState&&l.abort();else{d={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{c=l.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(h){r||o(-1,h)}d&&o(s,c,d,u)},n.async?4===l.readyState?setTimeout(i):(a=++Gn,Jn&&(Kn||(Kn={},ce(t).unload(Jn)),Kn[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(e,!0)}}}});var Qn,ti,ei=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),ii=/queueHooks$/,ri=[I],oi={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=ni.exec(e),o=r&&r[3]||(ce.cssNumber[t]?"":"px"),a=(ce.cssNumber[t]||"px"!==o&&+i)&&ni.exec(ce.css(n.elem,t)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,ce.style(n.elem,t,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};ce.Animation=ce.extend(z,{tweener:function(t,e){ce.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],oi[n]=oi[n]||[],oi[n].unshift(e)},prefilter:function(t,e){e?ri.unshift(t):ri.push(t)}}),ce.Tween=W,W.prototype={constructor:W,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ce.cssNumber[n]?"":"px")},cur:function(){var t=W.propHooks[this.prop];return t&&t.get?t.get(this):W.propHooks._default.get(this)},run:function(t){var e,n=W.propHooks[this.prop];return this.pos=e=this.options.duration?ce.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ce.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ce.fx.step[t.prop]?ce.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ce.cssProps[t.prop]]||ce.cssHooks[t.prop])?ce.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ce.each(["toggle","show","hide"],function(t,e){var n=ce.fn[e];ce.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(q(e,!0),t,i,r)}}),ce.fn.extend({fadeTo:function(t,e,n,i){return this.filter(C).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ce.isEmptyObject(t),o=ce.speed(e,n,i),a=function(){var e=z(this,ce.extend({},t),o);(r||ce._data(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,n,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",o=ce.timers,a=ce._data(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&ii.test(n)&&r(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(o[n].anim.stop(i),e=!1,o.splice(n,1));(e||!i)&&ce.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ce._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ce.timers,a=i?i.length:0;for(n.finish=!0,ce.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ce.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ce.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ce.speed=function(t,e,n){var i=t&&"object"==typeof t?ce.extend({},t):{complete:n||!n&&e||ce.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ce.isFunction(e)&&e};return i.duration=ce.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ce.fx.speeds?ce.fx.speeds[i.duration]:ce.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ce.isFunction(i.old)&&i.old.call(this),i.queue&&ce.dequeue(this,i.queue)},i},ce.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ce.timers=[],ce.fx=W.prototype.init,ce.fx.tick=function(){var t,n=ce.timers,i=0;for(Qn=ce.now();i<n.length;i++)t=n[i],t()||n[i]!==t||n.splice(i--,1);n.length||ce.fx.stop(),Qn=e},ce.fx.timer=function(t){t()&&ce.timers.push(t)&&ce.fx.start()},ce.fx.interval=13,ce.fx.start=function(){ti||(ti=setInterval(ce.fx.tick,ce.fx.interval))},ce.fx.stop=function(){clearInterval(ti),ti=null},ce.fx.speeds={slow:600,fast:200,_default:400},ce.fx.step={},ce.expr&&ce.expr.filters&&(ce.expr.filters.animated=function(t){return ce.grep(ce.timers,function(e){return t===e.elem}).length}),ce.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){ce.offset.setOffset(this,t,e)});var n,i,r={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return n=a.documentElement,ce.contains(n,o)?(typeof o.getBoundingClientRect!==Y&&(r=o.getBoundingClientRect()),i=U(a),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},ce.offset={setOffset:function(t,e,n){var i=ce.css(t,"position");"static"===i&&(t.style.position="relative");var r,o,a=ce(t),s=a.offset(),l=ce.css(t,"top"),u=ce.css(t,"left"),c=("absolute"===i||"fixed"===i)&&ce.inArray("auto",[l,u])>-1,d={},f={};c?(f=a.position(),r=f.top,o=f.left):(r=parseFloat(l)||0,o=parseFloat(u)||0),ce.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(d.top=e.top-s.top+r),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(t,d):a.css(d)}},ce.fn.extend({position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ce.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ce.nodeName(t[0],"html")||(n=t.offset()),n.top+=ce.css(t[0],"borderTopWidth",!0),n.left+=ce.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ce.css(i,"marginTop",!0),left:e.left-n.left-ce.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||G;t&&!ce.nodeName(t,"html")&&"static"===ce.css(t,"position");)t=t.offsetParent;return t||G})}}),ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i=/Y/.test(n);ce.fn[t]=function(r){return ce.access(this,function(t,r,o){var a=U(t);return o===e?a?n in a?a[n]:a.document.documentElement[r]:t[r]:(a?a.scrollTo(i?ce(a).scrollLeft():o,i?o:ce(a).scrollTop()):t[r]=o,void 0)},t,r,arguments.length,null)}}),ce.each({Height:"height",Width:"width"},function(t,n){ce.each({padding:"inner"+t,content:n,"":"outer"+t},function(i,r){ce.fn[r]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(r===!0||o===!0?"margin":"border");return ce.access(this,function(n,i,r){var o;return ce.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+t],o["scroll"+t],n.body["offset"+t],o["offset"+t],o["client"+t])):r===e?ce.css(n,i,s):ce.style(n,i,r,s)},n,a?r:e,a,null)}})}),ce.fn.size=function(){return this.length},ce.fn.andSelf=ce.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ce:(t.jQuery=t.$=ce,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ce}))}(window),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var r,o,a,s,l,u,c,d;if(n.fire(i,"ajax:before")){if(s=i.data("cross-domain"),l=s===e?null:s,u=i.data("with-credentials")||null,c=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),o=i.attr("action"),a=i.serializeArray();var f=i.data("ujs:submit-button");f&&(a.push(f),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),a=i.data("params")||null);d={type:r||"GET",data:a,dataType:c,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[t,r])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:l},u&&(d.xhrFields={withCredentials:u}),o&&(d.url=o);var h=n.ajax(d);return i.trigger("ajax:send",h),h}return!1},handleMethod:function(i){var r=n.href(i),o=i.data("method"),a=i.attr("target"),s=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),u=t('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+o+'" type="hidden" />';l!==e&&s!==e&&(c+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&u.attr("target",a),u.hide().append(c).appendTo("body"),u.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),r=!1;return i?(n.fire(t,"confirm")&&(r=n.confirm(i),e=n.fire(t,"confirm:complete",[r])),r&&e):!0},blankInputs:function(e,n,i){var r,o,a=t(),s=n||"input,textarea",l=e.find(s);return l.each(function(){if(r=t(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!o==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;a=a.add(r)}}),a.length?a:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=t(this),o=r.data("method"),a=r.data("params");if(!n.allowAction(r))return n.stopEverything(i);if(r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==e){if(!(!i.metaKey&&!i.ctrlKey||o&&"GET"!==o||a))return!0;var s=n.handleRemote(r);return s===!1?n.enableElement(r):s.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r=t(this),o=r.data("remote")!==e,a=n.blankInputs(r,n.requiredInputSelector),s=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(a&&r.attr("novalidate")==e&&n.fire(r,"ajax:aborted:required",[a]))return n.stopEverything(i);if(o){if(s){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[s]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)}))}(jQuery);var libFuncName=null;if("undefined"==typeof jQuery&&"undefined"==typeof Zepto&&"function"==typeof $)libFuncName=$;else if("function"==typeof jQuery)libFuncName=jQuery;else{if("function"!=typeof Zepto)throw new TypeError;libFuncName=Zepto}!function(t,e,n){"use strict";e.matchMedia=e.matchMedia||function(t){var e,n=t.documentElement,i=n.firstElementChild||n.firstChild,r=t.createElement("body"),o=t.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(o),function(t){return o.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(r,i),e=42===o.offsetWidth,n.removeChild(r),{matches:e,media:t}}}(n),Array.prototype.filter||(Array.prototype.filter=function(t){if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"==typeof t){for(var i=[],r=arguments[1],o=0;n>o;o++)if(o in e){var a=e[o];t&&t.call(r,a,o,e)&&i.push(a)}return i}}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!=i?i=0:0!=i&&1/0!=i&&i!=-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in e&&e[r]===t)return r;return-1}),t.fn.stop=t.fn.stop||function(){return this},e.Foundation={name:"Foundation",version:"4.3.1",cache:{},init:function(e,n,i,r,o,a){var s,l=[e,i,r,o],u=[],a=a||!1;if(a&&(this.nc=a),this.rtl=/rtl/i.test(t("html").attr("dir")),this.scope=e||this.scope,n&&"string"==typeof n&&!/reflow/i.test(n)){if(/off/i.test(n))return this.off();if(s=n.split(" "),s.length>0)for(var c=s.length-1;c>=0;c--)u.push(this.init_lib(s[c],l))}else{/reflow/i.test(n)&&(l[1]="reflow");for(var d in this.libs)u.push(this.init_lib(d,l))}return"function"==typeof n&&l.unshift(n),this.response_obj(u,l)},response_obj:function(t,e){for(var n=0,i=e.length;i>n;n++)if("function"==typeof e[n])return e[n]({errors:t.filter(function(t){return"string"==typeof t?t:void 0})});return t},init_lib:function(t,e){return this.trap(function(){return this.libs.hasOwnProperty(t)?(this.patch(this.libs[t]),this.libs[t].init.apply(this.libs[t],e)):function(){}}.bind(this),t)},trap:function(t,e){if(!this.nc)try{return t()}catch(n){return this.error({name:e,message:"could not be initialized",more:n.name+" "+n.message})}return t()},patch:function(t){this.fix_outer(t),t.scope=this.scope,t.rtl=this.rtl},inherit:function(t,e){for(var n=e.split(" "),i=n.length-1;i>=0;i--)this.lib_methods.hasOwnProperty(n[i])&&(this.libs[t.name][n[i]]=this.lib_methods[n[i]])},random_str:function(t){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");t||(t=Math.floor(Math.random()*e.length));for(var n="",i=0;t>i;i++)n+=e[Math.floor(Math.random()*e.length)];return n},libs:{},lib_methods:{set_data:function(t,e){var n=[this.name,+new Date,Foundation.random_str(5)].join("-");return Foundation.cache[n]=e,t.attr("data-"+this.name+"-id",n),e},get_data:function(t){return Foundation.cache[t.attr("data-"+this.name+"-id")]},remove_data:function(e){e?(delete Foundation.cache[e.attr("data-"+this.name+"-id")],e.attr("data-"+this.name+"-id","")):t("[data-"+this.name+"-id]").each(function(){delete Foundation.cache[t(this).attr("data-"+this.name+"-id")],t(this).attr("data-"+this.name+"-id","")})},throttle:function(t,e){var n=null;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(i,r)},e)}},data_options:function(e){function n(t){return!isNaN(t-0)&&null!==t&&""!==t&&t!==!1&&t!==!0}function i(e){return"string"==typeof e?t.trim(e):e}var r,o,a={},s=(e.attr("data-options")||":").split(";"),l=s.length;for(r=l-1;r>=0;r--)o=s[r].split(":"),/true/i.test(o[1])&&(o[1]=!0),/false/i.test(o[1])&&(o[1]=!1),n(o[1])&&(o[1]=parseInt(o[1],10)),2===o.length&&o[0].length>0&&(a[i(o[0])]=i(o[1]));return a},delay:function(t,e){return setTimeout(t,e)},scrollTo:function(n,i,r){if(!(0>r)){var o=i-t(e).scrollTop(),a=10*(o/r);this.scrollToTimerCache=setTimeout(function(){isNaN(parseInt(a,10))||(e.scrollTo(0,t(e).scrollTop()+a),this.scrollTo(n,i,r-10))}.bind(this),10)}},scrollLeft:function(t){return t.length?"scrollLeft"in t[0]?t[0].scrollLeft:t[0].pageXOffset:void 0},empty:function(t){if(t.length&&t.length>0)return!1;if(t.length&&0===t.length)return!0;for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0}},fix_outer:function(t){t.outerHeight=function(t,e){return"function"==typeof Zepto?t.height():"undefined"!=typeof e?t.outerHeight(e):t.outerHeight()},t.outerWidth=function(t,e){return"function"==typeof Zepto?t.width():"undefined"!=typeof e?t.outerWidth(e):t.outerWidth()}},error:function(t){return t.name+" "+t.message+"; "+t.more},off:function(){return t(this.scope).off(".fndtn"),t(e).off(".fndtn"),!0},zj:t},t.fn.foundation=function(){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(t)),this})}}(libFuncName,this,this.document),function(t){"use strict";Foundation.libs.alerts={name:"alerts",version:"4.2.2",settings:{speed:300,callback:function(){}},init:function(e,n,i){return this.scope=e||this.scope,"object"==typeof n&&t.extend(!0,this.settings,n),"string"!=typeof n?(this.settings.init||this.events(),this.settings.init):this[n].call(this,i)},events:function(){var e=this;t(this.scope).on("click.fndtn.alerts","[data-alert] a.close",function(n){n.preventDefault(),t(this).closest("[data-alert]").fadeOut(e.speed,function(){t(this).remove(),e.settings.callback()})}),this.settings.init=!0},off:function(){t(this.scope).off(".fndtn.alerts")},reflow:function(){}}}(Foundation.zj,this,this.document),function(t,e,n,i){"use strict";Foundation.libs.clearing={name:"clearing",version:"4.3.1",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><img src="//:0"><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div>'},close_selectors:".clearing-close",init:!1,locked:!1},init:function(e,n,i){var r=this;return Foundation.inherit(this,"set_data get_data remove_data throttle data_options"),"object"==typeof n&&(i=t.extend(!0,this.settings,n)),"string"!=typeof n?(t(this.scope).find("ul[data-clearing]").each(function(){var e=t(this),n=n||{},i=e.find("li"),o=r.get_data(e);!o&&i.length>0&&(n.$parent=e.parent(),r.set_data(e,t.extend({},r.settings,n,r.data_options(e))),r.assemble(e.find("li")),r.settings.init||r.events().swipe_events())}),this.settings.init):this[n].call(this,i)},events:function(){var n=this;return t(this.scope).on("click.fndtn.clearing","ul[data-clearing] li",function(e,i,r){var i=i||t(this),r=r||i,o=i.next("li"),a=n.get_data(i.parent()),s=t(e.target);e.preventDefault(),a||n.init(),r.hasClass("visible")&&i[0]===r[0]&&o.length>0&&n.is_open(i)&&(r=o,s=r.find("img")),n.open(s,i,r),n.update_paddles(r)}).on("click.fndtn.clearing",".clearing-main-next",function(t){this.nav(t,"next")}.bind(this)).on("click.fndtn.clearing",".clearing-main-prev",function(t){this.nav(t,"prev")}.bind(this)).on("click.fndtn.clearing",this.settings.close_selectors,function(t){Foundation.libs.clearing.close(t,this)}).on("keydown.fndtn.clearing",function(t){this.keydown(t)}.bind(this)),t(e).on("resize.fndtn.clearing",function(){this.resize()}.bind(this)),this.settings.init=!0,this},swipe_events:function(){var e=this;t(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(e){e.touches||(e=e.originalEvent);var n={start_page_x:e.touches[0].pageX,start_page_y:e.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:i};t(this).data("swipe-transition",n),e.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(n){if(n.touches||(n=n.originalEvent),!(n.touches.length>1||n.scale&&1!==n.scale)){var i=t(this).data("swipe-transition");if("undefined"==typeof i&&(i={}),i.delta_x=n.touches[0].pageX-i.start_page_x,"undefined"==typeof i.is_scrolling&&(i.is_scrolling=!!(i.is_scrolling||Math.abs(i.delta_x)<Math.abs(n.touches[0].pageY-i.start_page_y))),!i.is_scrolling&&!i.active){n.preventDefault();var r=i.delta_x<0?"next":"prev";i.active=!0,e.nav(n,r)}}}).on("touchend.fndtn.clearing",".visible-img",function(e){t(this).data("swipe-transition",{}),e.stopPropagation()})},assemble:function(e){var n=e.parent();n.after('<div id="foundationClearingHolder"></div>');var i=t("#foundationClearingHolder"),r=this.get_data(n),o=n.detach(),a={grid:'<div class="carousel">'+this.outerHTML(o[0])+"</div>",viewing:r.templates.viewing},s='<div class="clearing-assembled"><div>'+a.viewing+a.grid+"</div></div>";return i.after(s).remove()},open:function(t,e,n){var i=n.closest(".clearing-assembled"),r=i.find("div").first(),o=r.find(".visible-img"),a=o.find("img").not(t);this.locked()||(a.attr("src",this.load(t)).css("visibility","hidden"),this.loaded(a,function(){a.css("visibility","visible"),i.addClass("clearing-blackout"),r.addClass("clearing-container"),o.show(),this.fix_height(n).caption(o.find(".clearing-caption"),t).center(a).shift(e,n,function(){n.siblings().removeClass("visible"),n.addClass("visible")})}.bind(this)))},close:function(e,n){e.preventDefault();var i,r,o=function(t){return/blackout/.test(t.selector)?t:t.closest(".clearing-blackout")}(t(n));return n===e.target&&o&&(i=o.find("div").first(),r=i.find(".visible-img"),this.settings.prev_index=0,o.find("ul[data-clearing]").attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),i.removeClass("clearing-container"),r.hide()),!1},is_open:function(t){return t.parent().attr("style").length>0},keydown:function(e){var n=t(".clearing-blackout").find("ul[data-clearing]");39===e.which&&this.go(n,"next"),37===e.which&&this.go(n,"prev"),27===e.which&&t("a.clearing-close").trigger("click")},nav:function(e,n){var i=t(".clearing-blackout").find("ul[data-clearing]");e.preventDefault(),this.go(i,n)},resize:function(){var e=t(".clearing-blackout .visible-img").find("img");e.length&&this.center(e)},fix_height:function(e){var n=e.parent().children(),i=this;return n.each(function(){var e=t(this),n=e.find("img");e.height()>i.outerHeight(n)&&e.addClass("fix-height")}).closest("ul").width(100*n.length+"%"),this},update_paddles:function(t){var e=t.closest(".carousel").siblings(".visible-img");t.next().length>0?e.find(".clearing-main-next").removeClass("disabled"):e.find(".clearing-main-next").addClass("disabled"),t.prev().length>0?e.find(".clearing-main-prev").removeClass("disabled"):e.find(".clearing-main-prev").addClass("disabled")},center:function(t){return this.rtl?t.css({marginRight:-(this.outerWidth(t)/2),marginTop:-(this.outerHeight(t)/2)}):t.css({marginLeft:-(this.outerWidth(t)/2),marginTop:-(this.outerHeight(t)/2)}),this},load:function(t){if("A"===t[0].nodeName)var e=t.attr("href");else var e=t.parent().attr("href");return this.preload(t),e?e:t.attr("src")},preload:function(t){this.img(t.closest("li").next()).img(t.closest("li").prev())},loaded:function(t,e){function n(){e()}function i(){if(this.one("load",n),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";
e+="random="+(new Date).getTime(),this.attr("src",t+e)}}return t.attr("src")?(t[0].complete||4===t[0].readyState?n():i.call(t),void 0):(n(),void 0)},img:function(t){if(t.length){var e=new Image,n=t.find("a");e.src=n.length?n.attr("href"):t.find("img").attr("src")}return this},caption:function(t,e){var n=e.data("caption");return n?t.html(n).show():t.text("").hide(),this},go:function(t,e){var n=t.find(".visible"),i=n[e]();i.length&&i.find("img").trigger("click",[n,i])},shift:function(t,e,n){var i,r=e.parent(),o=this.settings.prev_index||e.index(),a=this.direction(r,t,e),s=parseInt(r.css("left"),10),l=this.outerWidth(e);e.index()===o||/skip/.test(a)?/skip/.test(a)&&(i=e.index()-this.settings.up_count,this.lock(),i>0?r.animate({left:-(i*l)},300,this.unlock()):r.animate({left:0},300,this.unlock())):/left/.test(a)?(this.lock(),r.animate({left:s+l},300,this.unlock())):/right/.test(a)&&(this.lock(),r.animate({left:s-l},300,this.unlock())),n()},direction:function(e,n,i){var r,o=e.find("li"),a=this.outerWidth(o)+this.outerWidth(o)/4,s=Math.floor(this.outerWidth(t(".clearing-container"))/a)-1,l=o.index(i);return this.settings.up_count=s,r=this.adjacent(this.settings.prev_index,l)?l>s&&l>this.settings.prev_index?"right":l>s-1&&l<=this.settings.prev_index?"left":!1:"skip",this.settings.prev_index=l,r},adjacent:function(t,e){for(var n=e+1;n>=e-1;n--)if(n===t)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},outerHTML:function(t){return t.outerHTML||(new XMLSerializer).serializeToString(t)},off:function(){t(this.scope).off(".fndtn.clearing"),t(e).off(".fndtn.clearing"),this.remove_data(),this.settings.init=!1},reflow:function(){this.init()}}}(Foundation.zj,this,this.document),function(t,e,n){function i(t){return t}function r(t){return decodeURIComponent(t.replace(o," "))}var o=/\+/g,a=t.cookie=function(o,s,l){if(s!==n){if(l=t.extend({},a.defaults,l),null===s&&(l.expires=-1),"number"==typeof l.expires){var u=l.expires,c=l.expires=new Date;c.setDate(c.getDate()+u)}return s=a.json?JSON.stringify(s):String(s),e.cookie=[encodeURIComponent(o),"=",a.raw?s:encodeURIComponent(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var d=a.raw?i:r,f=e.cookie.split("; "),h=0,p=f.length;p>h;h++){var g=f[h].split("=");if(d(g.shift())===o){var m=d(g.join("="));return a.json?JSON.parse(m):m}}return null};a.defaults={},t.removeCookie=function(e,n){return null!==t.cookie(e)?(t.cookie(e,null,n),!0):!1}}(Foundation.zj,document),function(t,e,n){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"4.3.0",settings:{activeClass:"open",is_hover:!1,opened:function(){},closed:function(){}},init:function(e,n,i){return this.scope=e||this.scope,Foundation.inherit(this,"throttle scrollLeft data_options"),"object"==typeof n&&t.extend(!0,this.settings,n),"string"!=typeof n?(this.settings.init||this.events(),this.settings.init):this[n].call(this,i)},events:function(){var i=this;t(this.scope).on("click.fndtn.dropdown","[data-dropdown]",function(e){var n=t.extend({},i.settings,i.data_options(t(this)));e.preventDefault(),n.is_hover||i.toggle(t(this))}).on("mouseenter","[data-dropdown]",function(){var e=t.extend({},i.settings,i.data_options(t(this)));e.is_hover&&i.toggle(t(this))}).on("mouseleave","[data-dropdown-content]",function(){var e=t('[data-dropdown="'+t(this).attr("id")+'"]'),n=t.extend({},i.settings,i.data_options(e));n.is_hover&&i.close.call(i,t(this))}).on("opened.fndtn.dropdown","[data-dropdown-content]",this.settings.opened).on("closed.fndtn.dropdown","[data-dropdown-content]",this.settings.closed),t(n).on("click.fndtn.dropdown",function(e){var n=t(e.target).closest("[data-dropdown-content]");if(!t(e.target).data("dropdown"))return n.length>0&&(t(e.target).is("[data-dropdown-content]")||t.contains(n.first()[0],e.target))?(e.stopPropagation(),void 0):(i.close.call(i,t("[data-dropdown-content]")),void 0)}),t(e).on("resize.fndtn.dropdown",i.throttle(function(){i.resize.call(i)},50)).trigger("resize"),this.settings.init=!0},close:function(e){var n=this;e.each(function(){t(this).hasClass(n.settings.activeClass)&&(t(this).css(Foundation.rtl?"right":"left","-99999px").removeClass(n.settings.activeClass),t(this).trigger("closed"))})},open:function(t,e){this.css(t.addClass(this.settings.activeClass),e),t.trigger("opened")},toggle:function(e){var n=t("#"+e.data("dropdown"));this.close.call(this,t("[data-dropdown-content]").not(n)),n.hasClass(this.settings.activeClass)?this.close.call(this,n):(this.close.call(this,t("[data-dropdown-content]")),this.open.call(this,n,e))},resize:function(){var e=t("[data-dropdown-content].open"),n=t("[data-dropdown='"+e.attr("id")+"']");e.length&&n.length&&this.css(e,n)},css:function(n,i){var r=n.offsetParent(),o=i.offset();if(o.top-=r.offset().top,o.left-=r.offset().left,this.small())n.css({position:"absolute",width:"95%",left:"2.5%","max-width":"none",top:o.top+this.outerHeight(i)});else{if(!Foundation.rtl&&t(e).width()>this.outerWidth(n)+i.offset().left){var a=o.left;n.hasClass("right")&&n.removeClass("right")}else{n.hasClass("right")||n.addClass("right");var a=o.left-(this.outerWidth(n)-this.outerWidth(i))}n.attr("style","").css({position:"absolute",top:o.top+this.outerHeight(i),left:a})}return n},small:function(){return t(e).width()<768||t("html").hasClass("lt-ie9")},off:function(){t(this.scope).off(".fndtn.dropdown"),t("html, body").off(".fndtn.dropdown"),t(e).off(".fndtn.dropdown"),t("[data-dropdown-content]").off(".fndtn.dropdown"),this.settings.init=!1},reflow:function(){}}}(Foundation.zj,this,this.document),function(t,e,n,i){"use strict";Foundation.libs.forms={name:"forms",version:"4.3.1",cache:{},settings:{disable_class:"no-custom",last_combo:null},init:function(e,n,i){return"object"==typeof n&&t.extend(!0,this.settings,n),"string"!=typeof n?(this.settings.init||this.events(),this.assemble(),this.settings.init):this[n].call(this,i)},assemble:function(){t('form.custom input[type="radio"]',t(this.scope)).not('[data-customforms="disabled"]').not("."+this.settings.disable_class).each(this.append_custom_markup),t('form.custom input[type="checkbox"]',t(this.scope)).not('[data-customforms="disabled"]').not("."+this.settings.disable_class).each(this.append_custom_markup),t("form.custom select",t(this.scope)).not('[data-customforms="disabled"]').not("."+this.settings.disable_class).not("[multiple=multiple]").each(this.append_custom_select)},events:function(){var i=this;t(this.scope).on("click.fndtn.forms","form.custom span.custom.checkbox",function(e){e.preventDefault(),e.stopPropagation(),i.toggle_checkbox(t(this))}).on("click.fndtn.forms","form.custom span.custom.radio",function(e){e.preventDefault(),e.stopPropagation(),i.toggle_radio(t(this))}).on("change.fndtn.forms","form.custom select",function(e,n){t(this).is('[data-customforms="disabled"]')||i.refresh_custom_select(t(this),n)}).on("click.fndtn.forms","form.custom label",function(e){if(t(e.target).is("label")){var n,r,o=t("#"+i.escape(t(this).attr("for"))).not('[data-customforms="disabled"]');0!==o.length&&("checkbox"===o.attr("type")?(e.preventDefault(),n=t(this).find("span.custom.checkbox"),0===n.length&&(n=o.add(this).siblings("span.custom.checkbox").first()),i.toggle_checkbox(n)):"radio"===o.attr("type")&&(e.preventDefault(),r=t(this).find("span.custom.radio"),0===r.length&&(r=o.add(this).siblings("span.custom.radio").first()),i.toggle_radio(r)))}}).on("mousedown.fndtn.forms","form.custom div.custom.dropdown",function(){return!1}).on("click.fndtn.forms","form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector",function(e){var n=t(this),o=n.closest("div.custom.dropdown"),a=r(o,"select");return o.hasClass("open")||t(i.scope).trigger("click"),e.preventDefault(),!1===a.is(":disabled")?(o.toggleClass("open"),o.hasClass("open")?t(i.scope).on("click.fndtn.forms.customdropdown",function(){o.removeClass("open"),t(i.scope).off(".fndtn.forms.customdropdown")}):t(i.scope).on(".fndtn.forms.customdropdown"),!1):void 0}).on("click.fndtn.forms touchend.fndtn.forms","form.custom div.custom.dropdown li",function(e){var i=t(this),o=i.closest("div.custom.dropdown"),a=r(o,"select"),s=0;if(e.preventDefault(),e.stopPropagation(),!t(this).hasClass("disabled")){t("div.dropdown").not(o).removeClass("open");var l=i.closest("ul").find("li.selected");if(l.removeClass("selected"),i.addClass("selected"),o.removeClass("open").find("a.current").text(i.text()),i.closest("ul").find("li").each(function(t){i[0]===this&&(s=t)}),a[0].selectedIndex=s,a.data("prevalue",l.html()),"undefined"!=typeof n.createEvent){var u=n.createEvent("HTMLEvents");u.initEvent("change",!0,!0),a[0].dispatchEvent(u)}else a[0].fireEvent("onchange")}}),t(e).on("keydown",function(e){var i=(n.activeElement,Foundation.libs.forms),r=t(".custom.dropdown.open");if(r.length>0){if(e.preventDefault(),13===e.which&&r.find("li.selected").trigger("click"),27===e.which&&r.removeClass("open"),e.which>=65&&e.which<=90){var o=i.go_to(r,e.which),a=r.find("li.selected");o&&(a.removeClass("selected"),i.scrollTo(o.addClass("selected"),300))}if(38===e.which){var a=r.find("li.selected"),s=a.prev(":not(.disabled)");s.length>0&&(s.parent()[0].scrollTop=s.parent().scrollTop()-i.outerHeight(s),a.removeClass("selected"),s.addClass("selected"))}else if(40===e.which){var a=r.find("li.selected"),o=a.next(":not(.disabled)");o.length>0&&(o.parent()[0].scrollTop=o.parent().scrollTop()+i.outerHeight(o),a.removeClass("selected"),o.addClass("selected"))}}}),this.settings.init=!0},go_to:function(t,e){var n=t.find("li"),i=n.length;if(i>0)for(var r=0;i>r;r++){var o=n.eq(r).text().charAt(0).toLowerCase();if(o===String.fromCharCode(e).toLowerCase())return n.eq(r)}},scrollTo:function(t,e){if(!(0>e)){var n=t.parent(),i=this.outerHeight(t),r=i*t.index()-n.scrollTop(),o=10*(r/e);this.scrollToTimerCache=setTimeout(function(){isNaN(parseInt(o,10))||(n[0].scrollTop=n.scrollTop()+o,this.scrollTo(t,e-10))}.bind(this),10)}},append_custom_markup:function(e,n){var i=t(n),r=i.attr("type"),o=i.next("span.custom."+r);i.parent().hasClass("switch")||i.addClass("hidden-field"),0===o.length&&(o=t('<span class="custom '+r+'"></span>').insertAfter(i)),o.toggleClass("checked",i.is(":checked")),o.toggleClass("disabled",i.is(":disabled"))},append_custom_select:function(e,n){var i,r=Foundation.libs.forms,o=t(n),a=o.next("div.custom.dropdown"),s=a.find("ul"),l=(a.find(".current"),a.find(".selector")),u=o.find("option"),c=u.filter(":selected"),d=o.attr("class")?o.attr("class").split(" "):[],f=0,h="",p=!1;if(0===a.length){var g=o.hasClass("small")?"small":o.hasClass("medium")?"medium":o.hasClass("large")?"large":o.hasClass("expand")?"expand":"";a=t('<div class="'+["custom","dropdown",g].concat(d).filter(function(t,e,n){return""===t?!1:n.indexOf(t)===e}).join(" ")+'"><a href="#" class="selector"></a><ul /></div>'),l=a.find(".selector"),s=a.find("ul"),h=u.map(function(){var e=t(this).attr("class")?t(this).attr("class"):"";return"<li class='"+e+"'>"+t(this).html()+"</li>"}).get().join(""),s.append(h),p=a.prepend('<a href="#" class="current">'+c.html()+"</a>").find(".current"),o.after(a).addClass("hidden-field")}else h=u.map(function(){return"<li>"+t(this).html()+"</li>"}).get().join(""),s.html("").append(h);if(r.assign_id(o,a),a.toggleClass("disabled",o.is(":disabled")),i=s.find("li"),r.cache[a.data("id")]=i.length,u.each(function(e){this.selected&&(i.eq(e).addClass("selected"),p&&p.html(t(this).html())),t(this).is(":disabled")&&i.eq(e).addClass("disabled")}),!a.is(".small, .medium, .large, .expand")){a.addClass("open");var r=Foundation.libs.forms;r.hidden_fix.adjust(s),f=r.outerWidth(i)>f?r.outerWidth(i):f,Foundation.libs.forms.hidden_fix.reset(),a.removeClass("open")}},assign_id:function(t,e){var n=[+new Date,Foundation.random_str(5)].join("-");t.attr("data-id",n),e.attr("data-id",n)},refresh_custom_select:function(e,n){var i=this,r=0,o=e.next(),a=e.find("option"),s=o.find("li");(s.length!==this.cache[o.data("id")]||n)&&(o.find("ul").html(""),a.each(function(){var e=t("<li>"+t(this).html()+"</li>");o.find("ul").append(e)}),a.each(function(e){this.selected&&(o.find("li").eq(e).addClass("selected"),o.find(".current").html(t(this).html())),t(this).is(":disabled")&&o.find("li").eq(e).addClass("disabled")}),o.removeAttr("style").find("ul").removeAttr("style"),o.find("li").each(function(){o.addClass("open"),i.outerWidth(t(this))>r&&(r=i.outerWidth(t(this))),o.removeClass("open")}),s=o.find("li"),this.cache[o.data("id")]=s.length)},toggle_checkbox:function(t){var e=t.prev(),n=e[0];!1===e.is(":disabled")&&(n.checked=n.checked?!1:!0,t.toggleClass("checked"),e.trigger("change"))},toggle_radio:function(t){var e=t.prev(),n=e.closest("form.custom"),i=e[0];!1===e.is(":disabled")&&(n.find('input[type="radio"][name="'+this.escape(e.attr("name"))+'"]').next().not(t).removeClass("checked"),t.hasClass("checked")||t.toggleClass("checked"),i.checked=t.hasClass("checked"),e.trigger("change"))},escape:function(t){return t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):""},hidden_fix:{tmp:[],hidden:null,adjust:function(e){var n=this;n.hidden=e.parents(),n.hidden=n.hidden.add(e).filter(":hidden"),n.hidden.each(function(){var e=t(this);n.tmp.push(e.attr("style")),e.css({visibility:"hidden",display:"block"})})},reset:function(){var e=this;e.hidden.each(function(n){var r=t(this),o=e.tmp[n];o===i?r.removeAttr("style"):r.attr("style",o)}),e.tmp=[],e.hidden=null}},off:function(){t(this.scope).off(".fndtn.forms")},reflow:function(){}};var r=function(e,n){for(var e=e.prev();e.length;){if(e.is(n))return e;e=e.prev()}return t()}}(Foundation.zj,this,this.document),function(t,e,n,i){"use strict";Foundation.libs.joyride={name:"joyride",version:"4.2.2",defaults:{expose:!1,modal:!1,tipLocation:"bottom",nubPosition:"auto",scrollSpeed:300,timer:0,startTimerOnClick:!0,startOffset:0,nextButton:!0,tipAnimation:"fade",pauseAfter:[],exposed:[],tipAnimationFadeSpeed:300,cookieMonster:!1,cookieName:"joyride",cookieDomain:!1,cookieExpires:365,tipContainer:"body",postRideCallback:function(){},postStepCallback:function(){},preStepCallback:function(){},preRideCallback:function(){},postExposeCallback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',exposeCover:'<div class="joyride-expose-cover"></div>'},exposeAddClass:""},settings:{},init:function(e,n,i){return this.scope=e||this.scope,Foundation.inherit(this,"throttle data_options scrollTo scrollLeft delay"),"object"==typeof n?t.extend(!0,this.settings,this.defaults,n):t.extend(!0,this.settings,this.defaults,i),"string"!=typeof n?(this.settings.init||this.events(),this.settings.init):this[n].call(this,i)},events:function(){var n=this;t(this.scope).on("click.joyride",".joyride-next-tip, .joyride-modal-bg",function(t){t.preventDefault(),this.settings.$li.next().length<1?this.end():this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())}.bind(this)).on("click.joyride",".joyride-close-tip",function(t){t.preventDefault(),this.end()}.bind(this)),t(e).on("resize.fndtn.joyride",n.throttle(function(){if(t("[data-joyride]").length>0&&n.settings.$next_tip){if(n.settings.exposed.length>0){var e=t(n.settings.exposed);e.each(function(){var e=t(this);n.un_expose(e),n.expose(e)})}n.is_phone()?n.pos_phone():n.pos_default(!1,!0)}},100)),this.settings.init=!0},start:function(){var e=this,n=t(this.scope).find("[data-joyride]"),i=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],r=i.length;this.settings.init||this.init(),this.settings.$content_el=n,this.settings.$body=t(this.settings.tipContainer),this.settings.body_offset=t(this.settings.tipContainer).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,this.settings.tipLocationPatterns={top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},"function"!=typeof t.cookie&&(this.settings.cookieMonster=!1),(!this.settings.cookieMonster||this.settings.cookieMonster&&null===t.cookie(this.settings.cookieName))&&(this.settings.$tip_content.each(function(n){var o=t(this);t.extend(!0,e.settings,e.data_options(o));for(var a=r-1;a>=0;a--)e.settings[i[a]]=parseInt(e.settings[i[a]],10);e.create({$li:o,index:n})}),!this.settings.startTimerOnClick&&this.settings.timer>0?(this.show("init"),this.startTimer()):this.show("init"))},resume:function(){this.set_li(),this.show()},tip_template:function(e){var n,i;return e.tip_class=e.tip_class||"",n=t(this.settings.template.tip).addClass(e.tip_class),i=t.trim(t(e.li).html())+this.button_text(e.button_text)+this.settings.template.link+this.timer_instance(e.index),n.append(t(this.settings.template.wrapper)),n.first().attr("data-index",e.index),t(".joyride-content-wrapper",n).append(i),n[0]},timer_instance:function(e){var n;return n=0===e&&this.settings.startTimerOnClick&&this.settings.timer>0||0===this.settings.timer?"":this.outerHTML(t(this.settings.template.timer)[0])},button_text:function(e){return this.settings.nextButton?(e=t.trim(e)||"Next",e=this.outerHTML(t(this.settings.template.button).append(e)[0])):e="",e},create:function(e){var n=e.$li.attr("data-button")||e.$li.attr("data-text"),i=e.$li.attr("class"),r=t(this.tip_template({tip_class:i,index:e.index,button_text:n,li:e.$li}));t(this.settings.tipContainer).append(r)},show:function(e){var n=null;this.settings.$li===i||-1===t.inArray(this.settings.$li.index(),this.settings.pauseAfter)?(this.settings.paused?this.settings.paused=!1:this.set_li(e),this.settings.attempts=0,this.settings.$li.length&&this.settings.$target.length>0?(e&&(this.settings.preRideCallback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.show_modal()),this.settings.preStepCallback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.settings.expose&&this.expose(),this.settings.tipSettings=t.extend(this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tipSettings.tipLocationPattern=this.settings.tipLocationPatterns[this.settings.tipSettings.tipLocation],/body/i.test(this.settings.$target.selector)||this.scroll_to(),this.is_phone()?this.pos_phone(!0):this.pos_default(!0),n=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tipAnimation)?(n.width(0),this.settings.timer>0?(this.settings.$next_tip.show(),this.delay(function(){n.animate({width:n.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tipAnimationFadeSpeed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tipAnimation)&&(n.width(0),this.settings.timer>0?(this.settings.$next_tip.fadeIn(this.settings.tipAnimationFadeSpeed).show(),this.delay(function(){n.animate({width:n.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tipAnimationFadeSpeed)):this.settings.$next_tip.fadeIn(this.settings.tipAnimationFadeSpeed)),this.settings.$current_tip=this.settings.$next_tip):this.settings.$li&&this.settings.$target.length<1?this.show():this.end()):this.settings.paused=!0},is_phone:function(){return Modernizr?Modernizr.mq("only screen and (max-width: 767px)")||t(".lt-ie9").length>0:this.settings.$window.width()<767},hide:function(){this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.modal||t(".joyride-modal-bg").hide(),this.settings.$current_tip.css("visibility","hidden"),setTimeout(t.proxy(function(){this.hide(),this.css("visibility","visible")},this.settings.$current_tip),0),this.settings.postStepCallback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(t){t?(this.settings.$li=this.settings.$tip_content.eq(this.settings.startOffset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(this.settings.$li=this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=t(".joyride-tip-guide[data-index='"+this.settings.$li.index()+"']"),this.settings.$next_tip.data("closed","")},set_target:function(){var e=this.settings.$li.attr("data-class"),i=this.settings.$li.attr("data-id"),r=function(){return i?t(n.getElementById(i)):e?t("."+e).first():t("body")};this.settings.$target=r()},scroll_to:function(){var n,i;n=t(e).height()/2,i=Math.ceil(this.settings.$target.offset().top-n+this.outerHeight(this.settings.$next_tip)),i>0&&this.scrollTo(t("html, body"),i,this.settings.scrollSpeed)},paused:function(){return-1===t.inArray(this.settings.$li.index()+1,this.settings.pauseAfter)},restart:function(){this.hide(),this.settings.$li=i,this.show("init")},pos_default:function(n,i){var r=(Math.ceil(t(e).height()/2),this.settings.$next_tip.offset(),this.settings.$next_tip.find(".joyride-nub")),o=Math.ceil(this.outerWidth(r)/2),a=Math.ceil(this.outerHeight(r)/2),s=n||!1;if(s&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),"undefined"==typeof i&&(i=!1),/body/i.test(this.settings.$target.selector))this.settings.$li.length&&this.pos_modal(r);else{if(this.bottom()){var l=this.settings.$target.offset().left;Foundation.rtl&&(l=this.settings.$target.offset().width-this.settings.$next_tip.width()+l),this.settings.$next_tip.css({top:this.settings.$target.offset().top+a+this.outerHeight(this.settings.$target),left:l}),this.nub_position(r,this.settings.tipSettings.nubPosition,"top")}else if(this.top()){var l=this.settings.$target.offset().left;Foundation.rtl&&(l=this.settings.$target.offset().width-this.settings.$next_tip.width()+l),this.settings.$next_tip.css({top:this.settings.$target.offset().top-this.outerHeight(this.settings.$next_tip)-a,left:l}),this.nub_position(r,this.settings.tipSettings.nubPosition,"bottom")}else this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top,left:this.outerWidth(this.settings.$target)+this.settings.$target.offset().left+o}),this.nub_position(r,this.settings.tipSettings.nubPosition,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top,left:this.settings.$target.offset().left-this.outerWidth(this.settings.$next_tip)-o}),this.nub_position(r,this.settings.tipSettings.nubPosition,"right"));!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tipSettings.tipLocationPattern.length&&(r.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tipSettings.tipLocation=this.settings.tipSettings.tipLocationPattern[this.settings.attempts],this.settings.attempts++,this.pos_default())}s&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(e){var n=this.outerHeight(this.settings.$next_tip),i=(this.settings.$next_tip.offset(),this.outerHeight(this.settings.$target)),r=t(".joyride-nub",this.settings.$next_tip),o=Math.ceil(this.outerHeight(r)/2),a=e||!1;r.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),a&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(r):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-n-o}),r.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+i+o}),r.addClass("top")),a&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(t){this.center(),t.hide(),this.show_modal()},show_modal:function(){if(!this.settings.$next_tip.data("closed")){var e=t(".joyride-modal-bg");e.length<1&&t("body").append(this.settings.template.modal).show(),/pop/i.test(this.settings.tipAnimation)?e.show():e.fadeIn(this.settings.tipAnimationFadeSpeed)}},expose:function(){var n,i,r,o,a,s="expose-"+Math.floor(1e4*Math.random());if(arguments.length>0&&arguments[0]instanceof t)r=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;r=this.settings.$target}return r.length<1?(e.console&&console.error("element not valid",r),!1):(n=t(this.settings.template.expose),this.settings.$body.append(n),n.css({top:r.offset().top,left:r.offset().left,width:this.outerWidth(r,!0),height:this.outerHeight(r,!0)}),i=t(this.settings.template.exposeCover),o={zIndex:r.css("z-index"),position:r.css("position")},a=null==r.attr("class")?"":r.attr("class"),r.css("z-index",parseInt(n.css("z-index"))+1),"static"==o.position&&r.css("position","relative"),r.data("expose-css",o),r.data("orig-class",a),r.attr("class",a+" "+this.settings.exposeAddClass),i.css({top:r.offset().top,left:r.offset().left,width:this.outerWidth(r,!0),height:this.outerHeight(r,!0)}),this.settings.$body.append(i),n.addClass(s),i.addClass(s),r.data("expose",s),this.settings.postExposeCallback(this.settings.$li.index(),this.settings.$next_tip,r),this.add_exposed(r),void 0)},un_expose:function(){var n,i,r,o,a,s=!1;if(arguments.length>0&&arguments[0]instanceof t)i=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;i=this.settings.$target}return i.length<1?(e.console&&console.error("element not valid",i),!1):(n=i.data("expose"),r=t("."+n),arguments.length>1&&(s=arguments[1]),s===!0?t(".joyride-expose-wrapper,.joyride-expose-cover").remove():r.remove(),o=i.data("expose-css"),"auto"==o.zIndex?i.css("z-index",""):i.css("z-index",o.zIndex),o.position!=i.css("position")&&("static"==o.position?i.css("position",""):i.css("position",o.position)),a=i.data("orig-class"),i.attr("class",a),i.removeData("orig-classes"),i.removeData("expose"),i.removeData("expose-z-index"),this.remove_exposed(i),void 0)},add_exposed:function(e){this.settings.exposed=this.settings.exposed||[],e instanceof t||"object"==typeof e?this.settings.exposed.push(e[0]):"string"==typeof e&&this.settings.exposed.push(e)},remove_exposed:function(e){var n,i;e instanceof t?n=e[0]:"string"==typeof e&&(n=e),this.settings.exposed=this.settings.exposed||[],i=this.settings.exposed.length;for(var r=0;i>r;r++)if(this.settings.exposed[r]==n)return this.settings.exposed.splice(r,1),void 0},center:function(){var n=t(e);return this.settings.$next_tip.css({top:(n.height()-this.outerHeight(this.settings.$next_tip))/2+n.scrollTop(),left:(n.width()-this.outerWidth(this.settings.$next_tip))/2+this.scrollLeft(n)}),!0},bottom:function(){return/bottom/i.test(this.settings.tipSettings.tipLocation)},top:function(){return/top/i.test(this.settings.tipSettings.tipLocation)},right:function(){return/right/i.test(this.settings.tipSettings.tipLocation)},left:function(){return/left/i.test(this.settings.tipSettings.tipLocation)},corners:function(n){var i=t(e),r=i.height()/2,o=Math.ceil(this.settings.$target.offset().top-r+this.settings.$next_tip.outerHeight()),a=i.width()+this.scrollLeft(i),s=i.height()+o,l=i.height()+i.scrollTop(),u=i.scrollTop();return u>o&&(u=0>o?0:o),s>l&&(l=s),[n.offset().top<u,a<n.offset().left+n.outerWidth(),l<n.offset().top+n.outerHeight(),this.scrollLeft(i)>n.offset().left]},visible:function(t){for(var e=t.length;e--;)if(t[e])return!1;return!0},nub_position:function(t,e,n){"auto"===e?t.addClass(n):t.addClass(e)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(){this.settings.cookieMonster&&t.cookie(this.settings.cookieName,"ridden",{expires:this.settings.cookieExpires,domain:this.settings.cookieDomain}),this.settings.timer>0&&clearTimeout(this.settings.automate),this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.$next_tip.data("closed",!0),t(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),this.settings.postStepCallback(this.settings.$li.index(),this.settings.$current_tip),this.settings.postRideCallback(this.settings.$li.index(),this.settings.$current_tip),t(".joyride-tip-guide").remove()},outerHTML:function(t){return t.outerHTML||(new XMLSerializer).serializeToString(t)},off:function(){t(this.scope).off(".joyride"),t(e).off(".joyride"),t(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),t(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate),this.settings={}},reflow:function(){}}}(Foundation.zj,this,this.document),function(t,e){"use strict";Foundation.libs.magellan={name:"magellan",version:"4.2.2",settings:{activeClass:"active",threshold:0},init:function(e,n,i){return this.scope=e||this.scope,Foundation.inherit(this,"data_options"),"object"==typeof n&&t.extend(!0,this.settings,n),"string"!=typeof n?(this.settings.init||(this.fixed_magellan=t("[data-magellan-expedition]"),this.set_threshold(),this.last_destination=t("[data-magellan-destination]").last(),this.events()),this.settings.init):this[n].call(this,i)},events:function(){var n=this;t(this.scope).on("arrival.fndtn.magellan","[data-magellan-arrival]",function(){var e=t(this),i=e.closest("[data-magellan-expedition]"),r=i.attr("data-magellan-active-class")||n.settings.activeClass;e.closest("[data-magellan-expedition]").find("[data-magellan-arrival]").not(e).removeClass(r),e.addClass(r)}),this.fixed_magellan.on("update-position.fndtn.magellan",function(){t(this)}).trigger("update-position"),t(e).on("resize.fndtn.magellan",function(){this.fixed_magellan.trigger("update-position")}.bind(this)).on("scroll.fndtn.magellan",function(){var i=t(e).scrollTop();n.fixed_magellan.each(function(){var e=t(this);"undefined"==typeof e.data("magellan-top-offset")&&e.data("magellan-top-offset",e.offset().top),"undefined"==typeof e.data("magellan-fixed-position")&&e.data("magellan-fixed-position",!1);var r=i+n.settings.threshold>e.data("magellan-top-offset"),o=e.attr("data-magellan-top-offset");e.data("magellan-fixed-position")!=r&&(e.data("magellan-fixed-position",r),r?(e.addClass("fixed"),e.css({position:"fixed",top:0})):(e.removeClass("fixed"),e.css({position:"",top:""})),r&&"undefined"!=typeof o&&0!=o&&e.css({position:"fixed",top:o+"px"}))})}),this.last_destination.length>0&&t(e).on("scroll.fndtn.magellan",function(){var i=t(e).scrollTop(),r=i+t(e).height(),o=Math.ceil(n.last_destination.offset().top);t("[data-magellan-destination]").each(function(){var e=t(this),a=e.attr("data-magellan-destination"),s=e.offset().top-i;s<=n.settings.threshold&&t("[data-magellan-arrival='"+a+"']").trigger("arrival"),r>=t(n.scope).height()&&o>i&&r>o&&t("[data-magellan-arrival]").last().trigger("arrival")})}),this.settings.init=!0},set_threshold:function(){this.settings.threshold||(this.settings.threshold=this.fixed_magellan.length>0?this.outerHeight(this.fixed_magellan,!0):0)},off:function(){t(this.scope).off(".fndtn.magellan")},reflow:function(){}}}(Foundation.zj,this,this.document),function(t,e,n,i){"use strict";var r=function(){},o=function(r,o){if(r.hasClass(o.slides_container_class))return this;var u,c,d,f,h,p,g=this,m=r,v=0,y=!1;m.children().first().addClass(o.active_slide_class),g.update_slide_number=function(e){o.slide_number&&(c.find("span:first").text(parseInt(e)+1),c.find("span:last").text(m.children().length)),o.bullets&&(d.children().removeClass(o.bullets_active_class),t(d.children().get(e)).addClass(o.bullets_active_class))},g.build_markup=function(){m.wrap('<div class="'+o.container_class+'"></div>'),u=m.parent(),m.addClass(o.slides_container_class),o.navigation_arrows&&(u.append(t("<a>").addClass(o.prev_class).append("<span>")),u.append(t("<a>").addClass(o.next_class).append("<span>"))),o.timer&&(f=t("<div>").addClass(o.timer_container_class),f.append("<span>"),f.append(t("<div>").addClass(o.timer_progress_class)),f.addClass(o.timer_paused_class),u.append(f)),o.slide_number&&(c=t("<div>").addClass(o.slide_number_class),c.append("<span></span> of <span></span>"),u.append(c)),o.bullets&&(d=t("<ol>").addClass(o.bullets_container_class),u.append(d),m.children().each(function(e){var n=t("<li>").attr("data-orbit-slide",e);d.append(n)})),o.stack_on_small&&u.addClass(o.stack_on_small_class),g.update_slide_number(0)},g._goto=function(e,n){if(e===v)return!1;"object"==typeof p&&p.restart();var i=m.children(),r="next";y=!0,v>e&&(r="prev"),e>=i.length?e=0:0>e&&(e=i.length-1);var a=t(i.get(v)),s=t(i.get(e));a.css("zIndex",2),s.css("zIndex",4).addClass("active"),m.trigger("orbit:before-slide-change"),o.before_slide_change();
var l=function(){var t=function(){v=e,y=!1,n===!0&&(p=g.create_timer(),p.start()),g.update_slide_number(v),m.trigger("orbit:after-slide-change",[{slide_number:v,total_slides:i.length}]),o.after_slide_change(v,i.length)};m.height()!=s.height()?m.animate({height:s.height()},250,"linear",t):t()};if(1===i.length)return l(),!1;var u=function(){"next"===r&&h.next(a,s,l),"prev"===r&&h.prev(a,s,l)};s.height()>m.height()?m.animate({height:s.height()},250,"linear",u):u()},g.next=function(t){t.stopImmediatePropagation(),t.preventDefault(),g._goto(v+1)},g.prev=function(t){t.stopImmediatePropagation(),t.preventDefault(),g._goto(v-1)},g.link_custom=function(e){e.preventDefault();var n=t(this).attr("data-orbit-link");if("string"==typeof n&&""!=(n=t.trim(n))){var i=u.find("[data-orbit-slide="+n+"]");-1!=i.index()&&g._goto(i.index())}},g.link_bullet=function(){var e=t(this).attr("data-orbit-slide");"string"==typeof e&&""!=(e=t.trim(e))&&g._goto(e)},g.timer_callback=function(){g._goto(v+1,!0)},g.compute_dimensions=function(){var e=t(m.children().get(v)),n=e.height();o.variable_height||m.children().each(function(){t(this).height()>n&&(n=t(this).height())}),m.height(n)},g.create_timer=function(){var t=new a(u.find("."+o.timer_container_class),o,g.timer_callback);return t},g.stop_timer=function(){"object"==typeof p&&p.stop()},g.toggle_timer=function(){var t=u.find("."+o.timer_container_class);t.hasClass(o.timer_paused_class)?("undefined"==typeof p&&(p=g.create_timer()),p.start()):"object"==typeof p&&p.stop()},g.init=function(){g.build_markup(),o.timer&&(p=g.create_timer(),p.start()),h=new l(m),"slide"===o.animation&&(h=new s(m)),u.on("click","."+o.next_class,g.next),u.on("click","."+o.prev_class,g.prev),u.on("click","[data-orbit-slide]",g.link_bullet),u.on("click",g.toggle_timer),u.on("touchstart.fndtn.orbit",function(t){t.touches||(t=t.originalEvent);var e={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:i};u.data("swipe-transition",e),t.stopPropagation()}).on("touchmove.fndtn.orbit",function(t){if(t.touches||(t=t.originalEvent),!(t.touches.length>1||t.scale&&1!==t.scale)){var e=u.data("swipe-transition");if("undefined"==typeof e&&(e={}),e.delta_x=t.touches[0].pageX-e.start_page_x,"undefined"==typeof e.is_scrolling&&(e.is_scrolling=!!(e.is_scrolling||Math.abs(e.delta_x)<Math.abs(t.touches[0].pageY-e.start_page_y))),!e.is_scrolling&&!e.active){t.preventDefault();var n=e.delta_x<0?v+1:v-1;e.active=!0,g._goto(n)}}}).on("touchend.fndtn.orbit",function(t){u.data("swipe-transition",{}),t.stopPropagation()}).on("mouseenter.fndtn.orbit",function(){o.timer&&o.pause_on_hover&&g.stop_timer()}).on("mouseleave.fndtn.orbit",function(){o.timer&&o.resume_on_mouseout&&p.start()}),t(n).on("click","[data-orbit-link]",g.link_custom),t(e).on("resize",g.compute_dimensions),t(e).on("load",g.compute_dimensions),m.trigger("orbit:ready")},g.init()},a=function(t,e,n){var i,r,o=this,a=e.timer_speed,s=t.find("."+e.timer_progress_class),l=-1;this.update_progress=function(t){var e=s.clone();e.attr("style",""),e.css("width",t+"%"),s.replaceWith(e),s=e},this.restart=function(){clearTimeout(r),t.addClass(e.timer_paused_class),l=-1,o.update_progress(0)},this.start=function(){return t.hasClass(e.timer_paused_class)?(l=-1===l?a:l,t.removeClass(e.timer_paused_class),i=(new Date).getTime(),s.animate({width:"100%"},l,"linear"),r=setTimeout(function(){o.restart(),n()},l),t.trigger("orbit:timer-started"),void 0):!0},this.stop=function(){if(t.hasClass(e.timer_paused_class))return!0;clearTimeout(r),t.addClass(e.timer_paused_class);var n=(new Date).getTime();l-=n-i;var s=100-100*(l/a);o.update_progress(s),t.trigger("orbit:timer-stopped")}},s=function(){var e=400,n=1===t("html[dir=rtl]").length,i=n?"marginRight":"marginLeft";this.next=function(t,n,r){n.animate({margin:"0%"},e,"linear",function(){t.css(i,"100%"),r()})},this.prev=function(t,n,r){n.css(i,"-100%"),n.animate({margin:"0%"},e,"linear",function(){t.css(i,"100%"),r()})}},l=function(){var t=250;this.next=function(e,n,i){n.css({marginLeft:"0%",opacity:"0.01"}),n.animate({opacity:"1"},t,"linear",function(){e.css("marginLeft","100%"),i()})},this.prev=function(e,n,i){n.css({marginLeft:"0%",opacity:"0.01"}),n.animate({opacity:"1"},t,"linear",function(){e.css("marginLeft","100%"),i()})}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"4.3.1",settings:{animation:"slide",timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:!0,timer:!0,variable_height:!1,before_slide_change:r,after_slide_change:r},init:function(e,n){var i=this;if(Foundation.inherit(i,"data_options"),"object"==typeof n&&t.extend(!0,i.settings,n),t(e).is("[data-orbit]")){var r=t(e),a=i.data_options(r);new o(r,t.extend({},i.settings,a))}t("[data-orbit]",e).each(function(e,n){var r=t(n),a=i.data_options(r);new o(r,t.extend({},i.settings,a))})}}}(Foundation.zj,this,this.document),function(t,e,n,i){"use strict";Foundation.libs.reveal={name:"reveal",version:"4.2.2",locked:!1,settings:{animation:"fadeAndPop",animationSpeed:250,closeOnBackgroundClick:!0,closeOnEsc:!0,dismissModalClass:"close-reveal-modal",bgClass:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:t(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(e,n,i){return Foundation.inherit(this,"data_options delay"),"object"==typeof n?t.extend(!0,this.settings,n):"undefined"!=typeof i&&t.extend(!0,this.settings,i),"string"!=typeof n?(this.events(),this.settings.init):this[n].call(this,i)},events:function(){var e=this;return t(this.scope).off(".fndtn.reveal").on("click.fndtn.reveal","[data-reveal-id]",function(n){if(n.preventDefault(),!e.locked){var i=t(this),r=i.data("reveal-ajax");if(e.locked=!0,"undefined"==typeof r)e.open.call(e,i);else{var o=r===!0?i.attr("href"):r;e.open.call(e,i,{url:o})}}}).on("click.fndtn.reveal",this.close_targets(),function(n){if(n.preventDefault(),!e.locked){var i=t.extend({},e.settings,e.data_options(t(".reveal-modal.open")));if(t(n.target)[0]===t("."+i.bgClass)[0]&&!i.closeOnBackgroundClick)return;e.locked=!0,e.close.call(e,t(this).closest(".reveal-modal"))}}).on("open.fndtn.reveal",".reveal-modal",this.settings.open).on("opened.fndtn.reveal",".reveal-modal",this.settings.opened).on("opened.fndtn.reveal",".reveal-modal",this.open_video).on("close.fndtn.reveal",".reveal-modal",this.settings.close).on("closed.fndtn.reveal",".reveal-modal",this.settings.closed).on("closed.fndtn.reveal",".reveal-modal",this.close_video),t("body").bind("keyup.reveal",function(n){var i=t(".reveal-modal.open"),r=t.extend({},e.settings,e.data_options(i));27===n.which&&r.closeOnEsc&&i.foundation("reveal","close")}),!0},open:function(e,n){if(e)if("undefined"!=typeof e.selector)var i=t("#"+e.data("reveal-id"));else{var i=t(this.scope);n=e}else var i=t(this.scope);if(!i.hasClass("open")){var r=t(".reveal-modal.open");if("undefined"==typeof i.data("css-top")&&i.data("css-top",parseInt(i.css("top"),10)).data("offset",this.cache_offset(i)),i.trigger("open"),r.length<1&&this.toggle_bg(i),"undefined"!=typeof n&&n.url){var o=this,a="undefined"!=typeof n.success?n.success:null;t.extend(n,{success:function(e,n,s){t.isFunction(a)&&a(e,n,s),i.html(e),t(i).foundation("section","reflow"),o.hide(r,o.settings.css.close),o.show(i,o.settings.css.open)}}),t.ajax(n)}else this.hide(r,this.settings.css.close),this.show(i,this.settings.css.open)}},close:function(e){var e=e&&e.length?e:t(this.scope),n=t(".reveal-modal.open");n.length>0&&(this.locked=!0,e.trigger("close"),this.toggle_bg(e),this.hide(n,this.settings.css.close))},close_targets:function(){var t="."+this.settings.dismissModalClass;return this.settings.closeOnBackgroundClick?t+", ."+this.settings.bgClass:t},toggle_bg:function(){0===t(".reveal-modal-bg").length&&(this.settings.bg=t("<div />",{"class":this.settings.bgClass}).appendTo("body")),this.settings.bg.filter(":visible").length>0?this.hide(this.settings.bg):this.show(this.settings.bg)},show:function(n,i){if(i){if(/pop/i.test(this.settings.animation)){i.top=t(e).scrollTop()-n.data("offset")+"px";var r={top:t(e).scrollTop()+n.data("css-top")+"px",opacity:1};return this.delay(function(){return n.css(i).animate(r,this.settings.animationSpeed,"linear",function(){this.locked=!1,n.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var r={opacity:1};return this.delay(function(){return n.css(i).animate(r,this.settings.animationSpeed,"linear",function(){this.locked=!1,n.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}return n.css(i).show().css({opacity:1}).addClass("open").trigger("opened")}return/fade/i.test(this.settings.animation)?n.fadeIn(this.settings.animationSpeed/2):n.show()},hide:function(n,i){if(i){if(/pop/i.test(this.settings.animation)){var r={top:-t(e).scrollTop()-n.data("offset")+"px",opacity:0};return this.delay(function(){return n.animate(r,this.settings.animationSpeed,"linear",function(){this.locked=!1,n.css(i).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var r={opacity:0};return this.delay(function(){return n.animate(r,this.settings.animationSpeed,"linear",function(){this.locked=!1,n.css(i).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}return n.hide().css(i).removeClass("open").trigger("closed")}return/fade/i.test(this.settings.animation)?n.fadeOut(this.settings.animationSpeed/2):n.hide()},close_video:function(){var e=t(this).find(".flex-video"),n=e.find("iframe");n.length>0&&(n.attr("data-src",n[0].src),n.attr("src","about:blank"),e.hide())},open_video:function(){var e=t(this).find(".flex-video"),n=e.find("iframe");if(n.length>0){var r=n.attr("data-src");if("string"==typeof r)n[0].src=n.attr("data-src");else{var o=n[0].src;n[0].src=i,n[0].src=o}e.show()}},cache_offset:function(t){var e=t.show().height()+parseInt(t.css("top"),10);return t.hide(),e},off:function(){t(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(Foundation.zj,this,this.document),function(t,e,n){"use strict";Foundation.libs.section={name:"section",version:"4.3.1",settings:{deep_linking:!1,small_breakpoint:768,one_up:!0,section_selector:"[data-section]",region_selector:"section, .section, [data-section-region]",title_selector:".title, [data-section-title]",resized_data_attr:"data-section-resized",small_style_data_attr:"data-section-small-style",content_selector:".content, [data-section-content]",nav_selector:'[data-section="vertical-nav"], [data-section="horizontal-nav"]',active_class:"active",callback:function(){}},init:function(e,n,i){var r=this;return Foundation.inherit(this,"throttle data_options position_right offset_right"),"object"==typeof n&&t.extend(!0,r.settings,n),"string"!=typeof n?(this.events(),!0):this[n].call(this,i)},events:function(){for(var i=this,r=[],o=i.settings.section_selector,a=i.settings.region_selector.split(","),s=i.settings.title_selector.split(","),l=0,u=a.length;u>l;l++)for(var c=a[l],d=0,f=s.length;f>d;d++){var h=o+">"+c+">"+s[d];r.push(h+" a"),r.push(h)}t(i.scope).on("click.fndtn.section",r.join(","),function(e){var n=t(this).closest(i.settings.title_selector);i.close_navs(n),n.siblings(i.settings.content_selector).length>0&&i.toggle_active.call(n[0],e)}),t(e).on("resize.fndtn.section",i.throttle(function(){i.resize()},30)).on("hashchange.fndtn.section",i.set_active_from_hash),t(n).on("click.fndtn.section",function(e){e.isPropagationStopped&&e.isPropagationStopped()||e.target!==n&&i.close_navs(t(e.target).closest(i.settings.title_selector))}),t(e).triggerHandler("resize.fndtn.section"),t(e).triggerHandler("hashchange.fndtn.section")},close_navs:function(e){var n=Foundation.libs.section,i=t(n.settings.nav_selector).filter(function(){return!t.extend({},n.settings,n.data_options(t(this))).one_up});if(e.length>0){var r=e.parent().parent();(n.is_horizontal_nav(r)||n.is_vertical_nav(r))&&(i=i.filter(function(){return this!==r[0]}))}i.children(n.settings.region_selector).removeClass(n.settings.active_class)},toggle_active:function(e){var n=t(this),i=Foundation.libs.section,r=n.parent(),o=n.siblings(i.settings.content_selector),a=r.parent(),s=t.extend({},i.settings,i.data_options(a)),l=a.children(i.settings.region_selector).filter("."+i.settings.active_class);!s.deep_linking&&o.length>0&&e.preventDefault(),e.stopPropagation(),r.hasClass(i.settings.active_class)?!s.one_up&&(i.small(a)||i.is_vertical_nav(a)||i.is_horizontal_nav(a)||i.is_accordion(a))&&r.removeClass(i.settings.active_class):(l.removeClass(i.settings.active_class),r.addClass(i.settings.active_class),i.resize(r.find(i.settings.section_selector).not("["+i.settings.resized_data_attr+"]"),!0)),s.callback(a)},check_resize_timer:null,resize:function(e,i){var r=Foundation.libs.section,o=r.small(t(n)),a=function(t,e){return!(r.is_accordion(t)||t.is("["+r.settings.resized_data_attr+"]")||o&&!r.is_horizontal_tabs(t)||e!==("none"===t.css("display")||!t.parent().is(":visible")))};e=e||t(r.settings.section_selector),clearTimeout(r.check_resize_timer),o||e.removeAttr(r.settings.small_style_data_attr),e.filter(function(){return a(t(this),!1)}).each(function(){var e=t(this),n=e.children(r.settings.region_selector),o=n.children(r.settings.title_selector),a=n.children(r.settings.content_selector),s=0;if(i&&0==e.children(r.settings.region_selector).filter("."+r.settings.active_class).length){var l=t.extend({},r.settings,r.data_options(e));l.deep_linking||!l.one_up&&(r.is_horizontal_nav(e)||r.is_vertical_nav(e)||r.is_accordion(e))||n.filter(":visible").first().addClass(r.settings.active_class)}if(r.is_horizontal_tabs(e)||r.is_auto(e)){var u=0;o.each(function(){var e=t(this);if(e.is(":visible")){e.css(r.rtl?"right":"left",u);var n=parseInt(e.css("border-"+(r.rtl?"left":"right")+"-width"),10);"Nan"===n.toString()&&(n=0),u+=r.outerWidth(e)-n,s=Math.max(s,r.outerHeight(e))}}),o.css("height",s),n.each(function(){var e=t(this),n=e.children(r.settings.content_selector),i=parseInt(n.css("border-top-width"),10);"Nan"===i.toString()&&(i=0),e.css("padding-top",s-i)}),e.css("min-height",s)}else if(r.is_horizontal_nav(e)){var c=!0;o.each(function(){s=Math.max(s,r.outerHeight(t(this)))}),n.each(function(){var n=t(this);n.css("margin-left","-"+(c?e:n.children(r.settings.title_selector)).css("border-left-width")),c=!1}),n.css("margin-top","-"+e.css("border-top-width")),o.css("height",s),a.css("top",s),e.css("min-height",s)}else if(r.is_vertical_tabs(e)){var d=0;o.each(function(){var e=t(this);if(e.is(":visible")){e.css("top",d);var n=parseInt(e.css("border-top-width"),10);"Nan"===n.toString()&&(n=0),d+=r.outerHeight(e)-n}}),a.css("min-height",d+1)}else if(r.is_vertical_nav(e)){var f=0,h=!0;o.each(function(){f=Math.max(f,r.outerWidth(t(this)))}),n.each(function(){var n=t(this);n.css("margin-top","-"+(h?e:n.children(r.settings.title_selector)).css("border-top-width")),h=!1}),o.css("width",f),a.css(r.rtl?"right":"left",f),e.css("width",f)}e.attr(r.settings.resized_data_attr,!0)}),t(r.settings.section_selector).filter(function(){return a(t(this),!0)}).length>0&&(r.check_resize_timer=setTimeout(function(){r.resize(e.filter(function(){return a(t(this),!1)}),!0)},700)),o&&e.attr(r.settings.small_style_data_attr,!0)},is_vertical_nav:function(t){return/vertical-nav/i.test(t.data("section"))},is_horizontal_nav:function(t){return/horizontal-nav/i.test(t.data("section"))},is_accordion:function(t){return/accordion/i.test(t.data("section"))},is_horizontal_tabs:function(t){return/^tabs$/i.test(t.data("section"))},is_vertical_tabs:function(t){return/vertical-tabs/i.test(t.data("section"))},is_auto:function(t){var e=t.data("section");return""===e||/auto/i.test(e)},set_active_from_hash:function(){var n=Foundation.libs.section,i=e.location.hash.substring(1),r=t(n.settings.section_selector);r.each(function(){var e=t(this),r=t.extend({},n.settings,n.data_options(e)),o=e.children(n.settings.region_selector),a=r.deep_linking&&i.length>0,s=!1;o.each(function(){var e=t(this);if(s)e.removeClass(n.settings.active_class);else if(a){var r=e.children(n.settings.content_selector).data("slug");r&&new RegExp(r,"i").test(i)?(e.hasClass(n.settings.active_class)||e.addClass(n.settings.active_class),s=!0):e.removeClass(n.settings.active_class)}else e.hasClass(n.settings.active_class)&&(s=!0)}),s||r.deep_linking||!r.one_up&&(n.is_horizontal_nav(e)||n.is_vertical_nav(e)||n.is_accordion(e))||o.filter(":visible").first().addClass(n.settings.active_class)})},reflow:function(){var e=Foundation.libs.section;t(e.settings.section_selector).removeAttr(e.settings.resized_data_attr),e.throttle(function(){e.resize()},30)()},small:function(e){var n=t.extend({},this.settings,this.data_options(e));return this.is_horizontal_tabs(e)?!1:e&&this.is_accordion(e)?!0:t("html").hasClass("lt-ie9")?!0:t("html").hasClass("ie8compat")?!0:t(this.scope).width()<n.small_breakpoint},off:function(){t(this.scope).off(".fndtn.section"),t(e).off(".fndtn.section"),t(n).off(".fndtn.section")}},t.fn.reflow_section=function(t){var e=this,n=Foundation.libs.section;return e.removeAttr(n.settings.resized_data_attr),n.throttle(function(){n.resize(e,t)},30)(),this}}(Foundation.zj,window,document),function(t,e){"use strict";Foundation.libs.tooltips={name:"tooltips",version:"4.2.2",settings:{selector:".has-tip",additionalInheritableClasses:[],tooltipClass:".tooltip",appendTo:"body","disable-for-touch":!1,tipTemplate:function(t,e){return'<span data-selector="'+t+'" class="'+Foundation.libs.tooltips.settings.tooltipClass.substring(1)+'">'+e+'<span class="nub"></span></span>'}},cache:{},init:function(e,n,i){Foundation.inherit(this,"data_options");var r=this;return"object"==typeof n?t.extend(!0,this.settings,n):"undefined"!=typeof i&&t.extend(!0,this.settings,i),"string"==typeof n?this[n].call(this,i):(Modernizr.touch?t(this.scope).on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip","[data-tooltip]",function(e){var n=t.extend({},r.settings,r.data_options(t(this)));n["disable-for-touch"]||(e.preventDefault(),t(n.tooltipClass).hide(),r.showOrCreateTip(t(this)))}).on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip",this.settings.tooltipClass,function(e){e.preventDefault(),t(this).fadeOut(150)}):t(this.scope).on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip","[data-tooltip]",function(e){var n=t(this);/enter|over/i.test(e.type)?r.showOrCreateTip(n):("mouseout"===e.type||"mouseleave"===e.type)&&r.hide(n)}),void 0)},showOrCreateTip:function(t){var e=this.getTip(t);return e&&e.length>0?this.show(t):this.create(t)},getTip:function(e){var n=this.selector(e),i=null;return n&&(i=t('span[data-selector="'+n+'"]'+this.settings.tooltipClass)),"object"==typeof i?i:!1},selector:function(t){var e=t.attr("id"),n=t.attr("data-tooltip")||t.attr("data-selector");return(e&&e.length<1||!e)&&"string"!=typeof n&&(n="tooltip"+Math.random().toString(36).substring(7),t.attr("data-selector",n)),e&&e.length>0?e:n},create:function(e){var n=t(this.settings.tipTemplate(this.selector(e),t("<div></div>").html(e.attr("title")).html())),i=this.inheritable_classes(e);n.addClass(i).appendTo(this.settings.appendTo),Modernizr.touch&&n.append('<span class="tap-to-close">tap to close </span>'),e.removeAttr("title").attr("title",""),this.show(e)},reposition:function(n,i,r){var o,a,s,l,u;if(i.css("visibility","hidden").show(),o=n.data("width"),a=i.children(".nub"),s=this.outerHeight(a),l=this.outerHeight(a),u=function(t,e,n,i,r,o){return t.css({top:e?e:"auto",bottom:i?i:"auto",left:r?r:"auto",right:n?n:"auto",width:o?o:"auto"}).end()},u(i,n.offset().top+this.outerHeight(n)+10,"auto","auto",n.offset().left,o),t(e).width()<767)u(i,n.offset().top+this.outerHeight(n)+10,"auto","auto",12.5,t(this.scope).width()),i.addClass("tip-override"),u(a,-s,"auto","auto",n.offset().left);else{var c=n.offset().left;Foundation.rtl&&(c=n.offset().left+n.offset().width-this.outerWidth(i)),u(i,n.offset().top+this.outerHeight(n)+10,"auto","auto",c,o),i.removeClass("tip-override"),r&&r.indexOf("tip-top")>-1?u(i,n.offset().top-this.outerHeight(i),"auto","auto",c,o).removeClass("tip-override"):r&&r.indexOf("tip-left")>-1?u(i,n.offset().top+this.outerHeight(n)/2-2.5*s,"auto","auto",n.offset().left-this.outerWidth(i)-s,o).removeClass("tip-override"):r&&r.indexOf("tip-right")>-1&&u(i,n.offset().top+this.outerHeight(n)/2-2.5*s,"auto","auto",n.offset().left+this.outerWidth(n)+s,o).removeClass("tip-override")}i.css("visibility","visible").hide()},inheritable_classes:function(e){var n=["tip-top","tip-left","tip-bottom","tip-right","noradius"].concat(this.settings.additionalInheritableClasses),i=e.attr("class"),r=i?t.map(i.split(" "),function(e){return-1!==t.inArray(e,n)?e:void 0}).join(" "):"";return t.trim(r)},show:function(t){var e=this.getTip(t);this.reposition(t,e,t.attr("class")),e.fadeIn(150)},hide:function(t){var e=this.getTip(t);e.fadeOut(150)},reload:function(){var e=t(this);return e.data("fndtn-tooltips")?e.foundationTooltips("destroy").foundationTooltips("init"):e.foundationTooltips("init")},off:function(){t(this.scope).off(".fndtn.tooltip"),t(this.settings.tooltipClass).each(function(e){t("[data-tooltip]").get(e).attr("title",t(this).text())}).remove()},reflow:function(){}}}(Foundation.zj,this,this.document),function(t,e,n){"use strict";Foundation.libs.topbar={name:"topbar",version:"4.3.1",settings:{index:0,stickyClass:"sticky",custom_back_text:!0,back_text:"Back",is_hover:!0,mobile_show_parent_link:!0,scrolltop:!0,init:!1},init:function(n,i,r){Foundation.inherit(this,"data_options");var o=this;return"object"==typeof i?t.extend(!0,this.settings,i):"undefined"!=typeof r&&t.extend(!0,this.settings,r),"string"!=typeof i?(t(".top-bar, [data-topbar]").each(function(){t.extend(!0,o.settings,o.data_options(t(this))),o.settings.$w=t(e),o.settings.$topbar=t(this),o.settings.$section=o.settings.$topbar.find("section"),o.settings.$titlebar=o.settings.$topbar.children("ul").first(),o.settings.$topbar.data("index",0);var n=t("<div class='top-bar-js-breakpoint'/>").insertAfter(o.settings.$topbar);o.settings.breakPoint=n.width(),n.remove(),o.assemble(),o.settings.is_hover&&o.settings.$topbar.find(".has-dropdown").addClass("not-click"),o.settings.$topbar.parent().hasClass("fixed")&&t("body").css("padding-top",o.outerHeight(o.settings.$topbar))}),o.settings.init||this.events(),this.settings.init):this[i].call(this,r)},timer:null,events:function(){var n=this,i=this.outerHeight(t(".top-bar, [data-topbar]"));t(this.scope).off(".fndtn.topbar").on("click.fndtn.topbar",".top-bar .toggle-topbar, [data-topbar] .toggle-topbar",function(r){var o=t(this).closest(".top-bar, [data-topbar]"),a=o.find("section, .section");o.children("ul").first(),r.preventDefault(),n.breakpoint()&&(n.rtl?(a.css({right:"0%"}),a.find(">.name").css({right:"100%"})):(a.css({left:"0%"}),a.find(">.name").css({left:"100%"})),a.find("li.moved").removeClass("moved"),o.data("index",0),o.toggleClass("expanded").css("height","")),o.hasClass("expanded")?o.parent().hasClass("fixed")&&(o.parent().removeClass("fixed"),o.addClass("fixed"),t("body").css("padding-top","0"),n.settings.scrolltop&&e.scrollTo(0,0)):o.hasClass("fixed")&&(o.parent().addClass("fixed"),o.removeClass("fixed"),t("body").css("padding-top",i))}).on("click.fndtn.topbar",".top-bar li.has-dropdown",function(e){if(!n.breakpoint()){var i=t(this),r=t(e.target),o=i.closest("[data-topbar], .top-bar");o.data("topbar"),(!n.settings.is_hover||Modernizr.touch)&&(e.stopImmediatePropagation(),"A"===r[0].nodeName&&r.parent().hasClass("has-dropdown")&&e.preventDefault(),i.hasClass("hover")?i.removeClass("hover").find("li").removeClass("hover"):i.addClass("hover"))}}).on("click.fndtn.topbar",".top-bar .has-dropdown>a, [data-topbar] .has-dropdown>a",function(e){if(n.breakpoint()){e.preventDefault();var i=t(this),r=i.closest(".top-bar, [data-topbar]"),o=r.find("section, .section"),a=r.children("ul").first(),s=(i.next(".dropdown").outerHeight(),i.closest("li"));r.data("index",r.data("index")+1),s.addClass("moved"),n.rtl?(o.css({right:-(100*r.data("index"))+"%"}),o.find(">.name").css({right:100*r.data("index")+"%"})):(o.css({left:-(100*r.data("index"))+"%"}),o.find(">.name").css({left:100*r.data("index")+"%"})),r.css("height",n.outerHeight(i.siblings("ul"),!0)+n.height(a))}}),t(e).on("resize.fndtn.topbar",function(){n.breakpoint()||t(".top-bar, [data-topbar]").css("height","").removeClass("expanded").find("li").removeClass("hover")}.bind(this)),t("body").on("click.fndtn.topbar",function(e){var n=t(e.target).closest("[data-topbar], .top-bar");n.length>0||t(".top-bar li, [data-topbar] li").removeClass("hover")}),t(this.scope).on("click.fndtn",".top-bar .has-dropdown .back, [data-topbar] .has-dropdown .back",function(e){e.preventDefault();var i=t(this),r=i.closest(".top-bar, [data-topbar]"),o=r.children("ul").first(),a=r.find("section, .section"),s=i.closest("li.moved"),l=s.parent();r.data("index",r.data("index")-1),n.rtl?(a.css({right:-(100*r.data("index"))+"%"}),a.find(">.name").css({right:100*r.data("index")+"%"})):(a.css({left:-(100*r.data("index"))+"%"}),a.find(">.name").css({left:100*r.data("index")+"%"})),0===r.data("index")?r.css("height",""):r.css("height",n.outerHeight(l,!0)+n.height(o)),setTimeout(function(){s.removeClass("moved")},300)})},breakpoint:function(){return t(n).width()<=this.settings.breakPoint||t("html").hasClass("lt-ie9")},assemble:function(){var e=this;this.settings.$section.detach(),this.settings.$section.find(".has-dropdown>a").each(function(){var n=t(this),i=n.siblings(".dropdown"),r=n.attr("href");if(e.settings.mobile_show_parent_link&&r&&r.length>1)var o=t('<li class="title back js-generated"><h5><a href="#"></a></h5></li><li><a class="parent-link js-generated" href="'+r+'">'+n.text()+"</a></li>");else var o=t('<li class="title back js-generated"><h5><a href="#"></a></h5></li>');1==e.settings.custom_back_text?o.find("h5>a").html("&laquo; "+e.settings.back_text):o.find("h5>a").html("&laquo; "+n.html()),i.prepend(o)}),this.settings.$section.appendTo(this.settings.$topbar),this.sticky()},height:function(e){var n=0,i=this;return e.find("> li").each(function(){n+=i.outerHeight(t(this),!0)}),n},sticky:function(){var n="."+this.settings.stickyClass;if(t(n).length>0){var i,r=t(n).length?t(n).offset().top:0,o=t(e),a=this.outerHeight(t(".top-bar"));t(e).resize(function(){clearTimeout(i),i=setTimeout(function(){r=t(n).offset().top},105)}),o.scroll(function(){o.scrollTop()>r?(t(n).addClass("fixed"),t("body").css("padding-top",a)):o.scrollTop()<=r&&(t(n).removeClass("fixed"),t("body").css("padding-top","0"))})}},off:function(){t(this.scope).off(".fndtn.topbar"),t(e).off(".fndtn.topbar")},reflow:function(){}}}(Foundation.zj,this,this.document),function(t,e,n){"use strict";Foundation.libs.interchange={name:"interchange",version:"4.2.4",cache:{},images_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":"only screen and (min-width: 1px)",small:"only screen and (min-width: 768px)",medium:"only screen and (min-width: 1280px)",large:"only screen and (min-width: 1440px)",landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(t,e){if(/IMG/.test(t[0].nodeName)){var n=t[0].src;if(new RegExp(e,"i").test(n))return;return t[0].src=e,t.trigger("replace",[t[0].src,n])}}}},init:function(e,n,i){return Foundation.inherit(this,"throttle"),"object"==typeof n&&t.extend(!0,this.settings,n),this.events(),this.images(),"string"!=typeof n?this.settings.init:this[n].call(this,i)},events:function(){var n=this;t(e).on("resize.fndtn.interchange",n.throttle(function(){n.resize.call(n)},50))},resize:function(){var e=this.cache;if(!this.images_loaded)return setTimeout(t.proxy(this.resize,this),50),void 0;for(var n in e)if(e.hasOwnProperty(n)){var i=this.results(n,e[n]);i&&this.settings.directives[i.scenario[1]](i.el,i.scenario[0])}},results:function(e,n){var i=n.length;if(i>0)for(var r=t('[data-uuid="'+e+'"]'),o=i-1;o>=0;o--){var a,s=n[o][2];if(a=this.settings.named_queries.hasOwnProperty(s)?matchMedia(this.settings.named_queries[s]):matchMedia(s),a.matches)return{el:r,scenario:n[o]}}return!1},images:function(t){return"undefined"==typeof this.cached_images||t?this.update_images():this.cached_images},update_images:function(){var e=n.getElementsByTagName("img"),i=e.length,r=0,o="data-"+this.settings.load_attr;this.cached_images=[],this.images_loaded=!1;for(var a=i-1;a>=0;a--)this.loaded(t(e[a]),function(t){if(r++,t){var e=t.getAttribute(o)||"";e.length>0&&this.cached_images.push(t)}r===i&&(this.images_loaded=!0,this.enhance())}.bind(this));return"deferred"},loaded:function(t,e){function n(){e(t[0])}function i(){if(this.one("load",n),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";e+="random="+(new Date).getTime(),this.attr("src",t+e)}}return t.attr("src")?(t[0].complete||4===t[0].readyState?n():i.call(t),void 0):(n(),void 0)},enhance:function(){for(var n=this.images().length,i=n-1;i>=0;i--)this._object(t(this.images()[i]));return t(e).trigger("resize")},parse_params:function(t,e,n){return[this.trim(t),this.convert_directive(e),this.trim(n)]},convert_directive:function(t){var e=this.trim(t);return e.length>0?e:"replace"},_object:function(t){var e=this.parse_data_attr(t),n=[],i=e.length;if(i>0)for(var r=i-1;r>=0;r--){var o=e[r].split(/\((.*?)(\))$/);if(o.length>1){var a=o[0].split(","),s=this.parse_params(a[0],a[1],o[1]);n.push(s)}}return this.store(t,n)},uuid:function(t){function e(){return(0|65536*(1+Math.random())).toString(16).substring(1)}var n=t||"-";return e()+e()+n+e()+n+e()+n+e()+n+e()+e()+e()},store:function(t,e){var n=this.uuid(),i=t.data("uuid");return i?this.cache[i]:(t.attr("data-uuid",n),this.cache[n]=e)},trim:function(e){return"string"==typeof e?t.trim(e):e},parse_data_attr:function(t){for(var e=t.data(this.settings.load_attr).split(/\[(.*?)\]/),n=e.length,i=[],r=n-1;r>=0;r--)e[r].replace(/[\W\d]+/,"").length>4&&i.push(e[r]);return i},reflow:function(){this.images(!0)}}}(Foundation.zj,this,this.document),function(t,e,n){function i(t){var e={},i=/^jQuery\d+$/;return n.each(t.attributes,function(t,n){n.specified&&!i.test(n.name)&&(e[n.name]=n.value)}),e}function r(t,i){var r=this,o=n(r);if(r.value==o.attr("placeholder")&&o.hasClass("placeholder"))if(o.data("placeholder-password")){if(o=o.hide().next().show().attr("id",o.removeAttr("id").data("placeholder-id")),t===!0)return o[0].value=i;o.focus()}else r.value="",o.removeClass("placeholder"),r==e.activeElement&&r.select()}function o(){var t,e=this,o=n(e),a=this.id;if(""==e.value){if("password"==e.type){if(!o.data("placeholder-textinput")){try{t=o.clone().attr({type:"text"})}catch(s){t=n("<input>").attr(n.extend(i(this),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":a}).bind("focus.placeholder",r),o.data({"placeholder-textinput":t,"placeholder-id":a}).before(t)}o=o.removeAttr("id").hide().prev().attr("id",a).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}var a,s,l="placeholder"in e.createElement("input"),u="placeholder"in e.createElement("textarea"),c=n.fn,d=n.valHooks;l&&u?(s=c.placeholder=function(){return this},s.input=s.textarea=!0):(s=c.placeholder=function(){var t=this;return t.filter((l?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":r,"blur.placeholder":o}).data("placeholder-enabled",!0).trigger("blur.placeholder"),t},s.input=l,s.textarea=u,a={get:function(t){var e=n(t);return e.data("placeholder-enabled")&&e.hasClass("placeholder")?"":t.value},set:function(t,i){var a=n(t);return a.data("placeholder-enabled")?(""==i?(t.value=i,t!=e.activeElement&&o.call(t)):a.hasClass("placeholder")?r.call(t,!0,i)||(t.value=i):t.value=i,a):t.value=i
}},l||(d.input=a),u||(d.textarea=a),n(function(){n(e).delegate("form","submit.placeholder",function(){var t=n(".placeholder",this).each(r);setTimeout(function(){t.each(o)},10)})}),n(t).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,Foundation.zj),function(t,e){"use strict";Foundation.libs.placeholder={name:"placeholder",version:"4.2.2",init:function(n,i){this.scope=n||this.scope,"string"!=typeof i&&(e.onload=function(){t("input, textarea").placeholder()})}}}(Foundation.zj,this,this.document),function(t,e,n){"use strict";Foundation.libs.abide={name:"abide",version:"4.3.0",settings:{live_validate:!0,focus_on_invalid:!0,timeout:1e3,patterns:{alpha:/[a-zA-Z]+/,alpha_numeric:/[a-zA-Z0-9]+/,integer:/-?\d+/,number:/-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?/,password:/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,url:/(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/,datetime:/([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))/,time:/(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}/,dateISO:/\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,month_day_year:/(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.](19|20)\d\d/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/}},timer:null,init:function(e,n,i){return"object"==typeof n&&t.extend(!0,this.settings,n),"string"==typeof n?this[n].call(this,i):(this.settings.init||this.events(),void 0)},events:function(){var e=this,n=t("form[data-abide]",this.scope).attr("novalidate","novalidate");n.on("submit validate",function(n){return e.validate(t(this).find("input, textarea, select").get(),n)}),this.settings.init=!0,this.settings.live_validate&&n.find("input, textarea, select").on("blur change",function(t){e.validate([this],t)}).on("keydown",function(t){clearTimeout(e.timer),e.timer=setTimeout(function(){e.validate([this],t)}.bind(this),e.settings.timeout)})},validate:function(e,n){for(var i=this.parse_patterns(e),r=i.length,o=t(e[0]).closest("form");r--;)if(!i[r]&&/submit/.test(n.type))return this.settings.focus_on_invalid&&e[r].focus(),o.trigger("invalid"),t(e[r]).closest("form").attr("data-invalid",""),!1;return/submit/.test(n.type)&&o.trigger("valid"),o.removeAttr("data-invalid"),!0},parse_patterns:function(t){for(var e=t.length,n=[],i=e-1;i>=0;i--)n.push(this.pattern(t[i]));return this.check_validation_and_apply_styles(n)},pattern:function(t){var e=t.getAttribute("type"),n="string"==typeof t.getAttribute("required");if(this.settings.patterns.hasOwnProperty(e))return[t,this.settings.patterns[e],n];var i=t.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(i)&&i.length>0?[t,this.settings.patterns[i],n]:i.length>0?[t,new RegExp(i),n]:(i=/.*/,[t,i,n])},check_validation_and_apply_styles:function(e){for(var n=e.length,i=[],r=n-1;r>=0;r--){var o=e[r][0],a=e[r][2],s=o.value,l="radio"===o.type,u=a?o.value.length>0:!0;l&&a?i.push(this.valid_radio(o,a)):e[r][1].test(s)&&u||!a&&o.value.length<1?(t(o).removeAttr("data-invalid").parent().removeClass("error"),i.push(!0)):(t(o).attr("data-invalid","").parent().addClass("error"),i.push(!1))}return i},valid_radio:function(e){for(var i=e.getAttribute("name"),r=n.getElementsByName(i),o=r.length,a=!1,s=0;o>s;s++)r[s].checked&&(a=!0);for(var s=0;o>s;s++)a?t(r[s]).removeAttr("data-invalid").parent().removeClass("error"):t(r[s]).attr("data-invalid","").parent().addClass("error");return a}}}(Foundation.zj,this,this.document),window.tinymce=window.tinymce||{base:"/assets/tinymce",suffix:""},function(t,e){"use strict";function n(t,e){for(var n,i=[],o=0;o<t.length;++o){if(n=a[t[o]]||r(t[o]),!n)throw"module definition dependecy not found: "+t[o];i.push(n)}e.apply(null,i)}function i(t,i,r){if("string"!=typeof t)throw"invalid module definition, module id must be defined and be a string";if(i===e)throw"invalid module definition, dependencies must be specified";if(r===e)throw"invalid module definition, definition function must be specified";n(i,function(){a[t]=r.apply(null,arguments)})}function r(e){for(var n=t,i=e.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function o(n){for(var i=0;i<n.length;i++){for(var r=t,o=n[i],s=o.split(/[.\/]/),l=0;l<s.length-1;++l)r[s[l]]===e&&(r[s[l]]={}),r=r[s[l]];r[s[s.length-1]]=a[o]}}var a={};i("tinymce/dom/Sizzle",[],function(){function t(t,n,i,r){return e.find(t,n,i,r)}if(!window.jQuery)throw new Error("Load jQuery first");var e=jQuery;return t.matches=function(t,n){return e(n).is(t)?n:[]},t}),i("tinymce/html/Styles",[],function(){return function(t,e){function n(t,e,n,i){function r(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t}return"#"+r(e)+r(n)+r(i)}var i,r,o,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,c={},d="﻿";for(t=t||{},o=("\\\" \\' \\; \\: ; : "+d).split(" "),r=0;r<o.length;r++)c[o[r]]=d+r,c[d+r]=o[r];return{toHex:function(t){return t.replace(a,n)},parse:function(e){function i(t,e){var n,i,r,o;n=y[t+"-top"+e],n&&(i=y[t+"-right"+e],n==i&&(r=y[t+"-bottom"+e],i==r&&(o=y[t+"-left"+e],r==o&&(y[t+e]=o,delete y[t+"-top"+e],delete y[t+"-right"+e],delete y[t+"-bottom"+e],delete y[t+"-left"+e]))))}function r(t){var e,n=y[t];if(n&&!(n.indexOf(" ")<0)){for(n=n.split(" "),e=n.length;e--;)if(n[e]!==n[0])return!1;return y[t]=n[0],!0}}function o(t,e,n,i){r(e)&&r(n)&&r(i)&&(y[t]=y[e]+" "+y[n]+" "+y[i],delete y[e],delete y[n],delete y[i])}function d(t){return v=!0,c[t]}function f(t,e){return v&&(t=t.replace(/\uFEFF[0-9]/g,function(t){return c[t]})),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t}function h(t,e,n,i,r,o){return(r=r||o)?(r=f(r),"'"+r.replace(/\'/g,"\\'")+"'"):(e=f(e||n||i),b&&(e=b.call(x,e,"style")),"url('"+e.replace(/\'/g,"\\'")+"')")}var p,g,m,v,y={},b=t.url_converter,x=t.url_converter_scope||this;if(e){for(e=e.replace(/\\[\"\';:\uFEFF]/g,d).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(t){return t.replace(/[;:]/g,d)});p=l.exec(e);)g=p[1].replace(u,"").toLowerCase(),m=p[2].replace(u,""),g&&m.length>0&&("font-weight"===g&&"700"===m?m="bold":("color"===g||"background-color"===g)&&(m=m.toLowerCase()),m=m.replace(a,n),m=m.replace(s,h),y[g]=v?f(m,!0):m),l.lastIndex=p.index+p[0].length;i("border",""),i("border","-width"),i("border","-color"),i("border","-style"),i("padding",""),i("margin",""),o("border","border-width","border-style","border-color"),"medium none"===y.border&&delete y.border}return y},serialize:function(t,n){function r(n){var r,o,a,l;if(r=e.styles[n])for(o=0,a=r.length;a>o;o++)n=r[o],l=t[n],l!==i&&l.length>0&&(s+=(s.length>0?" ":"")+n+": "+l+";")}var o,a,s="";if(n&&e&&e.styles)r("*"),r(n);else for(o in t)a=t[o],a!==i&&a.length>0&&(s+=(s.length>0?" ":"")+o+": "+a+";");return s}}}}),i("tinymce/dom/EventUtils",[],function(){function t(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)}function e(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n)}function n(t,e){function n(){return!1}function i(){return!0}var r,o,s=e||{};for(r in t)"layerX"!==r&&"layerY"!==r&&(s[r]=t[r]);if(s.target||(s.target=s.srcElement||document),t&&a.test(t.type)&&t.pageX===o&&t.clientX!==o){var l=s.target.ownerDocument||document,u=l.documentElement,c=l.body;s.pageX=t.clientX+(u&&u.scrollLeft||c&&c.scrollLeft||0)-(u&&u.clientLeft||c&&c.clientLeft||0),s.pageY=t.clientY+(u&&u.scrollTop||c&&c.scrollTop||0)-(u&&u.clientTop||c&&c.clientTop||0)}return s.preventDefault=function(){s.isDefaultPrevented=i,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},s.stopPropagation=function(){s.isPropagationStopped=i,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=i,s.stopPropagation()},s.isDefaultPrevented||(s.isDefaultPrevented=n,s.isPropagationStopped=n,s.isImmediatePropagationStopped=n),s}function i(n,i,r){function o(){r.domLoaded||(r.domLoaded=!0,i(u))}function a(){"complete"===l.readyState&&(e(l,"readystatechange",a),o())}function s(){try{l.documentElement.doScroll("left")}catch(t){return setTimeout(s,0),void 0}o()}var l=n.document,u={type:"ready"};return r.domLoaded?(i(u),void 0):(l.addEventListener?t(n,"DOMContentLoaded",o):(t(l,"readystatechange",a),l.documentElement.doScroll&&n===n.top&&s()),t(n,"load",o),void 0)}function r(){function r(t,e){var n,i,r,o;if(n=f[e][t.type])for(i=0,r=n.length;r>i;i++)if(o=n[i],o&&o.func.call(o.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}var a,s,l,u,c,d=this,f={};s=o+(+new Date).toString(32),u="onmouseenter"in document.documentElement,l="onfocusin"in document.documentElement,c={mouseenter:"mouseover",mouseleave:"mouseout"},a=1,d.domLoaded=!1,d.events=f,d.bind=function(e,o,h,p){function g(t){r(n(t||C.event),m)}var m,v,y,b,x,_,w,C=window;if(e&&3!==e.nodeType&&8!==e.nodeType){for(e[s]?m=e[s]:(m=a++,e[s]=m,f[m]={}),p=p||e,o=o.split(" "),y=o.length;y--;)b=o[y],_=g,x=w=!1,"DOMContentLoaded"===b&&(b="ready"),d.domLoaded&&"ready"===b&&"complete"==e.readyState?h.call(p,n({type:b})):(u||(x=c[b],x&&(_=function(t){var e,i;if(e=t.currentTarget,i=t.relatedTarget,i&&e.contains)i=e.contains(i);else for(;i&&i!==e;)i=i.parentNode;i||(t=n(t||C.event),t.type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,r(t,m))})),l||"focusin"!==b&&"focusout"!==b||(w=!0,x="focusin"===b?"focus":"blur",_=function(t){t=n(t||C.event),t.type="focus"===t.type?"focusin":"focusout",r(t,m)}),v=f[m][b],v?"ready"===b&&d.domLoaded?h({type:b}):v.push({func:h,scope:p}):(f[m][b]=v=[{func:h,scope:p}],v.fakeName=x,v.capture=w,v.nativeHandler=_,"ready"===b?i(e,_,d):t(e,x||b,_,w)));return e=v=0,h}},d.unbind=function(t,n,i){var r,o,a,l,u,c;if(!t||3===t.nodeType||8===t.nodeType)return d;if(r=t[s]){if(c=f[r],n){for(n=n.split(" "),a=n.length;a--;)if(u=n[a],o=c[u]){if(i)for(l=o.length;l--;)o[l].func===i&&o.splice(l,1);i&&0!==o.length||(delete c[u],e(t,o.fakeName||u,o.nativeHandler,o.capture))}}else{for(u in c)o=c[u],e(t,o.fakeName||u,o.nativeHandler,o.capture);c={}}for(u in c)return d;delete f[r];try{delete t[s]}catch(h){t[s]=null}}return d},d.fire=function(t,e,i){var o;if(!t||3===t.nodeType||8===t.nodeType)return d;i=n(null,i),i.type=e,i.target=t;do o=t[s],o&&r(i,o),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow;while(t&&!i.isPropagationStopped());return d},d.clean=function(t){var e,n,i=d.unbind;if(!t||3===t.nodeType||8===t.nodeType)return d;if(t[s]&&i(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(i(t),n=t.getElementsByTagName("*"),e=n.length;e--;)t=n[e],t[s]&&i(t);return d},d.destroy=function(){f={}},d.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}}var o="mce-data-",a=/^(?:mouse|contextmenu)|click/;return r.Event=new r,r.Event.bind(window,"ready",function(){}),r}),i("tinymce/dom/TreeWalker",[],function(){return function(t,e){function n(t,n,i,r){var o,a;if(t){if(!r&&t[n])return t[n];if(t!=e){if(o=t[i])return o;for(a=t.parentNode;a&&a!=e;a=a.parentNode)if(o=a[i])return o}}}var i=t;this.current=function(){return i},this.next=function(t){return i=n(i,"firstChild","nextSibling",t)},this.prev=function(t){return i=n(i,"lastChild","previousSibling",t)}}}),i("tinymce/util/Tools",[],function(){function t(t,n){return n?"array"==n&&m(t)?!0:typeof t==n:t!==e}function n(t){var e,n,i=[];for(e=0,n=t.length;n>e;e++)i[e]=t[e];return i}function i(t,e,n){var i;for(t=t||[],e=e||",","string"==typeof t&&(t=t.split(e)),n=n||{},i=t.length;i--;)n[t[i]]={};return n}function r(t,n,i){var r,o;if(!t)return 0;if(i=i||t,t.length!==e){for(r=0,o=t.length;o>r;r++)if(n.call(i,t[r],r,t)===!1)return 0}else for(r in t)if(t.hasOwnProperty(r)&&n.call(i,t[r],r,t)===!1)return 0;return 1}function o(t,e){var n=[];return r(t,function(t){n.push(e(t))}),n}function a(t,e){var n=[];return r(t,function(t){(!e||e(t))&&n.push(t)}),n}function s(t,e,n){var i,r,o,a,s,l=this,u=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),o=t[3].match(/(^|\.)(\w+)$/i)[2],r=l.createNS(t[3].replace(/\.\w+$/,""),n),!r[o]){if("static"==t[2])return r[o]=e,this.onCreate&&this.onCreate(t[2],t[3],r[o]),void 0;e[o]||(e[o]=function(){},u=1),r[o]=e[o],l.extend(r[o].prototype,e),t[5]&&(i=l.resolve(t[5]).prototype,a=t[5].match(/\.(\w+)$/i)[1],s=r[o],r[o]=u?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(t,e){r[o].prototype[e]=i[e]}),l.each(e,function(t,e){i[e]?r[o].prototype[e]=function(){return this.parent=i[e],t.apply(this,arguments)}:e!=o&&(r[o].prototype[e]=t)})),l.each(e["static"],function(t,e){r[o][e]=t})}}function l(t,e){var n,i;if(t)for(n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1}function u(t,n){var i,r,o,a,s=arguments;for(i=1,r=s.length;r>i;i++){n=s[i];for(o in n)n.hasOwnProperty(o)&&(a=n[o],a!==e&&(t[o]=a))}return t}function c(t,e,n,i){i=i||this,t&&(n&&(t=t[n]),r(t,function(t,r){return e.call(i,t,r,n)===!1?!1:(c(t,e,n,i),void 0)}))}function d(t,e){var n,i;for(e=e||window,t=t.split("."),n=0;n<t.length;n++)i=t[n],e[i]||(e[i]={}),e=e[i];return e}function f(t,e){var n,i;for(e=e||window,t=t.split("."),n=0,i=t.length;i>n&&(e=e[t[n]],e);n++);return e}function h(e,n){return!e||t(e,"array")?e:o(e.split(n||","),g)}var p=/^\s*|\s*$/g,g=function(t){return null===t||t===e?"":(""+t).replace(p,"")},m=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};return{trim:g,isArray:m,is:t,toArray:n,makeMap:i,each:r,map:o,grep:a,inArray:l,extend:u,create:s,walk:c,createNS:d,resolve:f,explode:h}}),i("tinymce/dom/Range",["tinymce/util/Tools"],function(t){function e(n){function i(){return F.createDocumentFragment()}function r(t,e){C(O,t,e)}function o(t,e){C(z,t,e)}function a(t){r(t.parentNode,V(t))}function s(t){r(t.parentNode,V(t)+1)}function l(t){o(t.parentNode,V(t))}function u(t){o(t.parentNode,V(t)+1)}function c(t){t?(L[W]=L[I],L[q]=L[$]):(L[I]=L[W],L[$]=L[q]),L.collapsed=O}function d(t){a(t),u(t)}function f(t){r(t,0),o(t,1===t.nodeType?t.childNodes.length:t.nodeValue.length)}function h(t,e){var n=L[I],i=L[$],r=L[W],o=L[q],a=e.startContainer,s=e.startOffset,l=e.endContainer,u=e.endOffset;return 0===t?w(n,i,a,s):1===t?w(r,o,a,s):2===t?w(r,o,l,u):3===t?w(n,i,l,u):void 0}function p(){k(j)}function g(){return k(B)}function m(){return k(P)}function v(t){var e,i,r=this[I],o=this[$];3!==r.nodeType&&4!==r.nodeType||!r.nodeValue?(r.childNodes.length>0&&(i=r.childNodes[o]),i?r.insertBefore(t,i):r.appendChild(t)):o?o>=r.nodeValue.length?n.insertAfter(t,r):(e=r.splitText(o),r.parentNode.insertBefore(t,e)):r.parentNode.insertBefore(t,r)}function y(t){var e=L.extractContents();L.insertNode(t),t.appendChild(e),L.selectNode(t)}function b(){return U(new e(n),{startContainer:L[I],startOffset:L[$],endContainer:L[W],endOffset:L[q],collapsed:L.collapsed,commonAncestorContainer:L.commonAncestorContainer})}function x(t,e){var n;if(3==t.nodeType)return t;if(0>e)return t;for(n=t.firstChild;n&&e>0;)--e,n=n.nextSibling;return n?n:t}function _(){return L[I]==L[W]&&L[$]==L[q]}function w(t,e,i,r){var o,a,s,l,u,c;if(t==i)return e==r?0:r>e?-1:1;for(o=i;o&&o.parentNode!=t;)o=o.parentNode;if(o){for(a=0,s=t.firstChild;s!=o&&e>a;)a++,s=s.nextSibling;return a>=e?-1:1}for(o=t;o&&o.parentNode!=i;)o=o.parentNode;if(o){for(a=0,s=i.firstChild;s!=o&&r>a;)a++,s=s.nextSibling;return r>a?-1:1}for(l=n.findCommonAncestor(t,i),u=t;u&&u.parentNode!=l;)u=u.parentNode;for(u||(u=l),c=i;c&&c.parentNode!=l;)c=c.parentNode;if(c||(c=l),u==c)return 0;for(s=l.firstChild;s;){if(s==u)return-1;if(s==c)return 1;s=s.nextSibling}}function C(t,e,i){var r,o;for(t?(L[I]=e,L[$]=i):(L[W]=e,L[q]=i),r=L[W];r.parentNode;)r=r.parentNode;for(o=L[I];o.parentNode;)o=o.parentNode;o==r?w(L[I],L[$],L[W],L[q])>0&&L.collapse(t):L.collapse(t),L.collapsed=_(),L.commonAncestorContainer=n.findCommonAncestor(L[I],L[W])}function k(t){var e,n,i,r,o,a,s,l=0,u=0;if(L[I]==L[W])return E(t);for(e=L[W],n=e.parentNode;n;e=n,n=n.parentNode){if(n==L[I])return S(e,t);++l}for(e=L[I],n=e.parentNode;n;e=n,n=n.parentNode){if(n==L[W])return M(e,t);++u}for(i=u-l,r=L[I];i>0;)r=r.parentNode,i--;for(o=L[W];0>i;)o=o.parentNode,i++;for(a=r.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)r=a,o=s;return T(r,o,t)}function E(t){var e,n,r,o,a,s,l,u,c;if(t!=j&&(e=i()),L[$]==L[q])return e;if(3==L[I].nodeType){if(n=L[I].nodeValue,r=n.substring(L[$],L[q]),t!=P&&(o=L[I],u=L[$],c=L[q]-L[$],0===u&&c>=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(u,c),L.collapse(O)),t==j)return;return r.length>0&&e.appendChild(F.createTextNode(r)),e}for(o=x(L[I],L[$]),a=L[q]-L[$];o&&a>0;)s=o.nextSibling,l=D(o,t),e&&e.appendChild(l),--a,o=s;return t!=P&&L.collapse(O),e}function S(t,e){var n,r,o,a,s,l;if(e!=j&&(n=i()),r=N(t,e),n&&n.appendChild(r),o=V(t),a=o-L[$],0>=a)return e!=P&&(L.setEndBefore(t),L.collapse(z)),n;for(r=t.previousSibling;a>0;)s=r.previousSibling,l=D(r,e),n&&n.insertBefore(l,n.firstChild),--a,r=s;return e!=P&&(L.setEndBefore(t),L.collapse(z)),n}function M(t,e){var n,r,o,a,s,l;for(e!=j&&(n=i()),o=A(t,e),n&&n.appendChild(o),r=V(t),++r,a=L[q]-r,o=t.nextSibling;o&&a>0;)s=o.nextSibling,l=D(o,e),n&&n.appendChild(l),--a,o=s;return e!=P&&(L.setStartAfter(t),L.collapse(O)),n}function T(t,e,n){var r,o,a,s,l,u,c,d;for(n!=j&&(o=i()),r=A(t,n),o&&o.appendChild(r),a=t.parentNode,s=V(t),l=V(e),++s,u=l-s,c=t.nextSibling;u>0;)d=c.nextSibling,r=D(c,n),o&&o.appendChild(r),c=d,--u;return r=N(e,n),o&&o.appendChild(r),n!=P&&(L.setStartAfter(t),L.collapse(O)),o}function N(t,e){var n,i,r,o,a,s=x(L[W],L[q]-1),l=s!=L[W];if(s==t)return R(s,l,z,e);for(n=s.parentNode,i=R(n,z,z,e);n;){for(;s;)r=s.previousSibling,o=R(s,l,z,e),e!=j&&i.insertBefore(o,i.firstChild),l=O,s=r;if(n==t)return i;s=n.previousSibling,n=n.parentNode,a=R(n,z,z,e),e!=j&&a.appendChild(i),i=a}}function A(t,e){var n,i,r,o,a,s=x(L[I],L[$]),l=s!=L[I];if(s==t)return R(s,l,O,e);for(n=s.parentNode,i=R(n,z,O,e);n;){for(;s;)r=s.nextSibling,o=R(s,l,O,e),e!=j&&i.appendChild(o),l=O,s=r;if(n==t)return i;s=n.nextSibling,n=n.parentNode,a=R(n,z,O,e),e!=j&&a.appendChild(i),i=a}}function R(t,e,i,r){var o,a,s,l,u;if(e)return D(t,r);if(3==t.nodeType){if(o=t.nodeValue,i?(l=L[$],a=o.substring(l),s=o.substring(0,l)):(l=L[q],a=o.substring(0,l),s=o.substring(l)),r!=P&&(t.nodeValue=s),r==j)return;return u=n.clone(t,z),u.nodeValue=a,u}if(r!=j)return n.clone(t,z)}function D(t,e){return e!=j?e==P?n.clone(t,O):t:(t.parentNode.removeChild(t),void 0)}function H(){return n.create("body",null,m()).outerText}var L=this,F=n.doc,B=0,P=1,j=2,O=!0,z=!1,$="startOffset",I="startContainer",W="endContainer",q="endOffset",U=t.extend,V=n.nodeIndex;return U(L,{startContainer:F,startOffset:0,endContainer:F,endOffset:0,collapsed:O,commonAncestorContainer:F,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:r,setEnd:o,setStartBefore:a,setStartAfter:s,setEndBefore:l,setEndAfter:u,collapse:c,selectNode:d,selectNodeContents:f,compareBoundaryPoints:h,deleteContents:p,extractContents:g,cloneContents:m,insertNode:v,surroundContents:y,cloneRange:b,toStringIE:H}),L}return e.prototype.toString=function(){return this.toStringIE()},e}),i("tinymce/html/Entities",["tinymce/util/Tools"],function(t){function e(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.textContent||e.innerText||t}function n(t,e){var n,i,o,a={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)i=String.fromCharCode(parseInt(t[n],e)),r[i]||(o="&"+t[n+1]+";",a[i]=o,a[o]=i);return a}}var i,r,o,a=t.makeMap,s=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[<>&\"\']/g,c=/&(#x|#)?([\w]+);/g,d={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var f={encodeRaw:function(t,e){return t.replace(e?s:l,function(t){return r[t]||t})},encodeAllRaw:function(t){return(""+t).replace(u,function(t){return r[t]||t})},encodeNumeric:function(t,e){return t.replace(e?s:l,function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":r[t]||"&#"+t.charCodeAt(0)+";"})},encodeNamed:function(t,e,n){return n=n||i,t.replace(e?s:l,function(t){return r[t]||n[t]||t})},getEncodeFunc:function(t,e){function o(t,n){return t.replace(n?s:l,function(t){return r[t]||e[t]||"&#"+t.charCodeAt(0)+";"||t})}function u(t,n){return f.encodeNamed(t,n,e)}return e=n(e)||i,t=a(t.replace(/\+/g,",")),t.named&&t.numeric?o:t.named?e?u:f.encodeNamed:t.numeric?f.encodeNumeric:f.encodeRaw},decode:function(t){return t.replace(c,function(t,n,r){return n?(r=parseInt(r,2===n.length?16:10),r>65535?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(1023&r))):d[r]||String.fromCharCode(r)):o[t]||i[t]||e(t)})}};return f}),i("tinymce/Env",[],function(){var t,e,n,i,r,o,a=navigator,s=a.userAgent;t=window.opera&&window.opera.buildNumber,e=/WebKit/.test(s),n=!e&&!t&&/MSIE/gi.test(s)&&/Explorer/gi.test(a.appName),n=n&&/MSIE (\w+)\./.exec(s)[1],i=!e&&/Gecko/.test(s),r=-1!=s.indexOf("Mac"),o=/(iPad|iPhone)/.test(s);var l=!o||s.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:t,webkit:e,ie:n,gecko:i,mac:r,iOS:o,contentEditable:l,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=n,range:window.getSelection&&"Range"in window,documentMode:n?document.documentMode||7:10}}),i("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools"],function(t,n,i,r,o,a,s,l){function u(t,e){var r,o=this;o.doc=t,o.win=window,o.files={},o.counter=0,o.stdMode=!m||t.documentMode>=8,o.boxModel=!m||"CSS1Compat"==t.compatMode||o.stdMode,o.hasOuterHTML="outerHTML"in t.createElement("a"),o.settings=e=p({keep_values:!1,hex_colors:1},e),o.schema=e.schema,o.styles=new n({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),o.fixDoc(t),o.events=e.ownEvents?new i(e.proxy):i.Event,r=e.schema?e.schema.getBlockElements():{},o.isBlock=function(t){if(!t)return!1;var e=t.nodeType;return e?!(1!==e||!r[t.nodeName]):!!r[t]}}var c=l.each,d=l.is,f=l.grep,h=l.trim,p=l.extend,g=s.webkit,m=s.ie,v=/^([a-z0-9],?)+$/i,y=/^[ \t\r\n]*$/,b=l.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");return u.prototype={root:null,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(t){var e,n=this.settings;if(m&&n.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(e){t.createElement(e)});for(e in n.schema.getCustomElements())t.createElement(e)}},clone:function(t,e){var n,i,r=this;return!m||1!==t.nodeType||e?t.cloneNode(e):(i=r.doc,e?n.firstChild:(n=i.createElement(t.nodeName),c(r.getAttribs(t),function(e){r.setAttrib(n,e.nodeName,r.getAttrib(t,e.nodeName))}),n))},getRoot:function(){var t=this;return t.get(t.settings.root_element)||t.doc.body},getViewPort:function(t){var e,n;return t=t?t:this.win,e=t.document,n=this.boxModel?e.documentElement:e.body,{x:t.pageXOffset||n.scrollLeft,y:t.pageYOffset||n.scrollTop,w:t.innerWidth||n.clientWidth,h:t.innerHeight||n.clientHeight}},getRect:function(t){var e,n,i=this;return t=i.get(t),e=i.getPos(t),n=i.getSize(t),{x:e.x,y:e.y,w:n.w,h:n.h}},getSize:function(t){var e,n,i=this;return t=i.get(t),e=i.getStyle(t,"width"),n=i.getStyle(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},getParent:function(t,e,n){return this.getParents(t,e,n,!1)},getParents:function(t,n,i,r){var o,a=this,s=[];for(t=a.get(t),r=r===e,i=i||("BODY"!=a.getRoot().nodeName?a.getRoot().parentNode:null),d(n,"string")&&(o=n,n="*"===n?function(t){return 1==t.nodeType}:function(t){return a.is(t,o)});t&&t!=i&&t.nodeType&&9!==t.nodeType;){if(!n||n(t)){if(!r)return t;s.push(t)}t=t.parentNode}return r?s:null},get:function(t){var e;return t&&this.doc&&"string"==typeof t&&(e=t,t=this.doc.getElementById(t),t&&t.id!==e)?this.doc.getElementsByName(e)[1]:t},getNext:function(t,e){return this._findSib(t,e,"nextSibling")},getPrev:function(t,e){return this._findSib(t,e,"previousSibling")},select:function(e,n){var i=this;return t(e,i.get(n)||i.get(i.settings.root_element)||i.doc,[])},is:function(n,i){var r;if(n.length===e){if("*"===i)return 1==n.nodeType;if(v.test(i)){for(i=i.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),r=i.length-1;r>=0;r--)if(i[r]==n)return!0;return!1}}return n.nodeType&&1!=n.nodeType?!1:t.matches(i,n.nodeType?[n]:n).length>0},add:function(t,e,n,i,r){var o=this;return this.run(t,function(t){var a;return a=d(e,"string")?o.doc.createElement(e):e,o.setAttribs(a,n),i&&(i.nodeType?a.appendChild(i):o.setHTML(a,i)),r?a:t.appendChild(a)})},create:function(t,e,n){return this.add(this.doc.createElement(t),t,e,n,1)},createHTML:function(t,e,n){var i,r="";r+="<"+t;for(i in e)e.hasOwnProperty(i)&&null!==e[i]&&(r+=" "+i+'="'+this.encode(e[i])+'"');return"undefined"!=typeof n?r+">"+n+"</"+t+">":r+" />"},createFragment:function(t){var e,n,i,r=this.doc;for(i=r.createElement("div"),e=r.createDocumentFragment(),t&&(i.innerHTML=t);n=i.firstChild;)e.appendChild(n);return e},remove:function(t,e){return this.run(t,function(t){var n,i=t.parentNode;if(!i)return null;if(e)for(;n=t.firstChild;)!m||3!==n.nodeType||n.nodeValue?i.insertBefore(n,t):t.removeChild(n);return i.removeChild(t)})},setStyle:function(t,e,n){return this.run(t,function(t){var i,r,o=this;if(e)if("string"==typeof e){i=t.style,e=e.replace(/-(\D)/g,function(t,e){return e.toUpperCase()}),"number"!=typeof n||b[e]||(n+="px"),"opacity"===e&&t.runtimeStyle&&"undefined"==typeof t.runtimeStyle.opacity&&(i.filter=""===n?"":"alpha(opacity="+100*n+")"),"float"==e&&(e="cssFloat"in t.style?"cssFloat":"styleFloat");try{i[e]=n}catch(a){}o.settings.update_styles&&t.removeAttribute("data-mce-style")}else for(r in e)o.setStyle(t,r,e[r])})},getStyle:function(t,n,i){if(t=this.get(t)){if(this.doc.defaultView&&i){n=n.replace(/[A-Z]/g,function(t){return"-"+t});try{return this.doc.defaultView.getComputedStyle(t,null).getPropertyValue(n)}catch(r){return null}}return n=n.replace(/-(\D)/g,function(t,e){return e.toUpperCase()}),"float"==n&&(n=m?"styleFloat":"cssFloat"),n.currentStyle&&i?t.currentStyle[n]:t.style?t.style[n]:e}},setStyles:function(t,e){this.setStyle(t,e)},css:function(t,e,n){this.setStyle(t,e,n)},removeAllAttribs:function(t){return this.run(t,function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))})},setAttrib:function(t,e,n){var i=this;if(t&&e)return this.run(t,function(t){var r=i.settings,o=t.getAttribute(e);if(null!==n)switch(e){case"style":if(!d(n,"string"))return c(n,function(e,n){i.setStyle(t,n,e)}),void 0;r.keep_values&&(n?t.setAttribute("data-mce-style",n,2):t.removeAttribute("data-mce-style",2)),t.style.cssText=n;break;case"class":t.className=n||"";break;case"src":case"href":r.keep_values&&(r.url_converter&&(n=r.url_converter.call(r.url_converter_scope||i,n,e,t)),i.setAttrib(t,"data-mce-"+e,n,2));break;case"shape":t.setAttribute("data-mce-style",n)}d(n)&&null!==n&&0!==n.length?t.setAttribute(e,""+n,2):t.removeAttribute(e,2),o!=n&&r.onSetAttrib&&r.onSetAttrib({attrElm:t,attrName:e,attrValue:n})})},setAttribs:function(t,e){var n=this;return this.run(t,function(t){c(e,function(e,i){n.setAttrib(t,i,e)})})},getAttrib:function(t,e,n){var i,r,o=this;if(t=o.get(t),!t||1!==t.nodeType)return n===r?!1:n;if(d(n)||(n=""),/^(src|href|style|coords|shape)$/.test(e)&&(i=t.getAttribute("data-mce-"+e)))return i;if(m&&o.props[e]&&(i=t[o.props[e]],i=i&&i.nodeValue?i.nodeValue:i),i||(i=t.getAttribute(e,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(e))return t[o.props[e]]===!0&&""===i?e:i?e:"";if("FORM"===t.nodeName&&t.getAttributeNode(e))return t.getAttributeNode(e).nodeValue;if("style"===e&&(i=i||t.style.cssText,i&&(i=o.serializeStyle(o.parseStyle(i),t.nodeName),o.settings.keep_values&&t.setAttribute("data-mce-style",i))),g&&"class"===e&&i&&(i=i.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),m)switch(e){case"rowspan":case"colspan":1===i&&(i="");break;case"size":("+0"===i||20===i||0===i)&&(i="");
break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===i&&(i="");break;case"hspace":-1===i&&(i="");break;case"maxlength":case"tabindex":(32768===i||2147483647===i||"32768"===i)&&(i="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===i?e:n;case"shape":i=i.toLowerCase();break;default:0===e.indexOf("on")&&i&&(i=(""+i).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1"))}return i!==r&&null!==i&&""!==i?""+i:n},getPos:function(t,e){var n,i,r=this,o=0,a=0,s=r.doc;if(t=r.get(t),e=e||s.body,t){if(e===s.body&&t.getBoundingClientRect)return i=t.getBoundingClientRect(),e=r.boxModel?s.documentElement:s.body,o=i.left+(s.documentElement.scrollLeft||s.body.scrollLeft)-e.clientTop,a=i.top+(s.documentElement.scrollTop||s.body.scrollTop)-e.clientLeft,{x:o,y:a};for(n=t;n&&n!=e&&n.nodeType;)o+=n.offsetLeft||0,a+=n.offsetTop||0,n=n.offsetParent;for(n=t.parentNode;n&&n!=e&&n.nodeType;)o-=n.scrollLeft||0,a-=n.scrollTop||0,n=n.parentNode}return{x:o,y:a}},parseStyle:function(t){return this.styles.parse(t)},serializeStyle:function(t,e){return this.styles.serialize(t,e)},addStyle:function(t){var e,n,i=this,r=i.doc;if(i!==u.DOM&&r===document){var o=u.DOM.addedStyles;if(o=o||[],o[t])return;o[t]=!0,u.DOM.addedStyles=o}n=r.getElementById("mceDefaultStyles"),n||(n=r.createElement("style"),n.id="mceDefaultStyles",n.type="text/css",e=r.getElementsByTagName("head")[0],e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(r.createTextNode(t))},loadCSS:function(t){var e,n=this,i=n.doc;return n!==u.DOM&&i===document?(u.DOM.loadCSS(t),void 0):(t||(t=""),e=i.getElementsByTagName("head")[0],c(t.split(","),function(t){var r;n.files[t]||(n.files[t]=!0,r=n.create("link",{rel:"stylesheet",href:t}),m&&i.documentMode&&i.recalc&&(r.onload=function(){i.recalc&&i.recalc(),r.onload=null}),e.appendChild(r))}),void 0)},addClass:function(t,e){return this.run(t,function(t){var n;return e?this.hasClass(t,e)?t.className:(n=this.removeClass(t,e),t.className=n=(""!==n?n+" ":"")+e,n):0})},removeClass:function(t,e){var n,i=this;return i.run(t,function(t){var r;return i.hasClass(t,e)?(n||(n=new RegExp("(^|\\s+)"+e+"(\\s+|$)","g")),r=t.className.replace(n," "),r=h(" "!=r?r:""),t.className=r,r||(t.removeAttribute("class"),t.removeAttribute("className")),r):t.className})},hasClass:function(t,e){return t=this.get(t),t&&e?-1!==(" "+t.className+" ").indexOf(" "+e+" "):!1},toggleClass:function(t,n,i){i=i===e?!this.hasClass(t,n):i,this.hasClass(t,n)!==i&&(i?this.addClass(t,n):this.removeClass(t,n))},show:function(t){return this.setStyle(t,"display","block")},hide:function(t){return this.setStyle(t,"display","none")},isHidden:function(t){return t=this.get(t),!t||"none"==t.style.display||"none"==this.getStyle(t,"display")},uniqueId:function(t){return(t?t:"mce_")+this.counter++},setHTML:function(t,e){var n=this;return n.run(t,function(t){if(m){for(;t.firstChild;)t.removeChild(t.firstChild);try{t.innerHTML="<br />"+e,t.removeChild(t.firstChild)}catch(i){var r=n.create("div");r.innerHTML="<br />"+e,c(f(r.childNodes),function(e,n){n&&t.canHaveHTML&&t.appendChild(e)})}}else t.innerHTML=e;return e})},getOuterHTML:function(t){var e,n=this;return(t=n.get(t))?1===t.nodeType&&n.hasOuterHTML?t.outerHTML:(e=(t.ownerDocument||n.doc).createElement("body"),e.appendChild(t.cloneNode(!0)),e.innerHTML):null},setOuterHTML:function(t,e,n){var i=this;return i.run(t,function(t){function r(){var r,o;for(o=n.createElement("body"),o.innerHTML=e,r=o.lastChild;r;)i.insertAfter(r.cloneNode(!0),t),r=r.previousSibling;i.remove(t)}if(1==t.nodeType)if(n=n||t.ownerDocument||i.doc,m)try{1==t.nodeType&&i.hasOuterHTML?t.outerHTML=e:r()}catch(o){r()}else r()})},decode:a.decode,encode:a.encodeAllRaw,insertAfter:function(t,e){return e=this.get(e),this.run(t,function(t){var n,i;return n=e.parentNode,i=e.nextSibling,i?n.insertBefore(t,i):n.appendChild(t),t})},replace:function(t,e,n){var i=this;return i.run(e,function(e){return d(e,"array")&&(t=t.cloneNode(!0)),n&&c(f(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},rename:function(t,e){var n,i=this;return t.nodeName!=e.toUpperCase()&&(n=i.create(e),c(i.getAttribs(t),function(e){i.setAttrib(n,e.nodeName,i.getAttrib(t,e.nodeName))}),i.replace(n,t,1)),n||t},findCommonAncestor:function(t,e){for(var n,i=t;i;){for(n=e;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&t.ownerDocument?t.ownerDocument.documentElement:i},toHex:function(t){return this.styles.toHex(l.trim(t))},getClasses:function(){function t(n){c(n.imports,function(e){t(e)}),c(n.cssRules||n.rules,function(n){switch(n.type||1){case 1:n.selectorText&&c(n.selectorText.split(","),function(t){t=t.replace(/^\s*|\s*$|^\s\./g,""),!/\.mce/.test(t)&&/\.[\w\-]+$/.test(t)&&(e=t,t=t.replace(/.*\.([a-z0-9_\-]+).*/i,"$1"),(!o||(t=o(t,e)))&&(r[t]||(i.push({"class":t}),r[t]=1)))});break;case 3:t(n.styleSheet)}})}var e,n=this,i=[],r={},o=n.settings.class_filter;if(n.classes)return n.classes;try{c(n.doc.styleSheets,t)}catch(a){}return i.length>0&&(n.classes=i),i},run:function(t,e,n){var i,r=this;return"string"==typeof t&&(t=r.get(t)),t?(n=n||this,t.nodeType||!t.length&&0!==t.length?e.call(n,t):(i=[],c(t,function(t,o){t&&("string"==typeof t&&(t=r.get(t)),i.push(e.call(n,t,o)))}),i)):!1},getAttribs:function(t){var e;if(t=this.get(t),!t)return[];if(m){if(e=[],"OBJECT"==t.nodeName)return t.attributes;"OPTION"===t.nodeName&&this.getAttrib(t,"selected")&&e.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return t.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(t){e.push({specified:1,nodeName:t})}),e}return t.attributes},isEmpty:function(t,e){var n,i,o,a,s,l=this,u=0;if(t=t.firstChild){a=new r(t,t.parentNode),e=e||l.schema?l.schema.getNonEmptyElements():null;do{if(o=t.nodeType,1===o){if(t.getAttribute("data-mce-bogus"))continue;if(s=t.nodeName.toLowerCase(),e&&e[s]){if("br"===s){u++;continue}return!1}for(i=l.getAttribs(t),n=t.attributes.length;n--;)if(s=t.attributes[n].nodeName,"name"===s||"data-mce-bookmark"===s)return!1}if(8==o)return!1;if(3===o&&!y.test(t.nodeValue))return!1}while(t=a.next())}return 1>=u},createRng:function(){var t=this.doc;return t.createRange?t.createRange():new o(this)},nodeIndex:function(t,e){var n,i,r,o=0;if(t)for(n=t.nodeType,t=t.previousSibling,i=t;t;t=t.previousSibling)r=t.nodeType,(!e||3!=r||r!=n&&t.nodeValue.length)&&(o++,n=r);return o},split:function(t,e,n){function i(t){function e(t){var e=t.previousSibling&&"SPAN"==t.previousSibling.nodeName,n=t.nextSibling&&"SPAN"==t.nextSibling.nodeName;return e&&n}var n,r=t.childNodes,o=t.nodeType;if(1!=o||"bookmark"!=t.getAttribute("data-mce-type")){for(n=r.length-1;n>=0;n--)i(r[n]);if(9!=o){if(3==o&&t.nodeValue.length>0){var a=h(t.nodeValue).length;if(!s.isBlock(t.parentNode)||a>0||0===a&&e(t))return}else if(1==o&&(r=t.childNodes,1==r.length&&r[0]&&1==r[0].nodeType&&"bookmark"==r[0].getAttribute("data-mce-type")&&t.parentNode.insertBefore(r[0],t),r.length||/^(br|hr|input|img)$/i.test(t.nodeName)))return;s.remove(t)}return t}}var r,o,a,s=this,l=s.createRng();return t&&e?(l.setStart(t.parentNode,s.nodeIndex(t)),l.setEnd(e.parentNode,s.nodeIndex(e)),r=l.extractContents(),l=s.createRng(),l.setStart(e.parentNode,s.nodeIndex(e)+1),l.setEnd(t.parentNode,s.nodeIndex(t)+1),o=l.extractContents(),a=t.parentNode,a.insertBefore(i(r),t),n?a.replaceChild(n,e):a.insertBefore(e,t),a.insertBefore(i(o),t),s.remove(t),n||e):void 0},bind:function(t,e,n,i){return this.events.bind(t,e,n,i||this)},unbind:function(t,e,n){return this.events.unbind(t,e,n)},fire:function(t,e,n){return this.events.fire(t,e,n)},getContentEditable:function(t){var e;return 1!=t.nodeType?null:(e=t.getAttribute("data-mce-contenteditable"),e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null)},destroy:function(){var t=this;t.win=t.doc=t.root=t.events=t.frag=null},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset},_findSib:function(t,e,n){var i=this,r=e;if(t)for("string"==typeof r&&(r=function(t){return i.is(t,e)}),t=t[n];t;t=t[n])if(r(t))return t;return null}},u.DOM=new u(document),u}),i("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(t,e){function n(){function t(t,e){function n(){s.remove(a),o&&(o.onreadystatechange=o.onload=o=null),e()}function r(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+t)}var o,a,s=i;a=s.uniqueId(),o=document.createElement("script"),o.id=a,o.type="text/javascript",o.src=t,"onreadystatechange"in o?o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&n()}:o.onload=n,o.onerror=r,(document.getElementsByTagName("head")[0]||document.body).appendChild(o)}var e,n=0,a=1,s=2,l={},u=[],c={},d=[],f=0;this.isDone=function(t){return l[t]==s},this.markDone=function(t){l[t]=s},this.add=this.load=function(t,i,r){var o=l[t];o==e&&(u.push(t),l[t]=n),i&&(c[t]||(c[t]=[]),c[t].push({func:i,scope:r||this}))},this.loadQueue=function(t,e){this.loadScripts(u,t,e)},this.loadScripts=function(n,i,u){function h(t){r(c[t],function(t){t.func.call(t.scope)}),c[t]=e}var p;d.push({func:i,scope:u||this}),p=function(){var e=o(n);n.length=0,r(e,function(e){return l[e]==s?(h(e),void 0):(l[e]!=a&&(l[e]=a,f++,t(e,function(){l[e]=s,f--,h(e),p()})),void 0)}),f||(r(d,function(t){t.func.call(t.scope)}),d.length=0)},p()}}var i=t.DOM,r=e.each,o=e.grep;return n.ScriptLoader=new n,n}),i("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(t,n){function i(){var t=this;t.items=[],t.urls={},t.lookup={}}var r=n.each;return i.prototype={get:function(t){return this.lookup[t]?this.lookup[t].instance:e},dependencies:function(t){var e;return this.lookup[t]&&(e=this.lookup[t].dependencies),e||[]},requireLangPack:function(e){var n=i.settings;n&&n.language&&n.language_load!==!1&&t.ScriptLoader.add(this.urls[e]+"/langs/"+n.language+".js")},add:function(t,e,n){return this.items.push(e),this.lookup[t]={instance:e,dependencies:n},e},createUrl:function(t,e){return"object"==typeof e?e:{prefix:t.prefix,resource:e,suffix:t.suffix}},addComponents:function(e,n){var i=this.urls[e];r(n,function(e){t.ScriptLoader.add(i+"/"+e)})},load:function(n,o,a,s){function l(){var i=u.dependencies(n);r(i,function(t){var n=u.createUrl(o,t);u.load(n.resource,n,e,e)}),a&&(s?a.call(s):a.call(t))}var u=this,c=o;u.urls[n]||("object"==typeof o&&(c=o.prefix+o.resource+o.suffix),0!==c.indexOf("/")&&-1==c.indexOf("://")&&(c=i.baseURL+"/"+c),u.urls[n]=c.substring(0,c.lastIndexOf("/")),u.lookup[n]?l():t.ScriptLoader.add(c,l,s))}},i.PluginManager=new i,i.ThemeManager=new i,i}),i("tinymce/html/Node",[],function(){function t(t,e,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(t[o])return t[o];if(t!==e){if(i=t[a])return i;for(r=t.parent;r&&r!==e;r=r.parent)if(i=r[a])return i}}function e(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,i={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return e.prototype={replace:function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e},attr:function(t,e){var n,i,r,o=this;if("string"!=typeof t){for(i in t)o.attr(i,t[i]);return o}if(n=o.attributes){if(e!==r){if(null===e){if(t in n.map)for(delete n.map[t],i=n.length;i--;)if(n[i].name===t)return n=n.splice(i,1),o;return o}if(t in n.map){for(i=n.length;i--;)if(n[i].name===t){n[i].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,o}return n.map[t]}},clone:function(){var t,n,i,r,o,a=this,s=new e(a.name,a.type);if(i=a.attributes){for(o=[],o.map={},t=0,n=i.length;n>t;t++)r=i[t],"id"!==r.name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);s.attributes=o}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(t){var e=this;return e.parent.insert(t,e),t.append(e),e},unwrap:function(){var t,e,n=this;for(t=n.firstChild;t;)e=t.next,n.insert(t,n,!0),t=e;n.remove()},remove:function(){var t=this,e=t.parent,n=t.next,i=t.prev;return e&&(e.firstChild===t?(e.firstChild=n,n&&(n.prev=null)):i.next=n,e.lastChild===t?(e.lastChild=i,i&&(i.next=null)):n.prev=i,t.parent=t.next=t.prev=null),t},append:function(t){var e,n=this;return t.parent&&t.remove(),e=n.lastChild,e?(e.next=t,t.prev=e,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t},insert:function(t,e,n){var i;return t.parent&&t.remove(),i=e.parent||this,n?(e===i.firstChild?i.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===i.lastChild?i.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=i,t},getAll:function(e){var n,i=this,r=[];for(n=i.firstChild;n;n=t(n,i))n.name===e&&r.push(n);return r},empty:function(){var e,n,i,r=this;if(r.firstChild){for(e=[],i=r.firstChild;i;i=t(i,r))e.push(i);for(n=e.length;n--;)i=e[n],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return r.firstChild=r.lastChild=null,r},isEmpty:function(e){var i,r,o=this,a=o.firstChild;if(a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(e[a.name])return!1;for(i=a.attributes.length;i--;)if(r=a.attributes[i].name,"name"===r||0===r.indexOf("data-mce-"))return!1}if(8===a.type)return!1;if(3===a.type&&!n.test(a.value))return!1}while(a=t(a,o));return!0},walk:function(e){return t(this,null,e)}},e.create=function(t,n){var r,o;if(r=new e(t,i[t]||1),n)for(o in n)r.attr(o,n[o]);return r},e}),i("tinymce/html/Schema",["tinymce/util/Tools"],function(t){function e(t,e){return t?t.split(e||" "):[]}function n(t){function n(t,n,i){function r(t){var e,n,i={};for(e=0,n=t.length;n>e;e++)i[t[e]]={};return i}var o,s,l,u=arguments;for(i=i||[],n=n||"","string"==typeof i&&(i=e(i)),s=3;s<u.length;s++)"string"==typeof u[s]&&(u[s]=e(u[s])),i.push.apply(i,u[s]);for(t=e(t),o=t.length;o--;)l=[].concat(a,e(n)),h[t[o]]={attributes:r(l),attributesOrder:l,children:r(i)}}function r(t,n){var i,r,o,a;for(t=e(t),i=t.length,n=e(n);i--;)for(r=h[t[i]],o=0,a=n.length;a>o;o++)r.attributes[n[o]]={},r.attributesOrder.push(n[o])}var a,s,l,u,c,d,f,h={};return i[t]?i[t]:(a=e("id accesskey class dir lang style tabindex title"),s=e("onabort onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncuechange ondblclick ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended onerror onfocus oninput oninvalid onkeydown onkeypress onkeyup onload onloadeddata onloadedmetadata onloadstart onmousedown onmousemove onmouseout onmouseover onmouseup onmousewheel onpause onplay onplaying onprogress onratechange onreset onscroll onseeked onseeking onseeking onselect onshow onstalled onsubmit onsuspend ontimeupdate onvolumechange onwaiting"),l=e("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),u=e("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=t&&(a.push.apply(a,e("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),l.push.apply(l,e("article aside details dialog figure header footer hgroup section nav")),u.push.apply(u,e("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))),"html5-strict"!=t&&(a.push("xml:lang"),f=e("acronym applet basefont big font strike tt"),u.push.apply(u,f),o(f,function(t){n(t,"",u)}),d=e("center dir isindex noframes"),l.push.apply(l,d),c=[].concat(l,u),o(d,function(t){n(t,"",c)})),c=c||[].concat(l,u),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",c),n("address dt dd div caption","",c),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",u),n("blockquote","cite",c),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",c),n("dl","","dt dd"),n("a","href target rel media hreflang type",u),n("q","cite",u),n("ins del","cite datetime",c),n("img","src alt usemap ismap width height"),n("iframe","src name width height",c),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",c,"param"),n("param","name value"),n("map","name",c,"area"),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==t?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",c),n("th","colspan rowspan headers scope abbr",c),n("form","accept-charset action autocomplete enctype method name novalidate target",c),n("fieldset","disabled form name",c,"legend"),n("label","form for",u),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==t?c:u),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",c,"li"),n("noscript","",c),"html4"!=t&&(n("wbr"),n("ruby","",u,"rt rp"),n("figcaption","",c),n("mark rt rp summary bdi","",u),n("canvas","width height",c),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height",c,"track source"),n("audio","src crossorigin preload autoplay mediagroup loop muted controls",c,"track source"),n("source","src type media"),n("track","kind src srclang label default"),n("datalist","",u,"option"),n("article section nav aside header footer","",c),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",c,"figcaption"),n("time","datetime",u),n("dialog","open",c),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",u),n("progress","value max",u),n("meter","value min max low high optimum",u),n("details","open",c,"summary"),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=t&&(r("script","language xml:space"),r("style","xml:space"),r("object","declare classid codebase codetype archive standby align border hspace vspace"),r("param","valuetype type"),r("a","charset name rev shape coords"),r("br","clear"),r("applet","codebase archive code object alt name width height align hspace vspace"),r("img","name longdesc align border hspace vspace"),r("iframe","longdesc frameborder marginwidth marginheight scrolling align"),r("font basefont","size color face"),r("input","usemap align"),r("select","onchange"),r("textarea"),r("h1 h2 h3 h4 h5 h6 div p legend caption","align"),r("ul","type compact"),r("li","type"),r("ol dl menu dir","compact"),r("pre","width xml:space"),r("hr","align noshade size width"),r("isindex","prompt"),r("table","summary width frame rules cellspacing cellpadding align bgcolor"),r("col","width align char charoff valign"),r("colgroup","width align char charoff valign"),r("thead","align char charoff valign"),r("tr","align char charoff valign bgcolor"),r("th","axis align char charoff valign nowrap bgcolor width height"),r("form","accept"),r("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),r("tfoot","align char charoff valign"),r("tbody","align char charoff valign"),r("area","nohref"),r("body","background bgcolor text link vlink alink")),"html4"!=t&&(r("input button select textarea","autofocus"),r("input textarea","placeholder"),r("a","download"),r("link script img","crossorigin"),r("iframe","srcdoc sandbox seamless allowfullscreen")),o(e("a form meter progress dfn"),function(t){h[t]&&delete h[t].children[t]}),delete h.caption.children.table,i[t]=h,h)}var i={},r=t.makeMap,o=t.each,a=t.extend,s=t.explode,l=t.inArray;return function(t){function u(e,n,o){var s=t[e];return s?s=r(s,",",r(s.toUpperCase()," ")):(s=i[e],s||(s=r(n," ",r(n.toUpperCase()," ")),s=a(s,o),i[e]=s)),s}function c(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")}function d(t){var n,i,o,a,s,u,d,f,h,p,g,m,v,y,b,x,_,w,C,k=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,E=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,M=/[*?+]/;if(t)for(t=e(t,","),S["@"]&&(x=S["@"].attributes,_=S["@"].attributesOrder),n=0,i=t.length;i>n;n++)if(s=k.exec(t[n])){if(y=s[1],h=s[2],b=s[3],f=s[5],m={},v=[],u={attributes:m,attributesOrder:v},"#"===y&&(u.paddEmpty=!0),"-"===y&&(u.removeEmpty=!0),"!"===s[4]&&(u.removeEmptyAttrs=!0),x){for(w in x)m[w]=x[w];v.push.apply(v,_)}if(f)for(f=e(f,"|"),o=0,a=f.length;a>o;o++)if(s=E.exec(f[o])){if(d={},g=s[1],p=s[2].replace(/::/g,":"),y=s[3],C=s[4],"!"===g&&(u.attributesRequired=u.attributesRequired||[],u.attributesRequired.push(p),d.required=!0),"-"===g){delete m[p],v.splice(l(v,p),1);continue}y&&("="===y&&(u.attributesDefault=u.attributesDefault||[],u.attributesDefault.push({name:p,value:C}),d.defaultValue=C),":"===y&&(u.attributesForced=u.attributesForced||[],u.attributesForced.push({name:p,value:C}),d.forcedValue=C),"<"===y&&(d.validValues=r(C,"?"))),M.test(p)?(u.attributePatterns=u.attributePatterns||[],d.pattern=c(p),u.attributePatterns.push(d)):(m[p]||v.push(p),m[p]=d)}x||"@"!=h||(x=m,_=v),b&&(u.outputName=h,S[b]=u),M.test(h)?(u.pattern=c(h),T.push(u)):S[h]=u}}function f(t){S={},T=[],d(t),o(v,function(t,e){M[e]=t.children})}function h(t){var n=/^(~)?(.+)$/;t&&o(e(t,","),function(t){var e=n.exec(t),i="~"===e[1],r=i?"span":"div",a=e[2];M[a]=M[r],N[a]=r,i||(w[a.toUpperCase()]={},w[a]={}),S[a]||(S[a]=S[r]),o(M,function(t){t[r]&&(t[a]=t[r])})})}function p(t){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;t&&o(e(t,","),function(t){var i,r,a=n.exec(t);a&&(r=a[1],i=r?M[a[2]]:M[a[2]]={"#comment":{}},i=M[a[2]],o(e(a[3],"|"),function(t){"-"===r?delete i[t]:i[t]={}}))})}function g(t){var e,n=S[t];if(n)return n;for(e=T.length;e--;)if(n=T[e],n.pattern.test(t))return n}var m,v,y,b,x,_,w,C,k,E=this,S={},M={},T=[],N={},A={};t=t||{},v=n(t.schema),t.verify_html===!1&&(t.valid_elements="*[*]"),t.valid_styles&&(m={},o(t.valid_styles,function(t,e){m[e]=s(t)})),y=u("whitespace_elements","pre script noscript style textarea video audio iframe object"),b=u("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),x=u("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),_=u("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),C=u("non_empty_elements","td th iframe video audio object",x),k=u("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),w=u("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",k),o((t.special||"script noscript style textarea").split(" "),function(t){A[t]=new RegExp("</"+t+"[^>]*>","gi")}),t.valid_elements?f(t.valid_elements):(o(v,function(t,e){S[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},M[e]=t.children}),"html5"!=t.schema&&o(e("strong/b em/i"),function(t){t=e(t,"/"),S[t[1]].outputName=t[0]}),S.img.attributesDefault=[{name:"alt",value:""}],o(e("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(t){S[t]&&(S[t].removeEmpty=!0)}),o(e("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(t){S[t].paddEmpty=!0}),o(e("span"),function(t){S[t].removeEmptyAttrs=!0})),h(t.custom_elements),p(t.valid_children),d(t.extended_valid_elements),p("+ol[ul|ol],+ul[ul|ol]"),t.invalid_elements&&o(s(t.invalid_elements),function(t){S[t]&&delete S[t]}),g("span")||d("span[!data-mce-type|*]"),E.children=M,E.styles=m,E.getBoolAttrs=function(){return _},E.getBlockElements=function(){return w},E.getTextBlockElements=function(){return k},E.getShortEndedElements=function(){return x},E.getSelfClosingElements=function(){return b},E.getNonEmptyElements=function(){return C},E.getWhiteSpaceElements=function(){return y},E.getSpecialElements=function(){return A},E.isValidChild=function(t,e){var n=M[t];return!(!n||!n[e])},E.isValid=function(t,e){var n,i,r=g(t);if(r){if(!e)return!0;if(r.attributes[e])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(t))return!0}return!1},E.getElementRule=g,E.getCustomElements=function(){return N},E.addValidElements=d,E.setValidElements=f,E.addCustomElements=h,E.addValidChildren=p,E.elements=S}}),i("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(t,e,n){var i=n.each;return function(n,r){var o=this,a=function(){};n=n||{},o.schema=r=r||new t,n.fix_self_closing!==!1&&(n.fix_self_closing=!0),i("comment cdata text start end pi doctype".split(" "),function(t){t&&(o[t]=n[t]||a)}),o.parse=function(t){function i(t){var e,n;for(e=P.length;e--&&P[e].name!==t;);if(e>=0){for(n=P.length-1;n>=e;n--)t=P[n],t.valid&&F.end(t.name);P.length=e}}function o(t,e,n,i,r){var o,a;if(e=e.toLowerCase(),n=e in m?e:O(n||i||r||""),y&&!h&&0!==e.indexOf("data-")){if(o=C[e],!o&&k){for(a=k.length;a--&&(o=k[a],!o.pattern.test(e)););-1===a&&(o=null)}if(!o)return;if(o.validValues&&!(n in o.validValues))return}u.map[e]=n,u.push({name:e,value:n})}var a,s,l,u,c,d,f,h,p,g,m,v,y,b,x,_,w,C,k,E,S,M,T,N,A,R,D,H,L,F=this,B=0,P=[],j=0,O=e.decode;for(A=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),R=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,g=r.getShortEndedElements(),N=n.self_closing_elements||r.getSelfClosingElements(),m=r.getBoolAttrs(),y=n.validate,p=n.remove_internals,L=n.fix_self_closing,D=r.getSpecialElements();a=A.exec(t);){if(B<a.index&&F.text(O(t.substr(B,a.index-B))),s=a[6])s=s.toLowerCase(),":"===s.charAt(0)&&(s=s.substr(1)),i(s);else if(s=a[7]){if(s=s.toLowerCase(),":"===s.charAt(0)&&(s=s.substr(1)),v=s in g,L&&N[s]&&P.length>0&&P[P.length-1].name===s&&i(s),!y||(b=r.getElementRule(s))){if(x=!0,y&&(C=b.attributes,k=b.attributePatterns),(w=a[8])?(h=-1!==w.indexOf("data-mce-type"),h&&p&&(x=!1),u=[],u.map={},w.replace(R,o)):(u=[],u.map={}),y&&!h){if(E=b.attributesRequired,S=b.attributesDefault,M=b.attributesForced,T=b.removeEmptyAttrs,T&&!u.length&&(x=!1),M)for(c=M.length;c--;)_=M[c],f=_.name,H=_.value,"{$uid}"===H&&(H="mce_"+j++),u.map[f]=H,u.push({name:f,value:H});if(S)for(c=S.length;c--;)_=S[c],f=_.name,f in u.map||(H=_.value,"{$uid}"===H&&(H="mce_"+j++),u.map[f]=H,u.push({name:f,value:H}));if(E){for(c=E.length;c--&&!(E[c]in u.map););-1===c&&(x=!1)}u.map["data-mce-bogus"]&&(x=!1)}x&&F.start(s,u,v)}else x=!1;if(l=D[s]){l.lastIndex=B=a.index+a[0].length,(a=l.exec(t))?(x&&(d=t.substr(B,a.index-B)),B=a.index+a[0].length):(d=t.substr(B),B=t.length),x&&(d.length>0&&F.text(d,!0),F.end(s)),A.lastIndex=B;continue}v||(w&&w.indexOf("/")==w.length-1?x&&F.end(s):P.push({name:s,valid:x}))}else(s=a[1])?F.comment(s):(s=a[2])?F.cdata(s):(s=a[3])?F.doctype(s):(s=a[4])&&F.pi(s,a[5]);B=a.index+a[0].length}for(B<t.length&&F.text(O(t.substr(B))),c=P.length-1;c>=0;c--)s=P[c],s.valid&&F.end(s.name)}}}),i("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(t,e,n,i){var r=i.makeMap,o=i.each,a=i.explode,s=i.extend;return function(i,l){function u(e){var n,i,o,a,s,u,d,f,h,p,g,m,v,y;for(g=r("tr,td,th,tbody,thead,tfoot,table"),p=l.getNonEmptyElements(),m=l.getTextBlockElements(),n=0;n<e.length;n++)if(i=e[n],i.parent&&!i.fixed)if(m[i.name]&&"li"==i.parent.name){for(v=i.next;v&&m[v.name];)v.name="li",v.fixed=!0,i.parent.insert(v,i.parent),v=v.next;i.unwrap(i)}else{for(a=[i],o=i.parent;o&&!l.isValidChild(o.name,i.name)&&!g[o.name];o=o.parent)a.push(o);if(o&&a.length>1){for(a.reverse(),s=u=c.filterNode(a[0].clone()),h=0;h<a.length-1;h++){for(l.isValidChild(u.name,a[h].name)?(d=c.filterNode(a[h].clone()),u.append(d)):d=u,f=a[h].firstChild;f&&f!=a[h+1];)y=f.next,d.append(f),f=y;u=d}s.isEmpty(p)?o.insert(i,a[0],!0):(o.insert(s,a[0],!0),o.insert(i,s)),o=a[0],(o.isEmpty(p)||o.firstChild===o.lastChild&&"br"===o.firstChild.name)&&o.empty().remove()}else if(i.parent){if("li"===i.name){if(v=i.prev,v&&("ul"===v.name||"ul"===v.name)){v.append(i);continue}if(v=i.next,v&&("ul"===v.name||"ul"===v.name)){v.insert(i,v.firstChild,!0);continue}i.wrap(c.filterNode(new t("ul",1)));continue}l.isValidChild(i.parent.name,"div")&&l.isValidChild("div",i.name)?i.wrap(c.filterNode(new t("div",1))):"style"===i.name||"script"===i.name?i.empty().remove():i.unwrap()}}}var c=this,d={},f=[],h={},p={};i=i||{},i.validate="validate"in i?i.validate:!0,i.root_name=i.root_name||"body",c.schema=l=l||new e,c.filterNode=function(t){var e,n,i;n in d&&(i=h[n],i?i.push(t):h[n]=[t]),e=f.length;for(;e--;)n=f[e].name,n in t.attributes.map&&(i=p[n],i?i.push(t):p[n]=[t]);return t},c.addNodeFilter=function(t,e){o(a(t),function(t){var n=d[t];n||(d[t]=n=[]),n.push(e)})},c.addAttributeFilter=function(t,e){o(a(t),function(t){var n;for(n=0;n<f.length;n++)if(f[n].name===t)return f[n].callbacks.push(e),void 0;f.push({name:t,callbacks:[e]})})},c.parse=function(e,o){function a(){function t(t){t&&(i=t.firstChild,i&&3==i.type&&(i.value=i.value.replace(N,"")),i=t.lastChild,i&&3==i.type&&(i.value=i.value.replace(R,"")))}var e,n,i=y.firstChild;if(l.isValidChild(y.name,P.toLowerCase())){for(;i;)e=i.next,3==i.type||1==i.type&&"p"!==i.name&&!T[i.name]&&!i.attr("data-mce-type")?n?n.append(i):(n=c(P,1),y.insert(n,i),n.append(i)):(t(n),n=null),i=e;t(n)}}function c(e,n){var i,r=new t(e,n);return e in d&&(i=h[e],i?i.push(r):h[e]=[r]),r}function g(t){var e,n,i;for(e=t.prev;e&&3===e.type;)n=e.value.replace(R,""),n.length>0?(e.value=n,e=e.prev):(i=e.prev,e.remove(),e=i)}function m(t){var e,n={};for(e in t)"li"!==e&&"p"!=e&&(n[e]=t[e]);return n}var v,y,b,x,_,w,C,k,E,S,M,T,N,A,R,D,H,L,F,B,P,j=[];if(o=o||{},h={},p={},T=s(r("script,style,head,html,body,title,meta,param"),l.getBlockElements()),B=l.getNonEmptyElements(),F=l.children,M=i.validate,P="forced_root_block"in o?o.forced_root_block:i.forced_root_block,L=l.getWhiteSpaceElements(),N=/^[ \t\r\n]+/,R=/[ \t\r\n]+$/,D=/[ \t\r\n]+/g,H=/^[ \t\r\n]+$/,v=new n({validate:M,self_closing_elements:m(l.getSelfClosingElements()),cdata:function(t){b.append(c("#cdata",4)).value=t},text:function(t,e){var n;A||(t=t.replace(D," "),b.lastChild&&T[b.lastChild.name]&&(t=t.replace(N,""))),0!==t.length&&(n=c("#text",3),n.raw=!!e,b.append(n).value=t)},comment:function(t){b.append(c("#comment",8)).value=t},pi:function(t,e){b.append(c(t,7)).value=e,g(b)},doctype:function(t){var e;e=b.append(c("#doctype",10)),e.value=t,g(b)},start:function(t,e,n){var i,r,o,a,s;if(o=M?l.getElementRule(t):{}){for(i=c(o.outputName||t,1),i.attributes=e,i.shortEnded=n,b.append(i),s=F[b.name],s&&F[i.name]&&!s[i.name]&&j.push(i),r=f.length;r--;)a=f[r].name,a in e.map&&(E=p[a],E?E.push(i):p[a]=[i]);T[t]&&g(i),n||(b=i),!A&&L[t]&&(A=!0)}},end:function(e){var n,i,r,o,a;if(i=M?l.getElementRule(e):{}){if(T[e]&&!A){if(n=b.firstChild,n&&3===n.type)if(r=n.value.replace(N,""),r.length>0)n.value=r,n=n.next;else for(o=n.next,n.remove(),n=o;n&&3===n.type;)r=n.value,o=n.next,(0===r.length||H.test(r))&&(n.remove(),n=o),n=o;if(n=b.lastChild,n&&3===n.type)if(r=n.value.replace(R,""),r.length>0)n.value=r,n=n.prev;else for(o=n.prev,n.remove(),n=o;n&&3===n.type;)r=n.value,o=n.prev,(0===r.length||H.test(r))&&(n.remove(),n=o),n=o}if(A&&L[e]&&(A=!1),(i.removeEmpty||i.paddEmpty)&&b.isEmpty(B))if(i.paddEmpty)b.empty().append(new t("#text","3")).value=" ";else if(!b.attributes.map.name&&!b.attributes.map.id)return a=b.parent,b.empty().remove(),b=a,void 0;b=b.parent}}},l),y=b=new t(o.context||i.root_name,11),v.parse(e),M&&j.length&&(o.context?o.invalid=!0:u(j)),P&&("body"==y.name||o.isRootContent)&&a(),!o.invalid){for(S in h){for(E=d[S],x=h[S],C=x.length;C--;)x[C].parent||x.splice(C,1);for(_=0,w=E.length;w>_;_++)E[_](x,S,o)}for(_=0,w=f.length;w>_;_++)if(E=f[_],E.name in p){for(x=p[E.name],C=x.length;C--;)x[C].parent||x.splice(C,1);
for(C=0,k=E.callbacks.length;k>C;C++)E.callbacks[C](x,E.name,o)}}return y},i.remove_trailing_brs&&c.addNodeFilter("br",function(e){var n,i,r,o,a,u,c,d,f=e.length,h=s({},l.getBlockElements()),p=l.getNonEmptyElements();for(h.body=1,n=0;f>n;n++)if(i=e[n],r=i.parent,h[i.parent.name]&&i===r.lastChild){for(a=i.prev;a;){if(u=a.name,"span"!==u||"bookmark"!==a.attr("data-mce-type")){if("br"!==u)break;if("br"===u){i=null;break}}a=a.prev}i&&(i.remove(),r.isEmpty(p)&&(c=l.getElementRule(r.name),c&&(c.removeEmpty?r.remove():c.paddEmpty&&(r.empty().append(new t("#text",3)).value=" "))))}else{for(o=i;r&&r.firstChild===o&&r.lastChild===o&&(o=r,!h[r.name]);)r=r.parent;o===r&&(d=new t("#text",3),d.value=" ",i.replace(d))}}),i.allow_html_in_named_anchor||c.addAttributeFilter("id,name",function(t){for(var e,n,i,r,o=t.length;o--;)if(r=t[o],"a"===r.name&&r.firstChild&&!r.attr("href")){i=r.parent,e=r.lastChild;do n=e.prev,i.insert(e,r),e=n;while(e)}})}}),i("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(t,e){var n=e.makeMap;return function(e){var i,r,o,a,s,l=[];return e=e||{},i=e.indent,r=n(e.indent_before||""),o=n(e.indent_after||""),a=t.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="html"==e.element_format,{start:function(t,e,n){var u,c,d,f;if(i&&r[t]&&l.length>0&&(f=l[l.length-1],f.length>0&&"\n"!==f&&l.push("\n")),l.push("<",t),e)for(u=0,c=e.length;c>u;u++)d=e[u],l.push(" ",d.name,'="',a(d.value,!0),'"');l[l.length]=!n||s?">":" />",n&&i&&o[t]&&l.length>0&&(f=l[l.length-1],f.length>0&&"\n"!==f&&l.push("\n"))},end:function(t){var e;l.push("</",t,">"),i&&o[t]&&l.length>0&&(e=l[l.length-1],e.length>0&&"\n"!==e&&l.push("\n"))},text:function(t,e){t.length>0&&(l[l.length]=e?t:a(t))},cdata:function(t){l.push("<![CDATA[",t,"]]>")},comment:function(t){l.push("<!--",t,"-->")},pi:function(t,e){e?l.push("<?",t," ",e,"?>"):l.push("<?",t,"?>"),i&&l.push("\n")},doctype:function(t){l.push("<!DOCTYPE",t,">",i?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}}),i("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(t,e){return function(n,i){var r=this,o=new t(n);n=n||{},n.validate="validate"in n?n.validate:!0,r.schema=i=i||new e,r.writer=o,r.serialize=function(t){function e(t){var n,s,l,u,c,d,f,h,p,g=r[t.type];if(g)g(t);else{if(n=t.name,s=t.shortEnded,l=t.attributes,a&&l&&l.length>1){for(d=[],d.map={},p=i.getElementRule(t.name),f=0,h=p.attributesOrder.length;h>f;f++)u=p.attributesOrder[f],u in l.map&&(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));for(f=0,h=l.length;h>f;f++)u=l[f].name,u in d.map||(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));l=d}if(o.start(t.name,l,s),!s){if(t=t.firstChild)do e(t);while(t=t.next);o.end(n)}}}var r,a;return a=n.validate,r={3:function(t){o.text(t.value,t.raw)},8:function(t){o.comment(t.value)},7:function(t){o.pi(t.name,t.value)},10:function(t){o.doctype(t.value)},4:function(t){o.cdata(t.value)},11:function(t){if(t=t.firstChild)do e(t);while(t=t.next)}},o.reset(),1!=t.type||n.inner?r[11](t):e(t),o.getContent()}}}),i("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools"],function(t,e,n,i,r,o,a,s){var l=s.each,u=s.trim,c=t.DOM;return function(t,r){var s,d,f;return r&&(s=r.dom,d=r.schema),s=s||c,d=d||new o(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs="remove_trailing_brs"in t?t.remove_trailing_brs:!0,f=new e(t,d),f.addAttributeFilter("src,href,style",function(e,n){for(var i,r,o,a=e.length,l="data-mce-"+n,u=t.url_converter,c=t.url_converter_scope;a--;)i=e[a],r=i.attributes.map[l],r!==o?(i.attr(n,r.length>0?r:null),i.attr(l,null)):(r=i.attributes.map[n],"style"===n?r=s.serializeStyle(s.parseStyle(r),i.name):u&&(r=u.call(c,r,n,i.name)),i.attr(n,r.length>0?r:null))}),f.addAttributeFilter("class",function(t){for(var e,n,i=t.length;i--;)e=t[i],n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",n.length>0?n:null)}),f.addAttributeFilter("data-mce-type",function(t,e,n){for(var i,r=t.length;r--;)i=t[r],"bookmark"!==i.attributes.map["data-mce-type"]||n.cleanup||i.remove()}),f.addAttributeFilter("data-mce-expando",function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),f.addNodeFilter("noscript",function(t){for(var e,i=t.length;i--;)e=t[i].firstChild,e&&(e.value=n.decode(e.value))}),f.addNodeFilter("script,style",function(t,e){function n(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,r,o=t.length;o--;)i=t[o],r=i.firstChild?i.firstChild.value:"","script"===e?(i.attr("type",(i.attr("type")||"text/javascript").replace(/^mce\-/,"")),r.length>0&&(i.firstChild.value="// <![CDATA[\n"+n(r)+"\n// ]]>")):r.length>0&&(i.firstChild.value="<!--\n"+n(r)+"\n-->")}),f.addNodeFilter("#comment",function(t){for(var e,n=t.length;n--;)e=t[n],0===e.value.indexOf("[CDATA[")?(e.name="#cdata",e.type=4,e.value=e.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===e.value.indexOf("mce:protected ")&&(e.name="#text",e.type=3,e.raw=!0,e.value=unescape(e.value).substr(14))}),f.addNodeFilter("xml:namespace,input",function(t,e){for(var n,i=t.length;i--;)n=t[i],7===n.type?n.remove():1===n.type&&("input"!==e||"type"in n.attributes.map||n.attr("type","text"))}),t.fix_list_elements&&f.addNodeFilter("ul,ol",function(t){for(var e,n,i=t.length;i--;)e=t[i],n=e.parent,("ul"===n.name||"ol"===n.name)&&e.prev&&"li"===e.prev.name&&e.prev.append(e)}),f.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),{schema:d,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:function(e,n){var r,o,c,h,p,g=this;return a.ie&&s.select("script,style,select,map").length>0?(p=e.innerHTML,e=e.cloneNode(!1),s.setHTML(e,p)):e=e.cloneNode(!0),r=e.ownerDocument.implementation,r.createHTMLDocument&&(o=r.createHTMLDocument(""),l("BODY"==e.nodeName?e.childNodes:[e],function(t){o.body.appendChild(o.importNode(t,!0))}),e="BODY"!=e.nodeName?o.body.firstChild:o.body,c=s.doc,s.doc=o),n=n||{},n.format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=e,g.onPreProcess(n)),h=new i(t,d),n.content=h.serialize(f.parse(u(n.getInner?e.innerHTML:s.getOuterHTML(e)),n)),n.cleanup||(n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||g.onPostProcess(n),c&&(s.doc=c),n.node=null,n.content},addRules:function(t){d.addValidElements(t)},setRules:function(t){d.setValidElements(t)},onPreProcess:function(t){r&&r.fire("PreProcess",t)},onPostProcess:function(t){r&&r.fire("PostProcess",t)}}}}),i("tinymce/dom/TridentSelection",[],function(){function t(t){function e(e,n){var i,r,o,a,s,l,u,c,d=0,f=-1;if(i=e.duplicate(),i.collapse(n),c=i.parentElement(),c.ownerDocument===t.dom.doc){for(;"false"===c.contentEditable;)c=c.parentNode;if(!c.hasChildNodes())return{node:c,inside:1};for(a=c.children,r=a.length-1;r>=d;)if(u=Math.floor((d+r)/2),s=a[u],i.moveToElementText(s),f=i.compareEndPoints(n?"StartToStart":"EndToEnd",e),f>0)r=u-1;else{if(!(0>f))return{node:s};d=u+1}if(0>f)for(s?i.collapse(!1):(i.moveToElementText(c),i.collapse(!0),s=c,o=!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",e)&&0!==i.move("character",1)&&c==i.parentElement();)l++;else for(i.collapse(!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",e)&&0!==i.move("character",-1)&&c==i.parentElement();)l++;return{node:s,position:f,offset:l,inside:o}}}function n(){function n(t){var n,i,r,o,a,s=e(c,t),l=0;if(n=s.node,i=s.offset,s.inside&&!n.hasChildNodes())return d[t?"setStart":"setEnd"](n,0),void 0;if(i===o)return d[t?"setStartBefore":"setEndAfter"](n),void 0;if(s.position<0){if(r=s.inside?n.firstChild:n.nextSibling,!r)return d[t?"setStartAfter":"setEndAfter"](n),void 0;if(!i)return 3==r.nodeType?d[t?"setStart":"setEnd"](r,0):d[t?"setStartBefore":"setEndBefore"](r),void 0;for(;r;){if(a=r.nodeValue,l+=a.length,l>=i){n=r,l-=i,l=a.length-l;break}r=r.nextSibling}}else{if(r=n.previousSibling,!r)return d[t?"setStartBefore":"setEndBefore"](n);if(!i)return 3==n.nodeType?d[t?"setStart":"setEnd"](r,n.nodeValue.length):d[t?"setStartAfter":"setEndAfter"](r),void 0;for(;r;){if(l+=r.nodeValue.length,l>=i){n=r,l-=i;break}r=r.previousSibling}}d[t?"setStart":"setEnd"](n,l)}var o,a,s,l,u,c=t.getRng(),d=r.createRng();if(o=c.item?c.item(0):c.parentElement(),o.ownerDocument!=r.doc)return d;if(a=t.isCollapsed(),c.item)return d.setStart(o.parentNode,r.nodeIndex(o)),d.setEnd(d.startContainer,d.startOffset+1),d;try{n(!0),a||n()}catch(f){if(-2147024809!=f.number)throw f;u=i.getBookmark(2),s=c.duplicate(),s.collapse(!0),o=s.parentElement(),a||(s=c.duplicate(),s.collapse(!1),l=s.parentElement(),l.innerHTML=l.innerHTML),o.innerHTML=o.innerHTML,i.moveToBookmark(u),c=t.getRng(),n(!0),a||n()}return d}var i=this,r=t.dom,o=!1;this.getBookmark=function(n){function i(t){var e,n,i,o,a=[];for(e=t.parentNode,n=r.getRoot().parentNode;e!=n&&9!==e.nodeType;){for(i=e.children,o=i.length;o--;)if(t===i[o]){a.push(o);break}t=e,e=e.parentNode}return a}function o(t){var n;return n=e(a,t),n?{position:n.position,offset:n.offset,indexes:i(n.node),inside:n.inside}:void 0}var a=t.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:i(a.item(0))}:(s.start=o(!0),t.isCollapsed()||(s.end=o()))),s},this.moveToBookmark=function(t){function e(t){var e,n,i,o;for(e=r.getRoot(),n=t.length-1;n>=0;n--)o=e.children,i=t[n],i<=o.length-1&&(e=o[i]);return e}function n(n){var r,a,s,l,u=t[n?"start":"end"];u&&(r=u.position>0,a=o.createTextRange(),a.moveToElementText(e(u.indexes)),l=u.offset,l!==s?(a.collapse(u.inside||r),a.moveStart("character",r?-l:l)):a.collapse(n),i.setEndPoint(n?"StartToStart":"EndToStart",a),n&&i.collapse(!0))}var i,o=r.doc.body;t.start&&(t.start.ctrl?(i=o.createControlRange(),i.addElement(e(t.start.indexes)),i.select()):(i=o.createTextRange(),n(!0),n(),i.select()))},this.addRange=function(e){function n(t){var e,n,a,d,f;a=r.create("a"),e=t?s:u,n=t?l:c,d=i.duplicate(),(e==p||e==p.documentElement)&&(e=g,n=0),3==e.nodeType?(e.parentNode.insertBefore(a,e),d.moveToElementText(a),d.moveStart("character",n),r.remove(a),i.setEndPoint(t?"StartToStart":"EndToEnd",d)):(f=e.childNodes,f.length?(n>=f.length?r.insertAfter(a,f[f.length-1]):e.insertBefore(a,f[n]),d.moveToElementText(a)):e.canHaveHTML&&(e.innerHTML="<span>&#xFEFF;</span>",a=e.firstChild,d.moveToElementText(a),d.collapse(o)),i.setEndPoint(t?"StartToStart":"EndToEnd",d),r.remove(a))}var i,a,s,l,u,c,d,f,h,p=t.dom.doc,g=p.body;if(s=e.startContainer,l=e.startOffset,u=e.endContainer,c=e.endOffset,i=g.createTextRange(),s==u&&1==s.nodeType){if(l==c&&!s.hasChildNodes()){if(s.canHaveHTML)return d=s.previousSibling,d&&!d.hasChildNodes()&&r.isBlock(d)?d.innerHTML="&#xFEFF;":d=null,s.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",i.moveToElementText(s.lastChild),i.select(),r.doc.selection.clear(),s.innerHTML="",d&&(d.innerHTML=""),void 0;l=r.nodeIndex(s),s=s.parentNode}if(l==c-1)try{if(h=s.childNodes[l],a=g.createControlRange(),a.addElement(h),a.select(),f=t.getRng(),f.item&&h===f.item(0))return}catch(m){}}n(!0),n(),i.select()},this.getRangeAt=n}return t}),i("tinymce/util/VK",["tinymce/Env"],function(t){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey},metaKeyPressed:function(e){return(t.mac?e.ctrlKey||e.metaKey:e.ctrlKey)&&!e.altKey}}}),i("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/Env"],function(t,e,n){return function(i,r){function o(t){return r.settings.object_resizing===!1?!1:/TABLE|IMG|DIV/.test(t.nodeName)?"false"===t.getAttribute("data-mce-resize")?!1:!0:!1}function a(e){var n,i;n=e.screenX-C,i=e.screenY-k,R=n*w[2]+M,D=i*w[3]+T,R=5>R?5:R,D=5>D?5:D,(t.modifierPressed(e)||"IMG"==b.nodeName&&0!==w[2]*w[3])&&(R=Math.round(D/N),D=Math.round(R*N)),L.setStyles(x,{width:R,height:D}),w[2]<0&&x.clientWidth<=R&&L.setStyle(x,"left",E+(M-R)),w[3]<0&&x.clientHeight<=D&&L.setStyle(x,"top",S+(T-D)),A||(r.fire("ObjectResizeStart",{target:b,width:M,height:T}),A=!0)}function s(){function t(t,e){e&&(b.style[t]||!r.schema.isValid(b.nodeName.toLowerCase(),t)?L.setStyle(b,t,e):L.setAttrib(b,t,e))}A=!1,t("width",R),t("height",D),L.unbind(B,"mousemove",a),L.unbind(B,"mouseup",s),P!=B&&(L.unbind(P,"mousemove",a),L.unbind(P,"mouseup",s)),L.remove(x),j&&"TABLE"!=b.nodeName||l(b),r.fire("ObjectResized",{target:b,width:R,height:D}),r.nodeChanged()}function l(t,e,n){var i,l,c,d,f;i=L.getPos(t,r.getBody()),E=i.x,S=i.y,f=t.getBoundingClientRect(),l=f.width||f.right-f.left,c=f.height||f.bottom-f.top,b!=t&&(g(),b=t,R=D=0),d=r.fire("ObjectSelected",{target:t}),o(t)&&!d.isDefaultPrevented()?F(_,function(t,i){function o(e){A=!0,C=e.screenX,k=e.screenY,M=b.clientWidth,T=b.clientHeight,N=T/M,w=t,x=b.cloneNode(!0),L.addClass(x,"mce-clonedresizable"),x.contentEditable=!1,x.unSelectabe=!0,L.setStyles(x,{left:E,top:S,margin:0}),x.removeAttribute("data-mce-selected"),r.getBody().appendChild(x),L.bind(B,"mousemove",a),L.bind(B,"mouseup",s),P!=B&&(L.bind(P,"mousemove",a),L.bind(P,"mouseup",s))}var u,d;return e?(i==e&&o(n),void 0):(u=L.get("mceResizeHandle"+i),u?L.show(u):(d=r.getBody(),u=L.add(d,"div",{id:"mceResizeHandle"+i,"data-mce-bogus":!0,"class":"mce-resizehandle",contentEditable:!1,unSelectabe:!0,style:"cursor:"+i+"-resize; margin:0; padding:0"}),L.bind(u,"mousedown",function(t){t.preventDefault(),o(t)})),L.setStyles(u,{left:l*t[0]+E-u.offsetWidth/2,top:c*t[1]+S-u.offsetHeight/2}),void 0)}):u(),b.setAttribute("data-mce-selected","1")}function u(){var t,e;b&&b.removeAttribute("data-mce-selected");for(t in _)e=L.get("mceResizeHandle"+t),e&&(L.unbind(e),L.remove(e))}function c(t){function e(t,e){do if(t===e)return!0;while(t=t.parentNode)}var n;return F(L.select("img[data-mce-selected],hr[data-mce-selected]"),function(t){t.removeAttribute("data-mce-selected")}),n="mousedown"==t.type?t.target:i.getNode(),n=L.getParent(n,j?"table":"table,img,hr"),n&&(m(),e(i.getStart(),n)&&e(i.getEnd(),n)&&(!j||n!=i.getStart()&&"IMG"!==i.getStart().nodeName))?(l(n),void 0):(u(),void 0)}function d(t,e,n){t&&t.attachEvent&&t.attachEvent("on"+e,n)}function f(t,e,n){t&&t.detachEvent&&t.detachEvent("on"+e,n)}function h(t){var e,n,i,o,a,s,u,c=t.srcElement;e=c.getBoundingClientRect(),s=H.clientX-e.left,u=H.clientY-e.top;for(n in _)if(i=_[n],o=c.offsetWidth*i[0],a=c.offsetHeight*i[1],Math.abs(o-s)<8&&Math.abs(a-u)<8){w=i;break}A=!0,r.getDoc().selection.empty(),l(c,n,H)}function p(t){var e=t.srcElement;if(e!=b){if(g(),0===e.id.indexOf("mceResizeHandle"))return t.returnValue=!1,void 0;("IMG"==e.nodeName||"TABLE"==e.nodeName)&&(u(),b=e,d(e,"resizestart",h))}}function g(){f(b,"resizestart",h)}function m(){try{r.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}}function v(t){var e;if(j){e=B.body.createControlRange();try{return e.addElement(t),e.select(),!0}catch(n){}}}function y(){b=x=null,j&&(g(),f(r.getBody(),"controlselect",p))}var b,x,_,w,C,k,E,S,M,T,N,A,R,D,H,L=r.dom,F=e.each,B=r.getDoc(),P=document,j=n.ie;_={n:[.5,0,0,-1],e:[1,.5,1,0],s:[.5,1,0,1],w:[0,.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var O=".mce-content-body";return r.contentStyles.push(O+" div.mce-resizehandle {"+"position: absolute;"+"border: 1px solid black;"+"background: #FFF;"+"width: 5px;"+"height: 5px;"+"z-index: 10000"+"}"+O+" .mce-resizehandle:hover {"+"background: #000"+"}"+O+" img[data-mce-selected], hr[data-mce-selected] {"+"outline: 1px solid black;"+"resize: none"+"}"+O+" .mce-clonedresizable {"+"position: absolute;"+(n.gecko?"":"outline: 1px dashed black;")+"opacity: .5;"+"filter: alpha(opacity=50);"+"z-index: 10000"+"}"),r.on("init",function(){j?(r.on("ObjectResized",function(t){"TABLE"!=t.target.nodeName&&(u(),v(t.target))}),d(r.getBody(),"controlselect",p),r.on("mousedown",function(t){H=t})):m(),r.on("nodechange mousedown ResizeEditor",c),r.on("keydown keyup",function(t){b&&"TABLE"==b.nodeName&&c(t)})}),{controlSelect:v,destroy:y}}}),i("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/Env","tinymce/util/Tools"],function(t,n,i,r,o){function a(t,e,r,o){var a=this;a.dom=t,a.win=e,a.serializer=r,a.editor=o,a.controlSelection=new i(a,o),a.win.getSelection||(a.tridentSel=new n(a))}var s=o.each,l=o.grep,u=o.trim,c=r.ie,d=r.opera;return a.prototype={setCursorLocation:function(t,e){var n=this,i=n.dom.createRng();i.setStart(t,e),i.setEnd(t,e),n.setRng(i),n.collapse(!1)},getContent:function(t){var n,i,r,o=this,a=o.getRng(),s=o.dom.create("body"),l=o.getSel();return t=t||{},n=i="",t.get=!0,t.format=t.format||"html",t.selection=!0,o.editor.fire("BeforeGetContent",t),"text"==t.format?o.isCollapsed()?"":a.text||(l.toString?l.toString():""):(a.cloneContents?(r=a.cloneContents(),r&&s.appendChild(r)):a.item!==e||a.htmlText!==e?(s.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=a.toString(),/^\s/.test(s.innerHTML)&&(n=" "),/\s+$/.test(s.innerHTML)&&(i=" "),t.getInner=!0,t.content=o.isCollapsed()?"":n+o.serializer.serialize(s,t)+i,o.editor.fire("GetContent",t),t.content)},setContent:function(t,e){var n,i,r,o=this,a=o.getRng(),s=o.win.document;if(e=e||{format:"html"},e.set=!0,e.selection=!0,t=e.content=t,e.no_events||o.editor.fire("BeforeSetContent",e),t=e.content,a.insertNode){t+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=t:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=t:a.createContextualFragment?a.insertNode(a.createContextualFragment(t)):(i=s.createDocumentFragment(),r=s.createElement("div"),i.appendChild(r),r.outerHTML=t,a.insertNode(i))),n=o.dom.get("__caret"),a=s.createRange(),a.setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(l){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(t)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+t),o.dom.remove("__mce_tmp")):a.pasteHTML(t);e.no_events||o.editor.fire("SetContent",e)},getStart:function(){var t,e,n,i,r=this,o=r.getRng();if(o.duplicate||o.item){if(o.item)return o.item(0);for(n=o.duplicate(),n.collapse(1),t=n.parentElement(),t.ownerDocument!==r.dom.doc&&(t=r.dom.getRoot()),e=i=o.parentElement();i=i.parentNode;)if(i==t){t=e;break}return t}return t=o.startContainer,1==t.nodeType&&t.hasChildNodes()&&(t=t.childNodes[Math.min(t.childNodes.length-1,o.startOffset)]),t&&3==t.nodeType?t.parentNode:t},getEnd:function(){var t,e,n=this,i=n.getRng();return i.duplicate||i.item?i.item?i.item(0):(i=i.duplicate(),i.collapse(0),t=i.parentElement(),t.ownerDocument!==n.dom.doc&&(t=n.dom.getRoot()),t&&"BODY"==t.nodeName?t.lastChild||t:t):(t=i.endContainer,e=i.endOffset,1==t.nodeType&&t.hasChildNodes()&&(t=t.childNodes[e>0?e-1:e]),t&&3==t.nodeType?t.parentNode:t)},getBookmark:function(t,e){function n(t,e){var n=0;return s(p.select(t),function(t,i){t==e&&(n=i)}),n}function i(t){function e(e){var n,i,r,o=e?"start":"end";n=t[o+"Container"],i=t[o+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(r=n.childNodes,n=r[Math.min(e?i:i-1,r.length-1)],n&&(i=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,i)))}return e(!0),e(),t}function r(){function t(t,n){var r,o,a=t[n?"startContainer":"endContainer"],s=t[n?"startOffset":"endOffset"],l=[],u=0;if(3==a.nodeType){if(e)for(r=a.previousSibling;r&&3==r.nodeType;r=r.previousSibling)s+=r.nodeValue.length;l.push(s)}else o=a.childNodes,s>=o.length&&o.length&&(u=1,s=Math.max(0,o.length-1)),l.push(h.dom.nodeIndex(o[s],e)+u);for(;a&&a!=i;a=a.parentNode)l.push(h.dom.nodeIndex(a,e));return l}var n=h.getRng(!0),i=p.getRoot(),r={};return r.start=t(n,!0),h.isCollapsed()||(r.end=t(n)),r}var o,a,l,u,c,d,f,h=this,p=h.dom,g="&#xFEFF;";if(2==t)return d=h.getNode(),c=d.nodeName,"IMG"==c?{name:c,index:n(c,d)}:h.tridentSel?h.tridentSel.getBookmark(t):r();if(t)return{rng:h.getRng()};if(o=h.getRng(),l=p.uniqueId(),u=h.isCollapsed(),f="overflow:hidden;line-height:0px",o.duplicate||o.item){if(o.item)return d=o.item(0),c=d.nodeName,{name:c,index:n(c,d)};a=o.duplicate();try{o.collapse(),o.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_start" style="'+f+'">'+g+"</span>"),u||(a.collapse(!1),o.moveToElementText(a.parentElement()),0===o.compareEndPoints("StartToEnd",a)&&a.move("character",-1),a.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_end" style="'+f+'">'+g+"</span>"))}catch(m){return null}}else{if(d=h.getNode(),c=d.nodeName,"IMG"==c)return{name:c,index:n(c,d)};a=i(o.cloneRange()),u||(a.collapse(!1),a.insertNode(p.create("span",{"data-mce-type":"bookmark",id:l+"_end",style:f},g))),o=i(o),o.collapse(!0),o.insertNode(p.create("span",{"data-mce-type":"bookmark",id:l+"_start",style:f},g))}return h.moveToBookmark({id:l,keep:1}),{id:l}},moveToBookmark:function(t){function e(e){var n,i,a,s,l=t[e?"start":"end"];if(l){for(a=l[0],i=o,n=l.length-1;n>=1;n--){if(s=i.childNodes,l[n]>s.length-1)return;i=s[l[n]]}3===i.nodeType&&(a=Math.min(l[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(l[0],i.childNodes.length)),e?r.setStart(i,a):r.setEnd(i,a)}return!0}function n(e){var n,i,r,o,c=g.get(t.id+"_"+e),p=t.keep;if(c&&(n=c.parentNode,"start"==e?(p?(n=c.firstChild,i=1):i=g.nodeIndex(c),a=u=n,f=h=i):(p?(n=c.firstChild,i=1):i=g.nodeIndex(c),u=n,h=i),!p)){for(o=c.previousSibling,r=c.nextSibling,s(l(c.childNodes),function(t){3==t.nodeType&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))});c=g.get(t.id+"_"+e);)g.remove(c,1);o&&r&&o.nodeType==r.nodeType&&3==o.nodeType&&!d&&(i=o.nodeValue.length,o.appendData(r.nodeValue),g.remove(r),"start"==e?(a=u=o,f=h=i):(u=o,h=i))}}function i(t){return!g.isBlock(t)||t.innerHTML||c||(t.innerHTML='<br data-mce-bogus="1" />'),t}var r,o,a,u,f,h,p=this,g=p.dom;if(t)if(t.start){if(r=g.createRng(),o=g.getRoot(),p.tridentSel)return p.tridentSel.moveToBookmark(t);e(!0)&&e()&&p.setRng(r)}else t.id?(n("start"),n("end"),a&&(r=g.createRng(),r.setStart(i(a),f),r.setEnd(i(u),h),p.setRng(r))):t.name?p.select(g.select(t.name)[t.index]):t.rng&&p.setRng(t.rng)},select:function(e,n){function i(e,n){var i=new t(e,e);do{if(3==e.nodeType&&0!==u(e.nodeValue).length)return n?s.setStart(e,0):s.setEnd(e,e.nodeValue.length),void 0;if("BR"==e.nodeName)return n?s.setStartBefore(e):s.setEndBefore(e),void 0}while(e=n?i.next():i.prev())}var r,o=this,a=o.dom,s=a.createRng();if(e){if(!n&&o.controlSelection.controlSelect(e))return;r=a.nodeIndex(e),s.setStart(e.parentNode,r),s.setEnd(e.parentNode,r+1),n&&(i(e,1),i(e)),o.setRng(s)}return e},isCollapsed:function(){var t=this,e=t.getRng(),n=t.getSel();return!e||e.item?!1:e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!n||e.collapsed},collapse:function(t){var e,n=this,i=n.getRng();i.item&&(e=i.item(0),i=n.win.document.body.createTextRange(),i.moveToElementText(e)),i.collapse(!!t),n.setRng(i)},getSel:function(){var t=this.win;return t.getSelection?t.getSelection():t.document.selection},getRng:function(t){var e,n,i,r,o=this,a=o.win.document;if(!t&&o.restoreRng)return o.restoreRng;if(t&&o.tridentSel)return o.tridentSel.getRangeAt(0);try{(e=o.getSel())&&(n=e.rangeCount>0?e.getRangeAt(0):e.createRange?e.createRange():a.createRange())}catch(s){}if(c&&n&&n.setStart){try{r=a.selection.createRange()}catch(s){}r&&r.item&&(i=r.item(0),n=a.createRange(),n.setStartBefore(i),n.setEndAfter(i))}return n||(n=a.createRange?a.createRange():a.body.createTextRange()),n.setStart&&9===n.startContainer.nodeType&&n.collapsed&&(i=o.dom.getRoot(),n.setStart(i,0),n.setEnd(i,0)),o.selectedRange&&o.explicitRange&&(0===n.compareBoundaryPoints(n.START_TO_START,o.selectedRange)&&0===n.compareBoundaryPoints(n.END_TO_END,o.selectedRange)?n=o.explicitRange:(o.selectedRange=null,o.explicitRange=null)),n},setRng:function(t,e){var n,i=this;if(t.select)try{t.select()}catch(r){}else if(i.tridentSel){if(t.cloneRange)try{return i.tridentSel.addRange(t),void 0}catch(r){}}else if(n=i.getSel()){i.explicitRange=t;try{n.removeAllRanges()}catch(r){}n.addRange(t),e===!1&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),i.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}},setNode:function(t){var e=this;return e.setContent(e.dom.getOuterHTML(t)),t},getNode:function(){function t(t,e){for(var n=t;t&&3===t.nodeType&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n}var e,n=this,i=n.getRng(),r=i.startContainer,o=i.endContainer,a=i.startOffset,s=i.endOffset;return i?i.setStart?(e=i.commonAncestorContainer,!i.collapsed&&(r==o&&2>s-a&&r.hasChildNodes()&&(e=r.childNodes[a]),3===r.nodeType&&3===o.nodeType&&(r=r.length===a?t(r.nextSibling,!0):r.parentNode,o=0===s?t(o.previousSibling,!1):o.parentNode,r&&r===o))?r:e&&3==e.nodeType?e.parentNode:e):i.item?i.item(0):i.parentElement():n.dom.getRoot()},getSelectedBlocks:function(e,n){var i,r,o=this,a=o.dom,s=[];if(r=a.getRoot(),e=a.getParent(e||o.getStart(),a.isBlock),n=a.getParent(n||o.getEnd(),a.isBlock),e&&e!=r&&s.push(e),e&&n&&e!=n){i=e;for(var l=new t(e,r);(i=l.next())&&i!=n;)a.isBlock(i)&&s.push(i)}return n&&e!=n&&n!=r&&s.push(n),s},isForward:function(){var t,e,n=this.dom,i=this.getSel();return i&&i.anchorNode&&i.focusNode?(t=n.createRng(),t.setStart(i.anchorNode,i.anchorOffset),t.collapse(!0),e=n.createRng(),e.setStart(i.focusNode,i.focusOffset),e.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,e)<=0):!0},normalize:function(){function e(e){function a(e,n){for(var i=new t(e,g.getParent(e.parentNode,g.isBlock)||m);e=i[n?"prev":"next"]();)if("BR"===e.nodeName)return!0}function s(t,e){return t.previousSibling&&t.previousSibling.nodeName==e}function l(e,n){var o,a;for(n=n||u,o=new t(n,g.getParent(n.parentNode,g.isBlock)||m);f=o[e?"prev":"next"]();){if(3===f.nodeType&&f.nodeValue.length>0)return u=f,c=e?f.nodeValue.length:0,i=!0,void 0;if(g.isBlock(f)||h[f.nodeName.toLowerCase()])return;a=f}r&&a&&(u=a,i=!0,c=0)}var u,c,d,f,h,p,g=o.dom,m=g.getRoot();if(u=n[(e?"start":"end")+"Container"],c=n[(e?"start":"end")+"Offset"],h=g.schema.getNonEmptyElements(),9===u.nodeType&&(u=g.getRoot(),c=0),u===m){if(e&&(f=u.childNodes[c>0?c-1:0],f&&(p=f.nodeName.toLowerCase(),h[f.nodeName]||"TABLE"==f.nodeName)))return;if(u.hasChildNodes()&&(c=Math.min(!e&&c>0?c-1:c,u.childNodes.length-1),u=u.childNodes[c],c=0,u.hasChildNodes()&&!/TABLE/.test(u.nodeName))){f=u,d=new t(u,m);do{if(3===f.nodeType&&f.nodeValue.length>0){c=e?0:f.nodeValue.length,u=f,i=!0;break}if(h[f.nodeName.toLowerCase()]){c=g.nodeIndex(f),u=f.parentNode,"IMG"!=f.nodeName||e||c++,i=!0;break}}while(f=e?d.next():d.prev())}}r&&(3===u.nodeType&&0===c&&l(!0),1===u.nodeType&&(f=u.childNodes[c],!f||"BR"!==f.nodeName||s(f,"A")||a(f)||a(f,!0)||l(!0,u.childNodes[c]))),e&&!r&&3===u.nodeType&&c===u.nodeValue.length&&l(!1),i&&n["set"+(e?"Start":"End")](u,c)}var n,i,r,o=this;c||(n=o.getRng(),r=n.collapsed,e(!0),r||e(),i&&(r&&n.collapse(!0),o.setRng(n,o.isForward())))},selectorChanged:function(t,e){var n,i=this;return i.selectorChangedData||(i.selectorChangedData={},n={},i.editor.on("NodeChange",function(t){var e=t.element,r=i.dom,o=r.getParents(e,null,r.getRoot()),a={};s(i.selectorChangedData,function(t,e){s(o,function(i){return r.is(i,e)?(n[e]||(s(t,function(t){t(!0,{node:i,selector:e,parents:o})}),n[e]=t),a[e]=t,!1):void 0})}),s(n,function(t,i){a[i]||(delete n[i],s(t,function(t){t(!1,{node:e,selector:i,parents:o})}))})})),i.selectorChangedData[t]||(i.selectorChangedData[t]=[]),i.selectorChangedData[t].push(e),i},scrollIntoView:function(t){var e,n,i=this,r=i.dom;n=r.getViewPort(i.editor.getWin()),e=r.getPos(t).y,(e<n.y||e+25>n.y+n.h)&&i.editor.getWin().scrollTo(0,e<n.y?e:e-n.h+25)},destroy:function(){this.win=null,this.controlSelection.destroy()}},a}),i("tinymce/dom/RangeUtils",["tinymce/util/Tools"],function(t){function e(t){this.walk=function(e,i){function r(t){var e;return e=t[0],3===e.nodeType&&e===g&&m>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===y&&t.length>0&&e===v&&3===e.nodeType&&t.splice(t.length-1,1),t}function o(t,e,n){for(var i=[];t&&t!=n;t=t[e])i.push(t);return i}function a(t,e){do{if(t.parentNode==e)return t;t=t.parentNode}while(t)}function s(t,e,n){var a=n?"nextSibling":"previousSibling";for(d=t,f=d.parentNode;d&&d!=e;d=f)f=d.parentNode,h=o(d==t?d:d[a],a),h.length&&(n||h.reverse(),i(r(h)))}var l,u,c,d,f,h,p,g=e.startContainer,m=e.startOffset,v=e.endContainer,y=e.endOffset;if(p=t.select("td.mce-item-selected,th.mce-item-selected"),p.length>0)return n(p,function(t){i([t])}),void 0;if(1==g.nodeType&&g.hasChildNodes()&&(g=g.childNodes[m]),1==v.nodeType&&v.hasChildNodes()&&(v=v.childNodes[Math.min(y-1,v.childNodes.length-1)]),g==v)return i(r([g]));for(l=t.findCommonAncestor(g,v),d=g;d;d=d.parentNode){if(d===v)return s(g,l,!0);if(d===l)break}for(d=v;d;d=d.parentNode){if(d===g)return s(v,l);if(d===l)break}u=a(g,l)||g,c=a(v,l)||v,s(g,u,!0),h=o(u==g?u:u.nextSibling,"nextSibling",c==v?c.nextSibling:c),h.length&&i(r(h)),s(v,c)},this.split=function(t){function e(t,e){return t.splitText(e)}var n=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset;return n==r&&3==n.nodeType?i>0&&i<n.nodeValue.length&&(r=e(n,i),n=r.previousSibling,o>i?(o-=i,n=r=e(r,o).previousSibling,o=r.nodeValue.length,i=0):o=0):(3==n.nodeType&&i>0&&i<n.nodeValue.length&&(n=e(n,i),i=0),3==r.nodeType&&o>0&&o<r.nodeValue.length&&(r=e(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:n,startOffset:i,endContainer:r,endOffset:o}}}var n=t.each;return e.compareRanges=function(t,e){if(t&&e){if(!t.item&&!t.duplicate)return t.startContainer==e.startContainer&&t.startOffset==e.startOffset;if(t.item&&e.item&&t.item(0)===e.item(0))return!0;if(t.isEqual&&e.isEqual&&e.isEqual(t))return!0}return!1},e}),i("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/util/Tools"],function(t,e,n){return function(i){function r(t){return t.nodeType&&(t=t.nodeName),!!i.schema.getTextBlockElements()[t.toLowerCase()]}function o(t,e){return I.getParents(t,e,I.getRoot())}function a(t){return 1===t.nodeType&&"_mce_caret"===t.id}function s(){c({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,e,n){te(n,function(e,n){I.setAttrib(t,n,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),te("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(t){c(t,{block:t,remove:"all"})}),c(i.settings.formats)}function l(){i.addShortcut("ctrl+b","bold_desc","Bold"),i.addShortcut("ctrl+i","italic_desc","Italic"),i.addShortcut("ctrl+u","underline_desc","Underline");for(var t=1;6>=t;t++)i.addShortcut("ctrl+"+t,"",["FormatBlock",!1,"h"+t]);i.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),i.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),i.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])
}function u(t){return t?$[t]:$}function c(t,e){t&&("string"!=typeof t?te(t,function(t,e){c(e,t)}):(e=e.length?e:[e],te(e,function(t){t.deep===j&&(t.deep=!t.selector),t.split===j&&(t.split=!t.selector||t.inline),t.remove===j&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))}),$[t]=e))}function d(t){var e;return i.dom.getParent(t,function(t){return e=i.dom.getStyle(t,"text-decoration"),e&&"none"!==e}),e}function f(t){var e;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(e=d(t.parentNode),i.dom.getStyle(t,"color")&&e?i.dom.setStyle(t,"text-decoration",e):i.dom.getStyle(t,"textdecoration")===e&&i.dom.setStyle(t,"text-decoration",null))}function h(e,n,o){function s(t,e){e=e||y,t&&(e.onformat&&e.onformat(t,e,n,o),te(e.styles,function(e,i){I.setStyle(t,i,E(e,n))}),te(e.attributes,function(e,i){I.setAttrib(t,i,E(e,n))}),te(e.classes,function(e){e=E(e,n),I.hasClass(t,e)||I.addClass(t,e)}))}function l(){function e(e,n){var i=new t(n);for(o=i.current();o;o=i.prev())if(o.childNodes.length>1||o==e||"BR"==o.tagName)return o}var n=i.selection.getRng(),r=n.startContainer,a=n.endContainer;if(r!=a&&0===n.endOffset){var s=e(r,a),l=3==s.nodeType?s.length:s.childNodes.length;n.setEnd(s,l)}return n}function c(t,e,n,i,r){var o,a,s=[],l=-1,u=-1,c=-1;return te(t.childNodes,function(t,e){return"UL"===t.nodeName||"OL"===t.nodeName?(l=e,o=t,!1):void 0}),te(t.childNodes,function(t,n){"SPAN"===t.nodeName&&"bookmark"==I.getAttrib(t,"data-mce-type")&&(t.id==e.id+"_start"?u=n:t.id==e.id+"_end"&&(c=n))}),0>=l||l>u&&c>l?(te(ee(t.childNodes),r),0):(a=I.clone(n,G),te(ee(t.childNodes),function(t,e){(l>u&&l>e||u>l&&e>l)&&(s.push(t),t.parentNode.removeChild(t))}),l>u?t.insertBefore(a,o):u>l&&t.insertBefore(a,o.nextSibling),i.push(a),te(s,function(t){a.appendChild(t)}),a)}function d(t,i,o){var l,u,d=[],f=!0;l=y.inline||y.block,u=I.create(l),s(u),q.walk(t,function(t){function h(t){var g,x,_,C,k;return k=f,g=t.nodeName.toLowerCase(),x=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&Q(t)&&(k=f,f="true"===Q(t),C=!0),w(g,"br")?(p=0,y.block&&I.remove(t),void 0):y.wrapper&&m(t,e,n)?(p=0,void 0):f&&!C&&y.block&&!y.wrapper&&r(g)&&U(x,l)?(t=I.rename(t,l),s(t),d.push(t),p=0,void 0):y.selector&&(te(v,function(e){"collapsed"in e&&e.collapsed!==b||I.is(t,e.selector)&&!a(t)&&(s(t,e),_=!0)}),!y.inline||_)?(p=0,void 0):(!f||C||!U(l,g)||!U(x,l)||!o&&3===t.nodeType&&1===t.nodeValue.length&&65279===t.nodeValue.charCodeAt(0)||a(t)||y.inline&&V(t)?"li"==g&&i?p=c(t,i,u,d,h):(p=0,te(ee(t.childNodes),h),C&&(f=k),p=0):(p||(p=I.clone(u,G),t.parentNode.insertBefore(p,t),d.push(p)),p.appendChild(t)),void 0)}var p;te(t,h)}),y.wrap_links===!1&&te(d,function(t){function e(t){var n,i,r;if("A"===t.nodeName){for(i=I.clone(u,G),d.push(i),r=ee(t.childNodes),n=0;n<r.length;n++)i.appendChild(r[n]);t.appendChild(i)}te(ee(t.childNodes),e)}e(t)}),te(d,function(t){function i(t){var e=0;return te(t.childNodes,function(t){S(t)||D(t)||e++}),e}function r(t){var e,n;return te(t.childNodes,function(t){return 1!=t.nodeType||D(t)||a(t)?void 0:(e=t,G)}),e&&_(e,y)&&(n=I.clone(e,G),s(n),I.replace(n,t,J),I.remove(e,1)),n||t}var o;if(o=i(t),(d.length>1||!V(t))&&0===o)return I.remove(t,1),void 0;if(y.inline||y.wrapper){if(y.exact||1!==o||(t=r(t)),te(v,function(e){te(I.select(e.inline,t),function(t){var i;if(e.wrap_links===!1){i=t.parentNode;do if("A"===i.nodeName)return;while(i=i.parentNode)}N(e,n,t,e.exact?t:null)})}),m(t.parentNode,e,n))return I.remove(t,1),t=0,J;y.merge_with_parents&&I.getParent(t.parentNode,function(i){return m(i,e,n)?(I.remove(t,1),t=0,J):void 0}),t&&y.merge_siblings!==!1&&(t=H(R(t),t),t=H(t,R(t,J)))}})}var p,g,v=u(e),y=v[0],b=!o&&W.isCollapsed();if(y)if(o)o.nodeType?(g=I.createRng(),g.setStartBefore(o),g.setEndAfter(o),d(T(g,v),null,!0)):d(o,null,!0);else if(b&&y.inline&&!I.select("td.mce-item-selected,th.mce-item-selected").length)F("apply",e,n);else{var x=i.selection.getNode();X||!v[0].defaultBlock||I.getParent(x,I.isBlock)||h(v[0].defaultBlock),i.selection.setRng(l()),p=W.getBookmark(),d(T(W.getRng(J),v),p),y.styles&&(y.styles.color||y.styles.textDecoration)&&(ne(x,f,"childNodes"),f(x)),W.moveToBookmark(p),B(W.getRng(J)),i.nodeChanged()}}function p(t,e,n){function r(t){var n,i,o,a,s;if(1===t.nodeType&&Q(t)&&(a=b,b="true"===Q(t),s=!0),n=ee(t.childNodes),b&&!s)for(i=0,o=g.length;o>i&&!N(g[i],e,t,t);i++);if(y.deep&&n.length){for(i=0,o=n.length;o>i;i++)r(n[i]);s&&(b=a)}}function a(n){var i;return te(o(n.parentNode).reverse(),function(n){var r;i||"_start"==n.id||"_end"==n.id||(r=m(n,t,e),r&&r.split!==!1&&(i=n))}),i}function s(t,n,i,r){var o,a,s,l,u,c;if(t){for(c=t.parentNode,o=n.parentNode;o&&o!=c;o=o.parentNode){for(a=I.clone(o,G),u=0;u<g.length;u++)if(N(g[u],e,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}!r||y.mixed&&V(t)||(n=I.split(t,n)),s&&(i.parentNode.insertBefore(s,i),l.appendChild(i))}return n}function l(t){return s(a(t),t,t,!0)}function c(t){var e=I.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return D(n)&&(n=n[t?"firstChild":"lastChild"]),I.remove(e,!0),n}function f(t){var e,n;t=T(t,g,J),y.split&&(e=L(t,J),n=L(t),e!=n?(/^(TR|TD)$/.test(e.nodeName)&&e.firstChild&&(e="TD"==e.nodeName?e.firstChild||e:e.firstChild.firstChild||e),e=M(e,"span",{id:"_start","data-mce-type":"bookmark"}),n=M(n,"span",{id:"_end","data-mce-type":"bookmark"}),l(e),l(n),e=c(J),n=c()):e=n=l(e),t.startContainer=e.parentNode,t.startOffset=Y(e),t.endContainer=n.parentNode,t.endOffset=Y(n)+1),q.walk(t,function(t){te(t,function(t){r(t),1===t.nodeType&&"underline"===i.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===d(t.parentNode)&&N({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})}var h,p,g=u(t),y=g[0],b=!0;return n?(n.nodeType?(p=I.createRng(),p.setStartBefore(n),p.setEndAfter(n),f(p)):f(n),void 0):(W.isCollapsed()&&y.inline&&!I.select("td.mce-item-selected,th.mce-item-selected").length?F("remove",t,e):(h=W.getBookmark(),f(W.getRng(J)),W.moveToBookmark(h),y.inline&&v(t,e,W.getStart())&&B(W.getRng(!0)),i.nodeChanged()),void 0)}function g(t,e,n){var i=u(t);!v(t,e,n)||"toggle"in i[0]&&!i[0].toggle?h(t,e,n):p(t,e,n)}function m(t,e,n,i){function r(t,e,r){var o,a,s,l=e[r];if(e.onmatch)return e.onmatch(t,e,r);if(l)if(l.length===j){for(o in l)if(l.hasOwnProperty(o)){if(a="attributes"===r?I.getAttrib(t,o):C(t,o),i&&!a&&!e.exact)return;if((!i||e.exact)&&!w(a,k(E(l[o],n),o)))return}}else for(s=0;s<l.length;s++)if("attributes"===r?I.getAttrib(t,l[s]):C(t,l[s]))return e;return e}var o,a,s,l=u(e);if(l&&t)for(a=0;a<l.length;a++)if(o=l[a],_(t,o)&&r(t,o,"attributes")&&r(t,o,"styles")){if(s=o.classes)for(a=0;a<s.length;a++)if(!I.hasClass(t,s[a]))return;return o}}function v(t,e,n){function i(n){return n=I.getParent(n,function(n){return!!m(n,t,e,!0)}),m(n,t,e)}var r;return n?i(n):(n=W.getNode(),i(n)?J:(r=W.getStart(),r!=n&&i(r)?J:G))}function y(t,e){var n,i=[],r={};return n=W.getStart(),I.getParent(n,function(n){var o,a;for(o=0;o<t.length;o++)a=t[o],!r[a]&&m(n,a,e)&&(r[a]=!0,i.push(a))},I.getRoot()),i}function b(t){var e,n,i,r,a,s=u(t);if(s)for(e=W.getStart(),n=o(e),r=s.length-1;r>=0;r--){if(a=s[r].selector,!a)return J;for(i=n.length-1;i>=0;i--)if(I.is(n[i],a))return J}return G}function x(t,e,n){var r;return P||(P={},r={},i.on("NodeChange",function(t){var e=o(t.element),n={};te(P,function(t,i){te(e,function(o){return m(o,i,{},t.similar)?(r[i]||(te(t,function(t){t(!0,{node:o,format:i,parents:e})}),r[i]=t),n[i]=t,!1):void 0})}),te(r,function(i,o){n[o]||(delete r[o],te(i,function(n){n(!1,{node:t.element,format:o,parents:e})}))})})),te(t.split(","),function(t){P[t]||(P[t]=[],P[t].similar=n),P[t].push(e)}),this}function _(t,e){return w(t,e.inline)?J:w(t,e.block)?J:e.selector?1==t.nodeType&&I.is(t,e.selector):void 0}function w(t,e){return t=t||"",e=e||"",t=""+(t.nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()==e.toLowerCase()}function C(t,e){return k(I.getStyle(t,e),e)}function k(t,e){return("color"==e||"backgroundColor"==e)&&(t=I.toHex(t)),"fontWeight"==e&&700==t&&(t="bold"),"fontFamily"==e&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t}function E(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,function(t,n){return e[n]||t})),t}function S(t){return t&&3===t.nodeType&&/^([\t \r\n]+|)$/.test(t.nodeValue)}function M(t,e,n){var i=I.create(e,n);return t.parentNode.insertBefore(i,t),i.appendChild(t),i}function T(e,n,a){function s(t){function e(t){return"BR"==t.nodeName&&t.getAttribute("data-mce-bogus")&&!t.nextSibling}var i,r,o,a,s;if(i=r=t?m:y,a=t?"previousSibling":"nextSibling",s=I.getRoot(),3==i.nodeType&&!S(i)&&(t?v>0:b<i.nodeValue.length))return i;for(;;){if(!n[0].block_expand&&V(r))return r;for(o=r[a];o;o=o[a])if(!D(o)&&!S(o)&&!e(o))return r;if(r.parentNode==s){i=r;break}r=r.parentNode}return i}function l(t,e){for(e===j&&(e=3===t.nodeType?t.length:t.childNodes.length);t&&t.hasChildNodes();)t=t.childNodes[e],t&&(e=3===t.nodeType?t.length:t.childNodes.length);return{node:t,offset:e}}function u(t){for(var e=t;e;){if(1===e.nodeType&&Q(e))return"false"===Q(e)?e:t;e=e.parentNode}return t}function c(e,n,r){function o(t,e){var n,i,o=t.nodeValue;return"undefined"==typeof e&&(e=r?o.length:0),r?(n=o.lastIndexOf(" ",e),i=o.lastIndexOf(" ",e),n=n>i?n:i,-1===n||a||n++):(n=o.indexOf(" ",e),i=o.indexOf(" ",e),n=-1!==n&&(-1===i||i>n)?n:i),n}var s,l,u,c;if(3===e.nodeType){if(u=o(e,n),-1!==u)return{container:e,offset:u};c=e}for(s=new t(e,I.getParent(e,V)||i.getBody());l=s[r?"prev":"next"]();)if(3===l.nodeType){if(c=l,u=o(l),-1!==u)return{container:l,offset:u}}else if(V(l))break;return c?(n=r?0:c.length,{container:c,offset:n}):void 0}function d(t,i){var r,a,s,l;for(3==t.nodeType&&0===t.nodeValue.length&&t[i]&&(t=t[i]),r=o(t),a=0;a<r.length;a++)for(s=0;s<n.length;s++)if(l=n[s],!("collapsed"in l&&l.collapsed!==e.collapsed)&&I.is(r[a],l.selector))return r[a];return t}function f(t,e){var i;if(n[0].wrapper||(i=I.getParent(t,n[0].block)),i||(i=I.getParent(3==t.nodeType?t.parentNode:t,r)),i&&n[0].wrapper&&(i=o(i,"ul,ol").reverse()[0]||i),!i)for(i=t;i[e]&&!V(i[e])&&(i=i[e],!w(i,"br")););return i||t}var h,p,g,m=e.startContainer,v=e.startOffset,y=e.endContainer,b=e.endOffset;if(1==m.nodeType&&m.hasChildNodes()&&(h=m.childNodes.length-1,m=m.childNodes[v>h?h:v],3==m.nodeType&&(v=0)),1==y.nodeType&&y.hasChildNodes()&&(h=y.childNodes.length-1,y=y.childNodes[b>h?h:b-1],3==y.nodeType&&(b=y.nodeValue.length)),m=u(m),y=u(y),(D(m.parentNode)||D(m))&&(m=D(m)?m:m.parentNode,m=m.nextSibling||m,3==m.nodeType&&(v=0)),(D(y.parentNode)||D(y))&&(y=D(y)?y:y.parentNode,y=y.previousSibling||y,3==y.nodeType&&(b=y.length)),n[0].inline&&(e.collapsed&&(g=c(m,v,!0),g&&(m=g.container,v=g.offset),g=c(y,b),g&&(y=g.container,b=g.offset)),p=l(y,b),p.node)){for(;p.node&&0===p.offset&&p.node.previousSibling;)p=l(p.node.previousSibling);p.node&&p.offset>0&&3===p.node.nodeType&&" "===p.node.nodeValue.charAt(p.offset-1)&&p.offset>1&&(y=p.node,y.splitText(p.offset-1))}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==m.nodeType&&0!==v||(m=s(!0)),n[0].inline&&3==y.nodeType&&b!==y.nodeValue.length||(y=s())),n[0].selector&&n[0].expand!==G&&!n[0].inline&&(m=d(m,"previousSibling"),y=d(y,"nextSibling")),(n[0].block||n[0].selector)&&(m=f(m,"previousSibling"),y=f(y,"nextSibling"),n[0].block&&(V(m)||(m=s(!0)),V(y)||(y=s()))),1==m.nodeType&&(v=Y(m),m=m.parentNode),1==y.nodeType&&(b=Y(y)+1,y=y.parentNode),{startContainer:m,startOffset:v,endContainer:y,endOffset:b}}function N(t,e,n,i){var r,o,a;if(!_(n,t))return G;if("all"!=t.remove)for(te(t.styles,function(t,r){t=k(E(t,e),r),"number"==typeof r&&(r=t,i=0),(!i||w(C(i,r),t))&&I.setStyle(n,r,""),a=1}),a&&""===I.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),te(t.attributes,function(t,r){var o;if(t=E(t,e),"number"==typeof r&&(r=t,i=0),!i||w(I.getAttrib(i,r),t)){if("class"==r&&(t=I.getAttrib(n,r),t&&(o="",te(t.split(/\s+/),function(t){/mce\w+/.test(t)&&(o+=(o?" ":"")+t)}),o)))return I.setAttrib(n,r,o),void 0;"class"==r&&n.removeAttribute("className"),Z.test(r)&&n.removeAttribute("data-mce-"+r),n.removeAttribute(r)}}),te(t.classes,function(t){t=E(t,e),(!i||I.hasClass(i,t))&&I.removeClass(n,t)}),o=I.getAttribs(n),r=0;r<o.length;r++)if(0!==o[r].nodeName.indexOf("_"))return G;return"none"!=t.remove?(A(n,t),J):void 0}function A(t,e){function n(t,e,n){return t=R(t,e,n),!t||"BR"==t.nodeName||V(t)}var i,r=t.parentNode;e.block&&(X?r==I.getRoot()&&(e.list_block&&w(t,e.list_block)||te(ee(t.childNodes),function(t){U(X,t.nodeName.toLowerCase())?i?i.appendChild(t):i=M(t,X):i=0})):V(t)&&!V(r)&&(n(t,G)||n(t.firstChild,J,1)||t.insertBefore(I.create("br"),t.firstChild),n(t,J)||n(t.lastChild,G,1)||t.appendChild(I.create("br")))),e.selector&&e.inline&&!w(e.inline,t)||I.remove(t,1)}function R(t,e,n){if(t)for(e=e?"nextSibling":"previousSibling",t=n?t:t[e];t;t=t[e])if(1==t.nodeType||!S(t))return t}function D(t){return t&&1==t.nodeType&&"bookmark"==t.getAttribute("data-mce-type")}function H(t,e){function n(t,e){function n(t){var e={};return te(I.getAttribs(t),function(n){var i=n.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&(e[i]=I.getAttrib(t,i))}),e}function i(t,e){var n,i;for(i in t)if(t.hasOwnProperty(i)){if(n=e[i],n===j)return G;if(t[i]!=n)return G;delete e[i]}for(i in e)if(e.hasOwnProperty(i))return G;return J}return t.nodeName!=e.nodeName?G:i(n(t),n(e))?i(I.parseStyle(I.getAttrib(t,"style")),I.parseStyle(I.getAttrib(e,"style")))?J:G:G}function i(t,e){for(r=t;r;r=r[e]){if(3==r.nodeType&&0!==r.nodeValue.length)return t;if(1==r.nodeType&&!D(r))return r}return t}var r,o;if(t&&e&&(t=i(t,"previousSibling"),e=i(e,"nextSibling"),n(t,e))){for(r=t.nextSibling;r&&r!=e;)o=r,r=r.nextSibling,t.appendChild(o);return I.remove(e),te(ee(e.childNodes),function(e){t.appendChild(e)}),t}return e}function L(e,n){var r,o,a;return r=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"],1==r.nodeType&&(a=r.childNodes.length-1,!n&&o&&o--,r=r.childNodes[o>a?a:o]),3===r.nodeType&&n&&o>=r.nodeValue.length&&(r=new t(r,i.getBody()).next()||r),3!==r.nodeType||n||0!==o||(r=new t(r,i.getBody()).prev()||r),r}function F(e,n,o){function a(t){var e=I.create("span",{id:y,"data-mce-bogus":!0,style:b?"color:red":""});return t&&e.appendChild(i.getDoc().createTextNode(K)),e}function s(t,e){for(;t;){if(3===t.nodeType&&t.nodeValue!==K||t.childNodes.length>1)return!1;e&&1===t.nodeType&&e.push(t),t=t.firstChild}return!0}function l(t){for(;t;){if(t.id===y)return t;t=t.parentNode}}function c(e){var n;if(e)for(n=new t(e,e),e=n.current();e;e=n.next())if(3===e.nodeType)return e}function d(t,e){var n,i;if(t)i=W.getRng(!0),s(t)?(e!==!1&&(i.setStartBefore(t),i.setEndBefore(t)),I.remove(t)):(n=c(t),n.nodeValue.charAt(0)===K&&(n=n.deleteData(0,1)),I.remove(t,1)),W.setRng(i);else if(t=l(W.getStart()),!t)for(;t=I.get(y);)d(t,!1)}function f(){var t,e,i,r,s,d,f;t=W.getRng(!0),r=t.startOffset,d=t.startContainer,f=d.nodeValue,e=l(W.getStart()),e&&(i=c(e)),f&&r>0&&r<f.length&&/\w/.test(f.charAt(r))&&/\w/.test(f.charAt(r-1))?(s=W.getBookmark(),t.collapse(!0),t=T(t,u(n)),t=q.split(t),h(n,o,t),W.moveToBookmark(s)):(e&&i.nodeValue===K?h(n,o,e):(e=a(!0),i=e.firstChild,t.insertNode(e),r=1,h(n,o,e)),W.setCursorLocation(i,r))}function g(){var t,e,i,s,l,c,d,f,h=W.getRng(!0),g=[];for(t=h.startContainer,e=h.startOffset,l=t,3==t.nodeType&&((e!=t.nodeValue.length||t.nodeValue===K)&&(s=!0),l=l.parentNode);l;){if(m(l,n,o)){c=l;break}l.nextSibling&&(s=!0),g.push(l),l=l.parentNode}if(c)if(s)i=W.getBookmark(),h.collapse(!0),h=T(h,u(n),!0),h=q.split(h),p(n,o,h),W.moveToBookmark(i);else{for(f=a(),l=f,d=g.length-1;d>=0;d--)l.appendChild(I.clone(g[d],!1)),l=l.firstChild;l.appendChild(I.doc.createTextNode(K)),l=l.firstChild;var v=I.getParent(c,r);v&&I.isEmpty(v)?c.parentNode.replaceChild(f,c):I.insertAfter(f,c),W.setCursorLocation(l,1)}}function v(){var t;t=l(W.getStart()),t&&!I.isEmpty(t)&&ne(t,function(t){1!=t.nodeType||t.id===y||I.isEmpty(t)||I.setAttrib(t,"data-mce-bogus",null)},"childNodes")}var y="_mce_caret",b=i.settings.caret_debug;i._hasCaretEvents||(z=function(){var t,e=[];if(s(l(W.getStart()),e))for(t=e.length;t--;)I.setAttrib(e[t],"data-mce-bogus","1")},O=function(t){var e=t.keyCode;d(),(8==e||37==e||39==e)&&d(l(W.getStart())),v()},i.on("SetContent",function(t){t.selection&&v()}),i._hasCaretEvents=!0),"apply"==e?f():g()}function B(e){var n,i,r,o,a,s=e.startContainer,l=e.startOffset;if(3==s.nodeType&&l>=s.nodeValue.length&&(l=Y(s),s=s.parentNode,n=!0),1==s.nodeType)for(o=s.childNodes,s=o[Math.min(l,o.length-1)],i=new t(s,I.getParent(s,I.isBlock)),(l>o.length-1||n)&&i.next(),r=i.current();r;r=i.next())if(3==r.nodeType&&!S(r))return a=I.create("a",null,K),r.parentNode.insertBefore(a,r),e.setStart(r,0),W.setRng(e),I.remove(a),void 0}var P,j,O,z,$={},I=i.dom,W=i.selection,q=new e(I),U=i.schema.isValidChild,V=I.isBlock,X=i.settings.forced_root_block,Y=I.nodeIndex,K="﻿",Z=/^(src|href|style)$/,G=!1,J=!0,Q=I.getContentEditable,te=n.each,ee=n.grep,ne=n.walk,ie=n.extend;ie(this,{get:u,register:c,apply:h,remove:p,toggle:g,match:v,matchAll:y,matchNode:m,canApply:b,formatChanged:x}),s(),l(),i.on("BeforeGetContent",function(){z&&z()}),i.on("mouseup keydown",function(t){O&&O(t)})}}),i("tinymce/UndoManager",["tinymce/Env","tinymce/util/Tools"],function(t,e){var n,i=e.trim;return n=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[​﻿]+<\\/span>","<div[^>]+data-mce-bogus[^>]+><\\/div>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi"),function(e){function r(){return i(e.getContent({format:"raw",no_events:1}).replace(n,""))}function o(){a.typing=!1,a.add()}var a,s,l,u=0,c=[];return e.on("init",function(){a.add()}),e.on("BeforeExecCommand",function(t){var e=t.command;"Undo"!=e&&"Redo"!=e&&"mceRepaint"!=e&&a.beforeChange()}),e.on("ExecCommand",function(t){var e=t.command;"Undo"!=e&&"Redo"!=e&&"mceRepaint"!=e&&a.add()}),e.on("ObjectResizeStart",function(){a.beforeChange()}),e.on("SaveContent ObjectResized",o),e.dom.bind(e.dom.getRoot(),"dragend",o),e.dom.bind(e.getBody(),"focusout",function(){!e.removed&&a.typing&&o()}),e.on("KeyUp",function(n){var i=n.keyCode;(i>=33&&36>=i||i>=37&&40>=i||45==i||13==i||n.ctrlKey)&&(o(),e.nodeChanged()),(46==i||8==i||t.mac&&(91==i||93==i))&&e.nodeChanged(),l&&a.typing&&(e.isDirty()||(e.isNotDirty=!c[0]||r()==c[0].content),e.fire("TypingUndo"),l=!1,e.nodeChanged())}),e.on("KeyDown",function(t){var e=t.keyCode;return e>=33&&36>=e||e>=37&&40>=e||45==e?(a.typing&&o(),void 0):((16>e||e>20)&&224!=e&&91!=e&&!a.typing&&(a.beforeChange(),a.typing=!0,a.add(),l=!0),void 0)}),e.on("MouseDown",function(){a.typing&&o()}),e.addShortcut("ctrl+z","","Undo"),e.addShortcut("ctrl+y,ctrl+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos MouseUp",function(t){t.isDefaultPrevented()||e.nodeChanged()}),a={data:c,typing:!1,beforeChange:function(){s=e.selection.getBookmark(2,!0)},add:function(t){var n,i,o=e.settings;if(t=t||{},t.content=r(),e.fire("BeforeAddUndo",{level:t}).isDefaultPrevented())return null;if(i=c[u],i&&i.content==t.content)return null;if(c[u]&&(c[u].beforeBookmark=s),o.custom_undo_redo_levels&&c.length>o.custom_undo_redo_levels){for(n=0;n<c.length-1;n++)c[n]=c[n+1];c.length--,u=c.length}t.bookmark=e.selection.getBookmark(2,!0),u<c.length-1&&(c.length=u+1),c.push(t),u=c.length-1;var a={level:t,lastLevel:i};return e.fire("AddUndo",a),u>0&&(e.fire("change",a),e.isNotDirty=!1),t},undo:function(){var t;return a.typing&&(a.add(),a.typing=!1),u>0&&(t=c[--u],e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(t.beforeBookmark),e.fire("undo",{level:t})),t},redo:function(){var t;return u<c.length-1&&(t=c[++u],e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(t.bookmark),e.fire("redo",{level:t})),t},clear:function(){c=[],u=0,a.typing=!1,e.fire("ClearUndos")},hasUndo:function(){return u>0||a.typing&&c[0]&&r()!=c[0].content},hasRedo:function(){return u<c.length-1&&!this.typing},transact:function(t){a.beforeChange(),t(),a.add()}}}}),i("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/Env"],function(t,e){var n=e.ie;return function(e){function i(i){function c(t){return t&&r.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==r.getContentEditable(t)}function d(t){var e;r.isBlock(t)&&(e=o.getRng(),t.appendChild(r.create("span",null," ")),o.select(t),t.lastChild.outerHTML="",o.setRng(e))}function f(t){for(var e,n=t,i=[];n=n.firstChild;){if(r.isBlock(n))return;1!=n.nodeType||u[n.nodeName.toLowerCase()]||i.push(n)}for(e=i.length;e--;)n=i[e],!n.hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?r.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&r.remove(n)}function h(e){var n,i,a,s,l=e;if(a=r.createRng(),e.hasChildNodes()){for(n=new t(e,e);i=n.current();){if(3==i.nodeType){a.setStart(i,0),a.setEnd(i,0);break}if(u[i.nodeName.toLowerCase()]){a.setStartBefore(i),a.setEndBefore(i);break}l=i,i=n.next()}i||(a.setStart(l,0),a.setEnd(l,0))}else"BR"==e.nodeName?e.nextSibling&&r.isBlock(e.nextSibling)?((!T||9>T)&&(s=r.create("br"),e.parentNode.insertBefore(s,e)),a.setStartBefore(e),a.setEndBefore(e)):(a.setStartAfter(e),a.setEndAfter(e)):(a.setStart(e,0),a.setEnd(e,0));o.setRng(a),r.remove(s),o.scrollIntoView(e)}function p(t){var e,i,o,s=E;if(e=t||"TABLE"==H?r.create(t||F):M.cloneNode(!1),o=e,a.keep_styles!==!1)do if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(s.nodeName)){if("_mce_caret"==s.id)continue;i=s.cloneNode(!1),r.setAttrib(i,"id",""),e.hasChildNodes()?(i.appendChild(e.firstChild),e.appendChild(i)):(o=i,e.appendChild(i))}while(s=s.parentNode);return n||(o.innerHTML='<br data-mce-bogus="1">'),e}function g(e){var n,i,r;if(3==E.nodeType&&(e?S>0:S<E.nodeValue.length))return!1;if(E.parentNode==M&&B&&!e)return!0;if(e&&1==E.nodeType&&E==M.firstChild)return!0;if("TABLE"===E.nodeName||E.previousSibling&&"TABLE"==E.previousSibling.nodeName)return B&&!e||!B&&e;for(n=new t(E,M),3==E.nodeType&&(e&&0===S?n.prev():e||S!=E.nodeValue.length||n.next());i=n.current();){if(1===i.nodeType){if(!i.getAttribute("data-mce-bogus")&&(r=i.nodeName.toLowerCase(),u[r]&&"br"!==r))return!1}else if(3===i.nodeType&&!/^[ \t\r\n]*$/.test(i.nodeValue))return!1;e?n.prev():n.next()}return!0}function m(t,n){var i,o,a,s,u,d,f=F||"P";if(o=r.getParent(t,r.isBlock),d=e.getBody().nodeName.toLowerCase(),!o||!c(o)){if(o=o||k,!o.hasChildNodes())return i=r.create(f),o.appendChild(i),P.setStart(i,0),P.setEnd(i,0),i;for(s=t;s.parentNode!=o;)s=s.parentNode;for(;s&&!r.isBlock(s);)a=s,s=s.previousSibling;if(a&&l.isValidChild(d,f.toLowerCase())){for(i=r.create(f),a.parentNode.insertBefore(i,a),s=a;s&&!r.isBlock(s);)u=s.nextSibling,i.appendChild(s),s=u;P.setStart(t,n),P.setEnd(t,n)}}return t}function v(){function t(t){for(var e=D[t?"firstChild":"lastChild"];e&&1!=e.nodeType;)e=e[t?"nextSibling":"previousSibling"];return e===M}function e(){var t=D.parentNode;return"LI"==t.nodeName?t:D}var n=D.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(F="LI"),A=F?p(F):r.create("BR"),t(!0)&&t()?"LI"==n?r.insertAfter(A,e()):r.replace(A,D):t(!0)?"LI"==n?(r.insertAfter(A,e()),A.appendChild(r.doc.createTextNode(" ")),A.appendChild(D)):D.parentNode.insertBefore(A,D):t()?(r.insertAfter(A,e()),d(A)):(D=e(),C=P.cloneRange(),C.setStartAfter(M),C.setEndAfter(D),R=C.extractContents(),r.insertAfter(R,D),r.insertAfter(A,D)),r.remove(M),h(A),s.add()}function y(){for(var e,n=new t(E,M);e=n.next();)if(u[e.nodeName.toLowerCase()]||e.length>0)return!0}function b(){var t,e,i;E&&3==E.nodeType&&S>=E.nodeValue.length&&(n||y()||(t=r.create("br"),P.insertNode(t),P.setStartAfter(t),P.setEndAfter(t),e=!0)),t=r.create("br"),P.insertNode(t),n&&"PRE"==H&&(!T||8>T)&&t.parentNode.insertBefore(r.doc.createTextNode("\r"),t),i=r.create("span",{},"&nbsp;"),t.parentNode.insertBefore(i,t),o.scrollIntoView(i),r.remove(i),e?(P.setStartBefore(t),P.setEndBefore(t)):(P.setStartAfter(t),P.setEndAfter(t)),o.setRng(P),s.add()}function x(t){do 3===t.nodeType&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)}function _(t){var e,n,i=r.getRoot();for(e=t;e!==i&&"false"!==r.getContentEditable(e);)"true"===r.getContentEditable(e)&&(n=e),e=e.parentNode;return e!==i?n:i}function w(t){var e;n||(t.normalize(),e=t.lastChild,(!e||/^(left|right)$/gi.test(r.getStyle(e,"float",!0)))&&r.add(t,"br"))}var C,k,E,S,M,T,N,A,R,D,H,L,F,B,P=o.getRng(!0);if(!P.collapsed)return e.execCommand("Delete"),void 0;if(!i.isDefaultPrevented()&&(E=P.startContainer,S=P.startOffset,F=(a.force_p_newlines?"p":"")||a.forced_root_block,F=F?F.toUpperCase():"",T=r.doc.documentMode,N=i.shiftKey,1==E.nodeType&&E.hasChildNodes()&&(B=S>E.childNodes.length-1,E=E.childNodes[Math.min(S,E.childNodes.length-1)]||E,S=B&&3==E.nodeType?E.nodeValue.length:0),k=_(E))){if(s.beforeChange(),!r.isBlock(k)&&k!=r.getRoot())return(!F||N)&&b(),void 0;if((F&&!N||!F&&N)&&(E=m(E,S)),M=r.getParent(E,r.isBlock),D=M?r.getParent(M.parentNode,r.isBlock):null,H=M?M.nodeName.toUpperCase():"",L=D?D.nodeName.toUpperCase():"","LI"!=L||i.ctrlKey||(M=D,H=L),"LI"==H){if(!F&&N)return b(),void 0;if(r.isEmpty(M))return v(),void 0}if("PRE"==H&&a.br_in_pre!==!1){if(!N)return b(),void 0}else if(!F&&!N&&"LI"!=H||F&&N)return b(),void 0;F&&M===e.getBody()||(F=F||"P",g()?(A=/^(H[1-6]|PRE|FIGURE)$/.test(H)&&"HGROUP"!=L?p(F):p(),a.end_container_on_empty_block&&c(D)&&r.isEmpty(M)?A=r.split(D,M):r.insertAfter(A,M),h(A)):g(!0)?(A=M.parentNode.insertBefore(p(),M),d(A)):(C=P.cloneRange(),C.setEndAfter(M),R=C.extractContents(),x(R),A=R.firstChild,r.insertAfter(R,M),f(A),w(M),h(A)),r.setAttrib(A,"id",""),s.add())}}var r=e.dom,o=e.selection,a=e.settings,s=e.undoManager,l=e.schema,u=l.getNonEmptyElements();e.on("keydown",function(t){13==t.keyCode&&i(t)!==!1&&t.preventDefault()})}}),i("tinymce/ForceBlocks",[],function(){return function(t){function e(){var e,s,l,u,c,d,f,h,p,g,m,v,y=r.getStart(),b=t.getBody(),x=-16777215;if(v=n.forced_root_block,y&&1===y.nodeType&&v){for(;y&&y!=b;){if(a[y.nodeName])return;y=y.parentNode}if(e=r.getRng(),e.setStart){s=e.startContainer,l=e.startOffset,u=e.endContainer,c=e.endOffset;try{p=t.getDoc().activeElement===b}catch(_){}}else e.item&&(y=e.item(0),e=t.getDoc().body.createTextRange(),e.moveToElementText(y)),p=e.parentElement().ownerDocument===t.getDoc(),g=e.duplicate(),g.collapse(!0),l=-1*g.move("character",x),g.collapsed||(g=e.duplicate(),g.collapse(!1),c=-1*g.move("character",x)-l);for(y=b.firstChild,m=b.nodeName.toLowerCase();y;)if((3===y.nodeType||1==y.nodeType&&!a[y.nodeName])&&o.isValidChild(m,v.toLowerCase())){if(3===y.nodeType&&0===y.nodeValue.length){f=y,y=y.nextSibling,i.remove(f);continue}d||(d=i.create(v),y.parentNode.insertBefore(d,y),h=!0),f=y,y=y.nextSibling,d.appendChild(f)}else d=null,y=y.nextSibling;if(h&&p){if(e.setStart)e.setStart(s,l),e.setEnd(u,c),r.setRng(e);else try{e=t.getDoc().body.createTextRange(),e.moveToElementText(b),e.collapse(!0),e.moveStart("character",l),c>0&&e.moveEnd("character",c),e.select()}catch(_){}t.nodeChanged()}}}var n=t.settings,i=t.dom,r=t.selection,o=t.schema,a=o.getBlockElements();n.forced_root_block&&t.on("KeyUp NodeChange",e)}}),i("tinymce/EditorCommands",["tinymce/html/Serializer","tinymce/Env","tinymce/util/Tools"],function(t,n,i){var r=i.each,o=i.extend,a=i.map,s=i.inArray,l=i.explode,u=n.gecko,c=n.ie,d=!0,f=!1;return function(n){function i(t,e,n){var i;return t=t.toLowerCase(),(i=k.exec[t])?(i(t,e,n),d):f}function h(t){var e;return t=t.toLowerCase(),(e=k.state[t])?e(t):-1}function p(t){var e;return t=t.toLowerCase(),(e=k.value[t])?e(t):f}function g(t,e){e=e||"exec",r(t,function(t,n){r(n.toLowerCase().split(","),function(n){k[e][n]=t})})}function m(t,i,r){return i===e&&(i=f),r===e&&(r=null),n.getDoc().execCommand(t,i,r)}function v(t){return S.match(t)}function y(t,i){S.toggle(t,i?{value:i}:e),n.nodeChanged()}function b(t){_=C.getBookmark(t)}function x(){C.moveToBookmark(_)}var _,w=n.dom,C=n.selection,k={state:{},exec:{},value:{}},E=n.settings,S=n.formatter;o(this,{execCommand:i,queryCommandState:h,queryCommandValue:p,addCommands:g}),g({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},"Cut,Copy,Paste":function(t){var e,i=n.getDoc();try{m(t)}catch(r){e=d}(e||!i.queryCommandSupported(t))&&n.windowManager.alert("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.")},unlink:function(t){C.isCollapsed()&&C.select(C.getNode()),m(t),C.collapse(f)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(t){var e=t.substring(7);"full"==e&&(e="justify"),r("left,center,right,justify".split(","),function(t){e!=t&&S.remove("align"+t)}),y("align"+e),i("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(t){var e,n;m(t),e=w.getParent(C.getNode(),"ol,ul"),e&&(n=e.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(b(),w.split(n,e),x()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){y(t)},"ForeColor,HiliteColor,FontName":function(t,e,n){y(t,n)},FontSize:function(t,e,n){var i,r;n>=1&&7>=n&&(r=l(E.font_size_style_values),i=l(E.font_size_classes),n=i?i[n-1]||n:r[n-1]||n),y(t,n)},RemoveFormat:function(t){S.remove(t)},mceBlockQuote:function(){y("blockquote")},FormatBlock:function(t,e,n){return y(n||"p")},mceCleanup:function(){var t=C.getBookmark();n.setContent(n.getContent({cleanup:d}),{cleanup:d}),C.moveToBookmark(t)},mceRemoveNode:function(t,e,i){var r=i||C.getNode();r!=n.getBody()&&(b(),n.dom.remove(r,d),x())},mceSelectNodeDepth:function(t,e,i){var r=0;w.getParent(C.getNode(),function(t){return 1==t.nodeType&&r++==i?(C.select(t),f):void 0},n.getBody())},mceSelectNode:function(t,e,n){C.select(n)},mceInsertContent:function(e,i,r){function o(t){function e(t){return i[t]&&3==i[t].nodeType}var n,i,r;return n=C.getRng(!0),i=n.startContainer,r=n.startOffset,3==i.nodeType&&(r>0?t=t.replace(/^&nbsp;/," "):e("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),r<i.length?t=t.replace(/&nbsp;(<br>|)$/," "):e("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t}var a,s,l,u,d,f,h,p,g,m,v,y,b,x;if(/^ | $/.test(r)&&(r=o(r)),a=n.parser,s=new t({},n.schema),b='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',f={content:r,format:"html",selection:!0},n.fire("BeforeSetContent",f),r=f.content,-1==r.indexOf("{$caret}")&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,b),C.isCollapsed()||n.getDoc().execCommand("Delete",!1,null),l=C.getNode(),f={context:l.nodeName.toLowerCase()},d=a.parse(r,f),v=d.lastChild,"mce_marker"==v.attr("id"))for(h=v,v=v.prev;v;v=v.walk(!0))if(3==v.type||!w.isBlock(v.name)){v.parent.insert(h,v,"br"===v.name);break}if(f.invalid){for(C.setContent(b),l=C.getNode(),u=n.getBody(),9==l.nodeType?l=v=u:v=l;v!==u;)l=v,v=v.parentNode;r=l==u?u.innerHTML:w.getOuterHTML(l),r=s.serialize(a.parse(r.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return s.serialize(d)}))),l==u?w.setHTML(u,r):w.setOuterHTML(l,r)}else r=s.serialize(d),v=l.firstChild,y=l.lastChild,!v||v===y&&"BR"===v.nodeName?w.setHTML(l,r):C.setContent(r);h=w.get("mce_marker"),p=w.getRect(h),g=w.getViewPort(n.getWin()),(p.y+p.h>g.y+g.h||p.y<g.y||p.x>g.x+g.w||p.x<g.x)&&(x=c?n.getDoc().documentElement:n.getBody(),x.scrollLeft=p.x,x.scrollTop=p.y-g.h+25),m=w.createRng(),v=h.previousSibling,v&&3==v.nodeType?(m.setStart(v,v.nodeValue.length),c||(y=h.nextSibling,y&&3==y.nodeType&&(v.appendData(y.data),y.parentNode.removeChild(y)))):(m.setStartBefore(h),m.setEndBefore(h)),w.remove(h),C.setRng(m),n.fire("SetContent",f),n.addVisual()},mceInsertRawHTML:function(t,e,i){C.setContent("tiny_mce_marker"),n.setContent(n.getContent().replace(/tiny_mce_marker/g,function(){return i}))},mceToggleFormat:function(t,e,n){y(n)},mceSetContent:function(t,e,i){n.setContent(i)},"Indent,Outdent":function(t){var e,n,i;e=E.indentation,n=/[a-z%]+$/i.exec(e),e=parseInt(e,10),h("InsertUnorderedList")||h("InsertOrderedList")?m(t):(E.forced_root_block||w.getParent(C.getNode(),w.isBlock)||S.apply("div"),r(C.getSelectedBlocks(),function(r){var o;"LI"!=r.nodeName&&(o="rtl"==w.getStyle(r,"direction",!0)?"paddingRight":"paddingLeft","outdent"==t?(i=Math.max(0,parseInt(r.style[o]||0,10)-e),w.setStyle(r,o,i?i+n:"")):(i=parseInt(r.style[o]||0,10)+e+n,w.setStyle(r,o,i)))}))},mceRepaint:function(){if(u)try{b(d),C.getSel()&&C.getSel().selectAllChildren(n.getBody()),C.collapse(d),x()}catch(t){}},InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(t,e,i){n.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,C.getContent({format:"text"})))},mceInsertLink:function(t,e,n){var i;"string"==typeof n&&(n={href:n}),i=w.getParent(C.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||S.remove("link"),n.href&&S.apply("link",n,i)
},selectAll:function(){var t=w.getRoot(),e=w.createRng();C.getRng().setStart?(e.setStart(t,0),e.setEnd(t,t.childNodes.length),C.setRng(e)):m("SelectAll")},mceNewDocument:function(){n.setContent("")}}),g({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(t){var e="align"+t.substring(7),n=C.isCollapsed()?[w.getParent(C.getNode(),w.isBlock)]:C.getSelectedBlocks(),i=a(n,function(t){return!!S.matchNode(t,e)});return-1!==s(i,d)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return v(t)},mceBlockQuote:function(){return v("blockquote")},Outdent:function(){var t;if(E.inline_styles){if((t=w.getParent(C.getStart(),w.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return d;if((t=w.getParent(C.getEnd(),w.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return d}return h("InsertUnorderedList")||h("InsertOrderedList")||!E.inline_styles&&!!w.getParent(C.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(t){var e=w.getParent(C.getNode(),"ul,ol");return e&&("insertunorderedlist"===t&&"UL"===e.tagName||"insertorderedlist"===t&&"OL"===e.tagName)}},"state"),g({"FontSize,FontName":function(t){var e,n=0;return(e=w.getParent(C.getNode(),"span"))&&(n="fontsize"==t?e.style.fontSize:e.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),g({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}}),i("tinymce/util/URI",["tinymce/util/Tools"],function(t){function e(t,r){var o,a,s=this;return t=i(t),r=s.settings=r||{},/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)?(s.source=t,void 0):(0===t.indexOf("/")&&0!==t.indexOf("//")&&(t=(r.base_uri?r.base_uri.protocol||"http":"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(a=r.base_uri?r.base_uri.path:new e(location.href).directory,t=(r.base_uri&&r.base_uri.protocol||"http")+"://mce_host"+s.toAbsPath(a,t)),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),n(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(e,n){var i=t[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),s[e]=i}),o=r.base_uri,o&&(s.protocol||(s.protocol=o.protocol),s.userInfo||(s.userInfo=o.userInfo),s.port||"mce_host"!==s.host||(s.port=o.port),s.host&&"mce_host"!==s.host||(s.host=o.host),s.source=""),void 0)}var n=t.each,i=t.trim;return e.prototype={setPath:function(t){var e=this;t=/^(.*?)\/?(\w+)?$/.exec(t),e.path=t[0],e.directory=t[1],e.file=t[2],e.source="",e.getURI()},toRelative:function(t){var n,i=this;if("./"===t)return t;if(t=new e(t,{base_uri:i}),"mce_host"!=t.host&&i.host!=t.host&&t.host||i.port!=t.port||i.protocol!=t.protocol)return t.getURI();var r=i.getURI(),o=t.getURI();return r==o||"/"==r.charAt(r.length-1)&&r.substr(0,r.length-1)==o?r:(n=i.toRelPath(i.path,t.path),t.query&&(n+="?"+t.query),t.anchor&&(n+="#"+t.anchor),n)},toAbsolute:function(t,n){return t=new e(t,{base_uri:this}),t.getURI(this.host==t.host&&this.protocol==t.protocol?n:0)},toRelPath:function(t,e){var n,i,r,o=0,a="";if(t=t.substring(0,t.lastIndexOf("/")),t=t.split("/"),n=e.split("/"),t.length>=n.length)for(i=0,r=t.length;r>i;i++)if(i>=n.length||t[i]!=n[i]){o=i+1;break}if(t.length<n.length)for(i=0,r=n.length;r>i;i++)if(i>=t.length||t[i]!=n[i]){o=i+1;break}if(1===o)return e;for(i=0,r=t.length-(o-1);r>i;i++)a+="../";for(i=o-1,r=n.length;r>i;i++)a+=i!=o-1?"/"+n[i]:n[i];return a},toAbsPath:function(t,e){var i,r,o,a=0,s=[];for(r=/\/$/.test(e)?"/":"",t=t.split("/"),e=e.split("/"),n(t,function(t){t&&s.push(t)}),t=s,i=e.length-1,s=[];i>=0;i--)0!==e[i].length&&"."!==e[i]&&(".."!==e[i]?a>0?a--:s.push(e[i]):a++);return i=t.length-a,o=0>=i?s.reverse().join("/"):t.slice(0,i).join("/")+"/"+s.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(t){var e,n=this;return(!n.source||t)&&(e="",t||(n.protocol&&(e+=n.protocol+"://"),n.userInfo&&(e+=n.userInfo+"@"),n.host&&(e+=n.host),n.port&&(e+=":"+n.port)),n.path&&(e+=n.path),n.query&&(e+="?"+n.query),n.anchor&&(e+="#"+n.anchor),n.source=e),n.source}},e}),i("tinymce/util/Class",["tinymce/util/Tools"],function(t){function e(){}var n,i,r=t.each,o=t.extend;return e.extend=n=function(t){function e(){var t,e,n,r;if(!i&&(r=this,r.init&&r.init.apply(r,arguments),e=r.Mixins))for(t=e.length;t--;)n=e[t],n.init&&n.init.apply(r,arguments)}function a(){return this}function s(t,e){return function(){var n,i=this,r=i._super;return i._super=f[t],n=e.apply(i,arguments),i._super=r,n}}var l,u,c,d=this,f=d.prototype;i=!0,l=new d,i=!1,t.Mixins&&(r(t.Mixins,function(e){e=e;for(var n in e)"init"!==n&&(t[n]=e[n])}),f.Mixins&&(t.Mixins=f.Mixins.concat(t.Mixins))),t.Methods&&r(t.Methods.split(","),function(e){t[e]=a}),t.Properties&&r(t.Properties.split(","),function(e){var n="_"+e;t[e]=function(t){var e,i=this;return t!==e?(i[n]=t,i):i[n]}}),t.Statics&&r(t.Statics,function(t,n){e[n]=t}),t.Defaults&&f.Defaults&&(t.Defaults=o({},f.Defaults,t.Defaults));for(u in t)c=t[u],l[u]="function"==typeof c&&f[u]?s(u,c):c;return e.prototype=l,e.constructor=e,e.extend=n,e},e}),i("tinymce/ui/Selector",["tinymce/util/Class","tinymce/util/Tools"],function(t,e){function n(t){for(var e,n=[],i=t.length;i--;)e=t[i],e.__checked||(n.push(e),e.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}var i,r=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,o=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,a=/^\s*|\s*$/g,s=t.extend({init:function(t){function e(t){return t?(t=t.toLowerCase(),function(e){return"*"===t||e.type===t}):void 0}function n(t){return t?function(e){return e._name===t}:void 0}function i(t){return t?(t=t.split("."),function(e){for(var n=t.length;n--;)if(!e.hasClass(t[n]))return!1;return!0}):void 0}function s(t,e,n){return t?function(i){var r=i[t]?i[t]():"";return e?"="===e?r===n:"*="===e?r.indexOf(n)>=0:"~="===e?(" "+r+" ").indexOf(" "+n+" ")>=0:"!="===e?r!=n:"^="===e?0===r.indexOf(n):"$="===e?r.substr(r.length-n.length)===n:!1:!!n}:void 0}function l(t){var e;return t?(t=/(?:not\((.+)\))|(.+)/i.exec(t),t[1]?(e=c(t[1],[]),function(t){return!d(t,e)}):(t=t[2],function(e,n,i){return"first"===t?0===n:"last"===t?n===i-1:"even"===t?0===n%2:"odd"===t?1===n%2:e[t]?e[t]():!1})):void 0}function u(t,o,u){function c(t){t&&o.push(t)}var d;return d=r.exec(t.replace(a,"")),c(e(d[1])),c(n(d[2])),c(i(d[3])),c(s(d[4],d[5],d[6])),c(l(d[7])),o.psuedo=!!d[7],o.direct=u,o}function c(t,e){var n,i,r,a=[];do if(o.exec(""),i=o.exec(t),i&&(t=i[3],a.push(i[1]),i[2])){n=i[3];break}while(i);for(n&&c(n,e),t=[],r=0;r<a.length;r++)">"!=a[r]&&t.push(u(a[r],[],">"===a[r-1]));return e.push(t),e}var d=this.match;this._selectors=c(t,[])},match:function(t,n){var i,r,o,a,s,l,u,c,d,f,h,p,g;for(n=n||this._selectors,i=0,r=n.length;r>i;i++){for(s=n[i],a=s.length,g=t,p=0,o=a-1;o>=0;o--)for(c=s[o];g;){for(c.psuedo&&(h=g.parent().items(),d=e.inArray(g,h),f=h.length),l=0,u=c.length;u>l;l++)if(!c[l](g,d,f)){l=u+1;break}if(l===u){p++;break}if(o===a-1)break;g=g.parent()}if(p===a)return!0}return!1},find:function(t){function e(t,n,i){var r,o,s,l,u,c=n[i];for(r=0,o=t.length;o>r;r++){for(u=t[r],s=0,l=c.length;l>s;s++)if(!c[s](u,r,o)){s=l+1;break}if(s===l)i==n.length-1?a.push(u):u.items&&e(u.items(),n,i+1);else if(c.direct)return;u.items&&e(u.items(),n,i)}}var r,o,a=[],l=this._selectors;if(t.items){for(r=0,o=l.length;o>r;r++)e(t.items(),l[r],0);o>1&&(a=n(a))}return i||(i=s.Collection),new i(a)}});return s}),i("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(t,e,n){var i,r,o=Array.prototype.push,a=Array.prototype.slice;return r={length:0,init:function(t){t&&this.add(t)},add:function(e){var n=this;return t.isArray(e)?o.apply(n,e):e instanceof i?n.add(e.toArray()):o.call(n,e),n},set:function(t){var e,n=this,i=n.length;for(n.length=0,n.add(t),e=n.length;i>e;e++)delete n[e];return n},filter:function(t){var n,r,o,a,s=this,l=[];for("string"==typeof t?(t=new e(t),a=function(e){return t.match(e)}):a=t,n=0,r=s.length;r>n;n++)o=s[n],a(o)&&l.push(o);return new i(l)},slice:function(){return new i(a.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},each:function(e){return t.each(this,e),this},toArray:function(){return t.toArray(this)},indexOf:function(t){for(var e=this,n=e.length;n--&&e[n]!==t;);return n},reverse:function(){return new i(t.toArray(this).reverse())},hasClass:function(t){return this[0]?this[0].hasClass(t):!1},prop:function(t,e){var n,i,r=this;return e!==n?(r.each(function(n){n[t]&&n[t](e)}),r):(i=r[0],i&&i[t]?i[t]():void 0)},exec:function(e){var n=this,i=t.toArray(arguments).slice(1);return n.each(function(t){t[e]&&t[e].apply(t,i)}),n}},t.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(e){r[e]=function(){var n=t.toArray(arguments);return this.each(function(t){e in t&&t[e].apply(t,n)}),this}}),t.each("text name disabled active selected checked visible parent value data".split(" "),function(t){r[t]=function(e){return this.prop(t,e)}}),i=n.extend(r),e.Collection=i,i}),i("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(t,e){return{id:function(){return e.DOM.uniqueId()},createFragment:function(t){return e.DOM.createFragment(t)},getWindowSize:function(){return e.DOM.getViewPort()},getSize:function(t){return e.DOM.getSize(t)},getPos:function(t,n){return e.DOM.getPos(t,n)},getViewPort:function(t){return e.DOM.getViewPort(t)},get:function(t){return document.getElementById(t)},addClass:function(t,n){return e.DOM.addClass(t,n)},removeClass:function(t,n){return e.DOM.removeClass(t,n)},hasClass:function(t,n){return e.DOM.hasClass(t,n)},toggleClass:function(t,n,i){return e.DOM.toggleClass(t,n,i)},css:function(t,n,i){return e.DOM.setStyle(t,n,i)},on:function(t,n,i,r){return e.DOM.bind(t,n,i,r)},off:function(t,n,i){return e.DOM.unbind(t,n,i)},fire:function(t,n,i){return e.DOM.fire(t,n,i)}}}),i("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/ui/Collection","tinymce/ui/DomUtils"],function(t,e,n,i){var r=e.makeMap("focusin focusout scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave wheel keydown keypress keyup contextmenu"," "),o={},a="onmousewheel"in document,s=!1,l=t.extend({Statics:{controlIdLookup:{}},classPrefix:"mce-",init:function(t){var n,r,o=this;if(o.settings=t=e.extend({},o.Defaults,t),o._id=i.id(),o._text=o._name="",o._width=o._height=0,o._aria={role:t.role},n=t.classes)for(n=n.split(" "),n.map={},r=n.length;r--;)n.map[n[r]]=!0;o._classes=n||[],o.visible(!0),e.each("title text width height name classes visible disabled active value".split(" "),function(e){var n,i=t[e];i!==n?o[e](i):o["_"+e]===n&&(o["_"+e]=!1)}),o.on("click",function(){return o.disabled()?!1:void 0}),t.classes&&e.each(t.classes.split(" "),function(t){o.addClass(t)}),o.settings=t,o._borderBox=o.parseBox(t.border),o._paddingBox=o.parseBox(t.padding),o._marginBox=o.parseBox(t.margin),t.hidden&&o.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(t){for(var e;t&&!(e=l.controlIdLookup[t.id]);)t=t.parentNode;return e},parseBox:function(t){var e,n=10;if(t)return"number"==typeof t?(t=t||0,{top:t,left:t,bottom:t,right:t}):(t=t.split(" "),e=t.length,1===e?t[1]=t[2]=t[3]=t[0]:2===e?(t[2]=t[0],t[3]=t[1]):3===e&&(t[3]=t[1]),{top:parseInt(t[0],n)||0,right:parseInt(t[1],n)||0,bottom:parseInt(t[2],n)||0,left:parseInt(t[3],n)||0})},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(t,e){function n(e){var n=document.defaultView;return n?(e=e.replace(/[A-Z]/g,function(t){return"-"+t}),n.getComputedStyle(t,null).getPropertyValue(e)):t.currentStyle[e]}function i(t){var e=parseInt(n(t),10);return isNaN(e)?0:e}return{top:i(e+"TopWidth"),right:i(e+"RightWidth"),bottom:i(e+"BottomWidth"),left:i(e+"LeftWidth")}},initLayoutRect:function(){var t,e,n,i,r,o,a,s,l,u=this,c=u.settings,d=u.getEl();t=u._borderBox=u._borderBox||u.measureBox(d,"border"),u._paddingBox=u._paddingBox||u.measureBox(d,"padding"),u._marginBox=u._marginBox||u.measureBox(d,"margin"),s=c.minWidth,l=c.minHeight,r=s||d.offsetWidth,o=l||d.offsetHeight,n=c.width,i=c.height,a=c.autoResize,a="undefined"!=typeof a?a:!n&&!i,n=n||r,i=i||o;var f=t.left+t.right,h=t.top+t.bottom,p=c.maxWidth||65535,g=c.maxHeight||65535;return u._layoutRect=e={x:c.x||0,y:c.y||0,w:n,h:i,deltaW:f,deltaH:h,contentW:n-f,contentH:i-h,innerW:n-f,innerH:i-h,startMinWidth:s||0,startMinHeight:l||0,minW:Math.min(r,p),minH:Math.min(o,g),maxW:p,maxH:g,autoResize:a,scrollW:0},u._lastLayoutRect={},e},layoutRect:function(t){var e,n,i,r,o,a,s=this,u=s._layoutRect;return u||(u=s.initLayoutRect()),t?(i=u.deltaW,r=u.deltaH,t.x!==o&&(u.x=t.x),t.y!==o&&(u.y=t.y),t.minW!==o&&(u.minW=t.minW),t.minH!==o&&(u.minH=t.minH),n=t.w,n!==o&&(n=n<u.minW?u.minW:n,n=n>u.maxW?u.maxW:n,u.w=n,u.innerW=n-i),n=t.h,n!==o&&(n=n<u.minH?u.minH:n,n=n>u.maxH?u.maxH:n,u.h=n,u.innerH=n-r),n=t.innerW,n!==o&&(n=n<u.minW-i?u.minW-i:n,n=n>u.maxW-i?u.maxW-i:n,u.innerW=n,u.w=n+i),n=t.innerH,n!==o&&(n=n<u.minH-r?u.minH-r:n,n=n>u.maxH-r?u.maxH-r:n,u.innerH=n,u.h=n+r),t.contentW!==o&&(u.contentW=t.contentW),t.contentH!==o&&(u.contentH=t.contentH),e=s._lastLayoutRect,(e.x!==u.x||e.y!==u.y||e.w!==u.w||e.h!==u.h)&&(a=l.repaintControls,a&&a.map&&!a.map[s._id]&&(a.push(s),a.map[s._id]=!0),e.x=u.x,e.y=u.y,e.w=u.w,e.h=u.h),s):u},repaint:function(){var t,e,n,i,r,o=this,a=0,s=0;t=o.getEl().style,n=o._layoutRect,r=o._lastRepaintRect||{},i=o._borderBox,a=i.left+i.right,s=i.top+i.bottom,n.x!==r.x&&(t.left=n.x+"px",r.x=n.x),n.y!==r.y&&(t.top=n.y+"px",r.y=n.y),n.w!==r.w&&(t.width=n.w-a+"px",r.w=n.w),n.h!==r.h&&(t.height=n.h-s+"px",r.h=n.h),o._hasBody&&n.innerW!==r.innerW&&(e=o.getEl("body").style,e.width=n.innerW+"px",r.innerW=n.innerW),o._hasBody&&n.innerH!==r.innerH&&(e=e||o.getEl("body").style,e.height=n.innerH+"px",r.innerH=n.innerH),o._lastRepaintRect=r,o.fire("repaint",{},!1)},on:function(t,e){function n(t){var e,n;return function(i){return e||l.parents().each(function(i){var r=i.settings.callbacks;return r&&(e=r[t])?(n=i,!1):void 0}),e.call(n,i)}}var i,o,a,s,l=this;if(e)for("string"==typeof e&&(e=n(e)),a=t.toLowerCase().split(" "),s=a.length;s--;)t=a[s],i=l._bindings,i||(i=l._bindings={}),o=i[t],o||(o=i[t]=[]),o.push(e),r[t]&&(l._nativeEvents?l._nativeEvents[t]=!0:l._nativeEvents={name:!0},l._rendered&&l.bindPendingEvents());return l},off:function(t,e){var n,i,r,o,a,s=this,l=s._bindings;if(l)if(t)for(o=t.toLowerCase().split(" "),n=o.length;n--;){if(t=o[n],i=l[t],!t){for(r in l)l[r].length=0;return s}if(i)if(e)for(a=i.length;a--;)i[a]===e&&i.splice(a,1);else i.length=0}else s._bindings=[];return s},fire:function(t,e,n){function i(){return!1}function r(){return!0}var o,a,s,l,u=this;if(t=t.toLowerCase(),e=e||{},e.type||(e.type=t),e.control||(e.control=u),e.preventDefault||(e.preventDefault=function(){e.isDefaultPrevented=r},e.stopPropagation=function(){e.isPropagationStopped=r},e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=r},e.isDefaultPrevented=i,e.isPropagationStopped=i,e.isImmediatePropagationStopped=i),u._bindings&&(s=u._bindings[t]))for(o=0,a=s.length;a>o&&(e.isImmediatePropagationStopped()||s[o].call(u,e)!==!1);o++);if(n!==!1)for(l=u.parent();l&&!e.isPropagationStopped();)l.fire(t,e,!1),l=l.parent();return e},parents:function(t){var e=this,i=new n;for(e=e.parent();e;e=e.parent())i.add(e);return t&&(i=i.filter(t)),i},next:function(){var t=this.parent().items();return t[t.indexOf(this)+1]},prev:function(){var t=this.parent().items();return t[t.indexOf(this)-1]},findCommonAncestor:function(t,e){for(var n;t;){for(n=e;n&&t!=n;)n=n.parent();if(t==n)break;t=t.parent()}return t},hasClass:function(t,e){var n=this._classes[e||"control"];return t=this.classPrefix+t,n&&!!n.map[t]},addClass:function(t,e){var n,i,r=this;return t=this.classPrefix+t,n=r._classes[e||"control"],n||(n=[],n.map={},r._classes[e||"control"]=n),n.map[t]||(n.map[t]=t,n.push(t),r._rendered&&(i=r.getEl(e),i&&(i.className=n.join(" ")))),r},removeClass:function(t,e){var n,i,r,o=this;if(t=this.classPrefix+t,n=o._classes[e||"control"],n&&n.map[t])for(delete n.map[t],i=n.length;i--;)n[i]===t&&n.splice(i,1);return o._rendered&&(r=o.getEl(e),r&&(r.className=n.join(" "))),o},toggleClass:function(t,e,n){var i=this;return e?i.addClass(t,n):i.removeClass(t,n),i},classes:function(t){var e=this._classes[t||"control"];return e?e.join(" "):""},getEl:function(t,e){var n,r=t?this._id+"-"+t:this._id;return n=o[r]=(e===!0?null:o[r])||i.get(r)},visible:function(t){var e,n=this;return"undefined"!=typeof t?(n._visible!==t&&(n._rendered&&(n.getEl().style.display=t?"":"none"),n._visible=t,e=n.parent(),e&&(e._lastRect=null),n.fire(t?"show":"hide")),n):n._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(t){}return this},blur:function(){return this.getEl().blur(),this},aria:function(t,e){var n=this,i=n.getEl();return"undefined"==typeof e?n._aria[t]:(n._aria[t]=e,n._rendered&&("label"==t&&i.setAttribute("aria-labeledby",n._id),i.setAttribute("role"==t?t:"aria-"+t,e)),n)},encode:function(t,e){return e!==!1&&l.translate&&(t=l.translate(t)),(t||"").replace(/[&<>"]/g,function(t){return"&#"+t.charCodeAt(0)+";"})},before:function(t){var e=this,n=e.parent();return n&&n.insert(t,n.items().indexOf(e),!0),e},after:function(t){var e=this,n=e.parent();return n&&n.insert(t,n.items().indexOf(e)),e},remove:function(){var t,e=this,n=e.getEl(),r=e.parent();if(e.items)for(var o=e.items().toArray(),a=o.length;a--;)o[a].remove();return r&&r.items&&(t=[],r.items().each(function(n){n!==e&&t.push(n)}),r.items().set(t),r._lastRect=null),e._eventsRoot&&e._eventsRoot==e&&i.off(n),delete l.controlIdLookup[e._id],n.parentNode&&n.parentNode.removeChild(n),e},renderBefore:function(t){var e=this;return t.parentNode.insertBefore(i.createFragment(e.renderHtml()),t),e.postRender(),e},renderTo:function(t){var e=this;return t=t||e.getContainerElm(),t.appendChild(i.createFragment(e.renderHtml())),e.postRender(),e},postRender:function(){var t,e,n,r,o,a=this,s=a.settings;for(r in s)0===r.indexOf("on")&&a.on(r.substr(2),s[r]);if(a._eventsRoot){for(n=a.parent();!o&&n;n=n.parent())o=n._eventsRoot;if(o)for(r in o._nativeEvents)a._nativeEvents[r]=!0}a.bindPendingEvents(),s.style&&(t=a.getEl(),t&&(t.setAttribute("style",s.style),t.style.cssText=s.style)),a._visible||i.css(a.getEl(),"display","none"),a.settings.border&&(e=a.borderBox(),i.css(a.getEl(),{"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),l.controlIdLookup[a._id]=a;for(var u in a._aria)a.aria(u,a._aria[u]);a.fire("postrender",{},!1)},scrollIntoView:function(t){function e(t,e){var n,i,r=t;for(n=i=0;r&&r!=e&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}var n,i,r,o,a,s,l=this.getEl(),u=l.parentNode,c=e(l,u);return n=c.x,i=c.y,r=l.offsetWidth,o=l.offsetHeight,a=u.clientWidth,s=u.clientHeight,"end"==t?(n-=a-r,i-=s-o):"center"==t&&(n-=a/2-r/2,i-=s/2-o/2),u.scrollLeft=n,u.scrollTop=i,this},bindPendingEvents:function(){function t(t){var e=h.getParentCtrl(t.target);e&&e.fire(t.type,t)}function e(){var t=c._lastHoverCtrl;t&&(t.fire("mouseleave",{target:t.getEl()}),t.parents().each(function(t){t.fire("mouseleave",{target:t.getEl()})}),c._lastHoverCtrl=null)}function n(t){var e,n,i,r=h.getParentCtrl(t.target),o=c._lastHoverCtrl,a=0;if(r!==o){if(c._lastHoverCtrl=r,n=r.parents().toArray().reverse(),n.push(r),o){for(i=o.parents().toArray().reverse(),i.push(o),a=0;a<i.length&&n[a]===i[a];a++);for(e=i.length-1;e>=a;e--)o=i[e],o.fire("mouseleave",{target:o.getEl()})}for(e=a;e<n.length;e++)r=n[e],r.fire("mouseenter",{target:r.getEl()})}}function r(t){t.preventDefault(),"mousewheel"==t.type?(t.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-1/40*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=h.fire("wheel",t)}var o,l,u,c,d,f,h=this;if(h._rendered=!0,d=h._nativeEvents){for(u=h.parents().toArray(),u.unshift(h),o=0,l=u.length;!c&&l>o;o++)c=u[o]._eventsRoot;for(c||(c=u[u.length-1]||h),h._eventsRoot=c,l=o,o=0;l>o;o++)u[o]._eventsRoot=c;for(f in d){if(!d)return!1;"wheel"!==f||s?("mouseenter"===f||"mouseleave"===f?c._hasMouseEnter||(i.on(c.getEl(),"mouseleave",e),i.on(c.getEl(),"mouseover",n),c._hasMouseEnter=1):c[f]||(i.on(c.getEl(),f,t),c[f]=!0),d[f]=!1):a?i.on(h.getEl(),"mousewheel",r):i.on(h.getEl(),"DOMMouseScroll",r)}}},reflow:function(){return this.repaint(),this}});return l}),i("tinymce/ui/Factory",[],function(){var t,e={};return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},create:function(n,i){var r,o,a;if(!t){a=tinymce.ui;for(o in a)e[o.toLowerCase()]=a[o];t=!0}if("string"==typeof n?(i=i||{},i.type=n):(i=n,n=i.type),n=n.toLowerCase(),r=e[n],!r)throw new Error("Could not find control by type: "+n);return r=new r(i),r.type=n,r}}}),i("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/util/Tools","tinymce/ui/DomUtils"],function(t,e,n,i,r,o){var a={};return t.extend({layout:"",innerClass:"container-inner",init:function(t){var n=this;n._super(t),t=n.settings,n._fixed=t.fixed,n._items=new e,n.addClass("container"),n.addClass("container-body","body"),t.containerCls&&n.addClass(t.containerCls),n._layout=i.create((t.layout||n.layout)+"layout"),n.settings.items&&n.add(n.settings.items),n._hasBody=!0},items:function(){return this._items},find:function(t){return t=a[t]=a[t]||new n(t),t.find(this)},add:function(t){var e=this;return e.items().add(e.create(t)).parent(e),e},focus:function(){var t=this;return t.keyNav?t.keyNav.focusFirst():t._super(),t},replace:function(t,e){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===t){i[r]=e;break}r>=0&&(n=e.getEl(),n&&n.parentNode.removeChild(n),n=t.getEl(),n&&n.parentNode.removeChild(n)),e.parent(this)},create:function(e){var n,o=this,a=[];return r.isArray(e)||(e=[e]),r.each(e,function(e){e&&(e instanceof t||("string"==typeof e&&(e={type:e}),n=r.extend({},o.settings.defaults,e),e.type=n.type=n.type||e.type||o.settings.defaultType||(n.defaults?n.defaults.type:null),e=i.create(n)),a.push(e))}),a},renderNew:function(){var t=this;return t.items().each(function(e,n){var i,r;e.parent(t),e._rendered||(i=t.getEl("body"),r=o.createFragment(e.renderHtml()),i.hasChildNodes()&&n<=i.childNodes.length-1?i.insertBefore(r,i.childNodes[n]):i.appendChild(r),e.postRender())}),t._layout.applyClasses(t),t._lastRect=null,t},append:function(t){return this.add(t).renderNew()},prepend:function(t){var e=this;return e.items().set(e.create(t).concat(e.items().toArray())),e.renderNew()},insert:function(t,e,n){var i,r,o,a=this;return t=a.create(t),i=a.items(),!n&&e<i.length-1&&(e+=1),e>=0&&e<i.length&&(r=i.slice(0,e).toArray(),o=i.slice(e).toArray(),i.set(r.concat(t,o))),a.renderNew()},fromJSON:function(t){var e=this;for(var n in t)e.find("#"+n).value(t[n]);return e},toJSON:function(){var t=this,e={};return t.find("*").each(function(t){var n=t.name(),i=t.value();n&&"undefined"!=typeof i&&(e[n]=i)}),e},preRender:function(){},renderHtml:function(){var t=this,e=t._layout;return t.preRender(),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes()+'" role="'+this.settings.role+'">'+'<div id="'+t._id+'-body" class="'+t.classes("body")+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div>"+"</div>"},postRender:function(){var t,e=this;return e.items().exec("postRender"),e._super(),e._layout.postRender(e),e._rendered=!0,e.settings.style&&o.css(e.getEl(),e.settings.style),e.settings.border&&(t=e.borderBox(),o.css(e.getEl(),{"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})),e},initLayoutRect:function(){var t=this,e=t._super();return t._layout.recalc(t),e},recalc:function(){var t=this,e=t._layoutRect,n=t._lastRect;return n&&n.w==e.w&&n.h==e.h?void 0:(t._layout.recalc(t),e=t.layoutRect(),t._lastRect={x:e.x,y:e.y,w:e.w,h:e.h},!0)},reflow:function(){var e,n;if(this.visible()){for(t.repaintControls=[],t.repaintControls.map={},n=this.recalc(),e=t.repaintControls.length;e--;)t.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),t.repaintControls=[]}return this}})}),i("tinymce/ui/DragHelper",["tinymce/ui/DomUtils"],function(t){function e(){var t,e,n,i,r,o,a,s,l=document,u=Math.max;return t=l.documentElement,e=l.body,n=u(t.scrollWidth,e.scrollWidth),i=u(t.clientWidth,e.clientWidth),r=u(t.offsetWidth,e.offsetWidth),o=u(t.scrollHeight,e.scrollHeight),a=u(t.clientHeight,e.clientHeight),s=u(t.offsetHeight,e.offsetHeight),{width:r>n?i:n,height:s>o?a:o}}return function(n,i){function r(){return f.getElementById(i.handle||n)}var o,a,s,l,u,c,d,f=document;i=i||{},s=function(n){var s,h,p=e();n.preventDefault(),a=n.button,s=r(),c=n.screenX,d=n.screenY,h=window.getComputedStyle?window.getComputedStyle(s,null).getPropertyValue("cursor"):s.runtimeStyle.cursor,o=f.createElement("div"),t.css(o,{position:"absolute",top:0,left:0,width:p.width,height:p.height,zIndex:2147483647,opacity:1e-4,background:"red",cursor:h}),f.body.appendChild(o),t.on(f,"mousemove",u),t.on(f,"mouseup",l),i.start(n)},u=function(t){return t.button!==a?l(t):(t.deltaX=t.screenX-c,t.deltaY=t.screenY-d,t.preventDefault(),i.drag(t),void 0)},l=function(e){t.off(f,"mousemove",u),t.off(f,"mouseup",l),o.parentNode.removeChild(o),i.stop&&i.stop(e)},this.destroy=function(){t.off(r())},t.on(r(),"mousedown",s)}}),i("tinymce/ui/Scrollable",["tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(t,e){return{init:function(){var t=this;t.on("repaint",t.renderScroll)},renderScroll:function(){function n(){function e(e,a,s,l,u,c){var d,f,h,p,g,m,v,y,b;if(f=r.getEl("scroll"+e)){if(y=a.toLowerCase(),b=s.toLowerCase(),r.getEl("absend")&&t.css(r.getEl("absend"),y,r.layoutRect()[l]-1),!u)return t.css(f,"display","none"),void 0;t.css(f,"display","block"),d=r.getEl("body"),h=r.getEl("scroll"+e+"t"),p=d["client"+s]-2*o,p-=n&&i?f["client"+c]:0,g=d["scroll"+s],m=p/g,v={},v[y]=d["offset"+a]+o,v[b]=p,t.css(f,v),v={},v[y]=d["scroll"+a]*m,v[b]=p*m,t.css(h,v)}}var n,i,a;a=r.getEl("body"),n=a.scrollWidth>a.clientWidth,i=a.scrollHeight>a.clientHeight,e("h","Left","Width","contentW",n,"Height"),e("v","Top","Height","contentH",i,"Width")}function i(){function n(n,i,a,s,l){var u,c=r._id+"-scroll"+n,d=r.classPrefix;r.getEl().appendChild(t.createFragment('<div id="'+c+'" class="'+d+"scrollbar "+d+"scrollbar-"+n+'">'+'<div id="'+c+'t" class="'+d+'scrollbar-thumb"></div>'+"</div>")),r.draghelper=new e(c+"t",{start:function(){u=r.getEl("body")["scroll"+i],t.addClass(t.get(c),d+"active")},drag:function(t){var e,c,d,f,h=r.layoutRect();c=h.contentW>h.innerW,d=h.contentH>h.innerH,f=r.getEl("body")["client"+a]-2*o,f-=c&&d?r.getEl("scroll"+n)["client"+l]:0,e=f/r.getEl("body")["scroll"+a],r.getEl("body")["scroll"+i]=u+t["delta"+s]/e},stop:function(){t.removeClass(t.get(c),d+"active")}})}r.addClass("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}var r=this,o=2;r.settings.autoScroll&&(r._hasScroll||(r._hasScroll=!0,i(),r.on("wheel",function(t){var e=r.getEl("body");e.scrollLeft+=10*(t.deltaX||0),e.scrollTop+=10*t.deltaY,n()}),t.on(r.getEl("body"),"scroll",n)),n())}}}),i("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(t,e){return t.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[e],renderHtml:function(){var t=this,e=t._layout,n=t.settings.html;return t.preRender(),e.preRender(t),"undefined"==typeof n?n='<div id="'+t._id+'-body" class="'+t.classes("body")+'">'+e.renderHtml(t)+"</div>":("function"==typeof n&&(n=n.call(t)),t._hasBody=!1),'<div id="'+t._id+'" class="'+t.classes()+'" hideFocus="1" tabIndex="-1">'+(t._preBodyHtml||"")+n+"</div>"}})}),i("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(t){function e(e,n,i){var r,o,a,s,l,u,c,d,f;return f=t.getViewPort(),o=t.getPos(n),a=o.x,s=o.y,e._fixed&&(a-=f.x,s-=f.y),r=e.getEl(),l=r.offsetWidth,u=r.offsetHeight,c=n.offsetWidth,d=n.offsetHeight,i=(i||"").split(""),"b"===i[0]&&(s+=d),"r"===i[1]&&(a+=c),"c"===i[0]&&(s+=Math.round(d/2)),"c"===i[1]&&(a+=Math.round(c/2)),"b"===i[3]&&(s-=u),"r"===i[4]&&(a-=l),"c"===i[3]&&(s-=Math.round(u/2)),"c"===i[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:u}}return{testMoveRel:function(n,i){for(var r=t.getViewPort(),o=0;o<i.length;o++){var a=e(this,n,i[o]);if(this._fixed){if(a.x>0&&a.x+a.w<r.w&&a.y>0&&a.y+a.h<r.h)return i[o]}else if(a.x>r.x&&a.x+a.w<r.w+r.x&&a.y>r.y&&a.y+a.h<r.h+r.y)return i[o]}return i[0]},moveRel:function(t,n){"string"!=typeof n&&(n=this.testMoveRel(t,n));var i=e(this,t,n);return this.moveTo(i.x,i.y)},moveBy:function(t,e){var n=this,i=n.layoutRect();return n.moveTo(i.x+t,i.y+e),n},moveTo:function(e,n){function i(t,e,n){return 0>t?0:t+n>e?(t=e-n,0>t?0:t):t}var r=this;if(r.settings.constrainToViewport){var o=t.getViewPort(window),a=r.layoutRect();e=i(e,o.w+o.x,a.w),n=i(n,o.h+o.y,a.h)}return r._rendered?r.layoutRect({x:e,y:n}).repaint():(r.settings.x=e,r.settings.y=n),r.fire("move",{x:e,y:n}),r}}}),i("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(t){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,n){if(1>=e||1>=n){var i=t.getWindowSize();e=1>=e?e*i.w:e,n=1>=n?n*i.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:n,w:e,h:n}).reflow()},resizeBy:function(t,e){var n=this,i=n.layoutRect();return n.resizeTo(i.w+t,i.h+e)}}}),i("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils"],function(t,e,n,i){function r(t){var e;for(e=l.length;e--;)l[e]===t&&l.splice(e,1)}var o,a,s,l=[],u=[],c=t.extend({Mixins:[e,n],init:function(t){function e(){var t,e,n=c.zIndex||65535;if(u.length)for(t=0;t<u.length;t++)u[t].modal&&(n++,e=u[t]),u[t].getEl().style.zIndex=n,u[t].zIndex=n,n++;var r=document.getElementById(d.classPrefix+"modal-block");e?i.css(r,"z-index",e.zIndex-1):r&&(r.parentNode.removeChild(r),s=!1),c.currentZIndex=n}function n(t,e){for(;t;){if(t==e)return!0;t=t.parent()}}function r(t){function e(e,n){for(var i,r=0;r<l.length;r++)if(l[r]!=t)for(i=l[r].parent();i&&(i=i.parent());)i==t&&l[r].fixed(e).moveBy(0,n).repaint()}var n=i.getViewPort().y;t.settings.autofix&&(t._fixed?t._autoFixY>n&&(t.fixed(!1).layoutRect({y:t._autoFixY}).repaint(),e(!1,t._autoFixY-n)):(t._autoFixY=t.layoutRect().y,t._autoFixY<n&&(t.fixed(!0).layoutRect({y:0}).repaint(),e(!0,n-t._autoFixY))))}var d=this;d._super(t),d._eventsRoot=d,d.addClass("floatpanel"),t.autohide&&(o||(o=function(t){var e,i=d.getParentCtrl(t.target);for(e=l.length;e--;){var r=l[e];if(r.settings.autohide){if(i&&(n(i,r)||r.parent()===i))continue;t=r.fire("autohide",{target:t.target}),t.isDefaultPrevented()||r.hide()}}},i.on(document,"click",o)),l.push(d)),t.autofix&&(a||(a=function(){var t;for(t=l.length;t--;)r(l[t])},i.on(window,"scroll",a)),d.on("move",function(){r(this)})),d.on("postrender show",function(t){if(t.control==d){var n,r=d.classPrefix;d.modal&&!s&&(n=i.createFragment('<div id="'+r+'modal-block" class="'+r+"reset "+r+'fade"></div>'),n=n.firstChild,d.getContainerElm().appendChild(n),setTimeout(function(){i.addClass(n,r+"in"),i.addClass(d.getEl(),r+"in")},0),s=!0),u.push(d),e()}}),d.on("close hide",function(t){if(t.control==d){for(var n=u.length;n--;)u[n]===d&&u.splice(n,1);e()}}),d.on("show",function(){d.parents().each(function(t){return t._fixed?(d.fixed(!0),!1):void 0})}),t.popover&&(d._preBodyHtml='<div class="'+d.classPrefix+'arrow"></div>',d.addClass("popover").addClass("bottom").addClass("start"))},fixed:function(t){var e=this;if(e._fixed!=t){if(e._rendered){var n=i.getViewPort();t?e.layoutRect().y-=n.y:e.layoutRect().y+=n.y}e.toggleClass("fixed",t),e._fixed=t}return e},show:function(){var t,e=this,n=e._super();for(t=l.length;t--&&l[t]!==e;);return-1===t&&l.push(e),n},hide:function(){return r(this),this._super()},hideAll:function(){c.hideAll()},close:function(){var t=this;return t.fire("close"),t.remove()},remove:function(){r(this),this._super()}});return c.hideAll=function(){for(var t=l.length;t--;){var e=l[t];e.settings.autohide&&(e.fire("cancel",{},!1),e.hide(),l.splice(t,1))}},c}),i("tinymce/ui/KeyboardNavigation",["tinymce/ui/DomUtils"],function(t){return function(e){function n(){if(!g)if(g=[],f.find)f.find("*").each(function(t){t.canFocus&&g.push(t.getEl())
});else for(var t=f.getEl().getElementsByTagName("*"),e=0;e<t.length;e++)t[e].id&&t[e]&&g.push(t[e])}function i(){return document.getElementById(d)}function r(t){return t=t||i(),t&&t.getAttribute("role")}function o(t){for(var e,n=t||i();n=n.parentNode;)if(e=r(n))return e}function a(t){var e=document.getElementById(d);return e?e.getAttribute("aria-"+t):void 0}function s(){var n=i();if(!n||"TEXTAREA"!=n.nodeName&&"text"!=n.type)return e.onAction?e.onAction(d):t.fire(i(),"click",{keyboard:!0}),!0}function l(){var t;e.onCancel?((t=i())&&t.blur(),e.onCancel()):e.root.fire("cancel")}function u(t){function i(t){for(var e=f?f.getEl():document.body;t&&t!=e;){if("none"==t.style.display)return!1;t=t.parentNode}return!0}var r,o,a=-1,l=[];for(n(),o=l.length,o=0;o<g.length;o++)i(g[o])&&l.push(g[o]);for(o=l.length;o--;)if(l[o].id===d){a=o;break}a+=t,0>a?a=l.length-1:a>=l.length&&(a=0),r=l[a],r.focus(),d=r.id,e.actOnFocus&&s()}function c(){var t,i;for(i=r(e.root.getEl()),n(),t=g.length;t--;)if("toolbar"==i&&g[t].id===d)return g[t].focus(),void 0;g[0].focus()}var d,f=e.root,h=e.enableUpDown!==!1,p=e.enableLeftRight!==!1,g=e.items;return f.on("keydown",function(t){var n,i=37,c=39,d=38,f=40,g=27,m=14,v=13,y=32,b=9;switch(t.keyCode){case i:p&&(e.leftAction?e.leftAction():u(-1),n=!0);break;case c:p&&("menuitem"==r()&&"menu"==o()?a("haspopup")&&s():u(1),n=!0);break;case d:h&&(u(-1),n=!0);break;case f:h&&("menuitem"==r()&&"menubar"==o()?s():"button"==r()&&a("haspopup")?s():u(1),n=!0);break;case b:n=!0,t.shiftKey?u(-1):u(1);break;case g:n=!0,l();break;case m:case v:case y:n=s()}n&&(t.stopPropagation(),t.preventDefault())}),f.on("focusin",function(t){n(),d=t.target.id}),{moveFocus:u,focusFirst:c,cancel:l}}}),i("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/ui/KeyboardNavigation","tinymce/ui/DragHelper"],function(t,e,n,i,r){var o=t.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(t){var n=this;n._super(t),n.addClass("window"),n._fixed=!0,t.buttons&&(n.statusbar=new e({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:"end",defaults:{type:"button"},items:t.buttons}),n.statusbar.addClass("foot"),n.statusbar.parent(n)),n.on("click",function(t){-1!=t.target.className.indexOf(n.classPrefix+"close")&&n.close()}),n.aria("label",t.title),n._fullscreen=!1},recalc:function(){var t,e,i,r=this,o=r.statusbar;r._fullscreen&&(r.layoutRect(n.getWindowSize()),r.layoutRect().contentH=r.layoutRect().innerH),r._super(),t=r.layoutRect(),r.settings.title&&!r._fullscreen&&(e=t.headerW,e>t.w&&(r.layoutRect({w:e}),i=!0)),o&&(o.layoutRect({w:r.layoutRect().innerW}).recalc(),e=o.layoutRect().minW+t.deltaW,e>t.w&&(r.layoutRect({w:e}),i=!0)),i&&r.recalc()},initLayoutRect:function(){var t,e=this,i=e._super(),r=0;e.settings.title&&!e._fullscreen&&(t=e.getEl("head"),i.headerW=t.offsetWidth,i.headerH=t.offsetHeight,r+=i.headerH),e.statusbar&&(r+=e.statusbar.layoutRect().h),i.deltaH+=r,i.minH+=r,i.h+=r;var o=n.getWindowSize();return i.x=Math.max(0,o.w/2-i.w/2),i.y=Math.max(0,o.h/2-i.h/2),i},renderHtml:function(){var t=this,e=t._layout,n=t._id,i=t.classPrefix,r=t.settings,o="",a="",s=r.html;return t.preRender(),e.preRender(t),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head">'+'<div class="'+i+'title">'+t.encode(r.title)+"</div>"+'<button type="button" class="'+i+'close" aria-hidden="true">&times;</button>'+'<div id="'+n+'-dragh" class="'+i+'dragh"></div>'+"</div>"),r.url&&(s='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),"undefined"==typeof s&&(s=e.renderHtml(t)),t.statusbar&&(a=t.statusbar.renderHtml()),'<div id="'+n+'" class="'+t.classes()+'" hideFocus="1" tabIndex="-1">'+o+'<div id="'+n+'-body" class="'+t.classes("body")+'">'+s+"</div>"+a+"</div>"},fullscreen:function(t){var e,i,r=this,o=document.documentElement,a=r.classPrefix;if(t!=r._fullscreen)if(n.on(window,"resize",function(){var t;if(r._fullscreen)if(e)r._timer||(r._timer=setTimeout(function(){var t=n.getWindowSize();r.moveTo(0,0).resizeTo(t.w,t.h),r._timer=0},50));else{t=(new Date).getTime();var i=n.getWindowSize();r.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-t>50&&(e=!0)}}),i=r.layoutRect(),r._fullscreen=t,t){r._initial={x:i.x,y:i.y,w:i.w,h:i.h},r._borderBox=r.parseBox("0"),r.getEl("head").style.display="none",i.deltaH-=i.headerH+2,n.addClass(o,a+"fullscreen"),n.addClass(document.body,a+"fullscreen"),r.addClass("fullscreen");var s=n.getWindowSize();r.moveTo(0,0).resizeTo(s.w,s.h)}else r._borderBox=r.parseBox(r.settings.border),r.getEl("head").style.display="",i.deltaH+=i.headerH,n.removeClass(o,a+"fullscreen"),n.removeClass(document.body,a+"fullscreen"),r.removeClass("fullscreen"),r.moveTo(r._initial.x,r._initial.y).resizeTo(r._initial.w,r._initial.h);return r.reflow()},postRender:function(){var t,e,n,o=this,a=[];setTimeout(function(){o.addClass("in")},0),o.keyboardNavigation=new i({root:o,enableLeftRight:!1,enableUpDown:!1,items:a,onCancel:function(){o.close()}}),o.find("*").each(function(n){n.canFocus&&(e=e||n.settings.autofocus,t=t||n,"filepicker"==n.type?(a.push(n.getEl("inp")),n.getEl("open")&&a.push(n.getEl("open").firstChild)):a.push(n.getEl()))}),o.statusbar&&o.statusbar.find("*").each(function(n){n.canFocus&&(e=e||n.settings.autofocus,t=t||n,a.push(n.getEl()))}),o._super(),o.statusbar&&o.statusbar.postRender(),!e&&t&&t.focus(),this.dragHelper=new r(o._id+"-dragh",{start:function(){n={x:o.layoutRect().x,y:o.layoutRect().y}},drag:function(t){o.moveTo(n.x+t.deltaX,n.y+t.deltaY)}}),o.on("submit",function(t){t.isDefaultPrevented()||o.close()})},submit:function(){var t=this.getParentCtrl(document.activeElement);return t&&t.blur(),this.fire("submit",{data:this.toJSON()})},remove:function(){var t=this;t._super(),t.dragHelper.destroy(),t.statusbar&&this.statusbar.remove()}});return o}),i("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(t){var e=t.extend({init:function(t){t={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(t)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){var i,r=n.callback||function(){};switch(n.buttons){case e.OK_CANCEL:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(t){t.control.parents()[1].close(),r(!0)}},{type:"button",text:"Cancel",onClick:function(t){t.control.parents()[1].close(),r(!1)}}];break;case e.YES_NO:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(t){t.control.parents()[1].close(),r(!0)}}];break;case e.YES_NO_CANCEL:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(t){t.control.parents()[1].close()}}];break;default:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(t){t.control.parents()[1].close()}}]}return new t({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:i,title:n.title,items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onClose:n.onClose}).renderTo(document.body).reflow()},alert:function(t,n){return"string"==typeof t&&(t={text:t}),t.callback=n,e.msgBox(t)},confirm:function(t,n){return"string"==typeof t&&(t={text:t}),t.callback=n,t.buttons=e.OK_CANCEL,e.msgBox(t)}}});return e}),i("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(t,e){return function(n){var i=this,r=[];i.windows=r,i.open=function(e,i){var o;return e.url=e.url||e.file,e.url&&(e.width=parseInt(e.width||320,10),e.height=parseInt(e.height||240,10)),e.body&&(e.items={defaults:e.defaults,type:e.bodyType||"form",items:e.body}),e.url||e.buttons||(e.buttons=[{text:"Ok",subtype:"primary",onclick:function(){o.find("form")[0].submit(),o.close()}},{text:"Cancel",onclick:function(){o.close()}}]),o=new t(e),r.push(o),o.on("close",function(){for(var t=r.length;t--;)r[t]===o&&r.splice(t,1);n.focus()}),e.data&&o.on("postRender",function(){this.find("*").each(function(t){var n=t.name();n in e.data&&t.value(e.data[n])})}),o.params=i||{},n.nodeChanged(),o.renderTo(document.body).reflow()},i.alert=function(t,n,i){e.alert(t,function(){n.call(i||this)})},i.confirm=function(t,n,i){e.confirm(t,function(t){n.call(i||this,t)})},i.close=function(){r.length&&r[r.length-1].close()},i.getParams=function(){return r.length?r[r.length-1].params:null},i.setParams=function(t){r.length&&(r[r.length-1].params=t)}}}),i("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools"],function(t,e,n,i,r,o){return function(a){function s(t,e){try{a.getDoc().execCommand(t,!1,e)}catch(n){}}function l(){var t=a.getDoc().documentMode;return t?t:6}function u(t){return t.isDefaultPrevented()}function c(){function e(t){function e(){if(3==l.nodeType){if(t&&u==l.length)return!0;if(!t&&0===u)return!0}}var n,i,r,s,l,u,c;n=O.getRng();var d=[n.startContainer,n.startOffset,n.endContainer,n.endOffset];if(n.collapsed||(t=!0),l=n[(t?"start":"end")+"Container"],u=n[(t?"start":"end")+"Offset"],3==l.nodeType&&(i=j.getParent(n.startContainer,j.isBlock),t&&(i=j.getNext(i,j.isBlock)),!i||!e()&&n.collapsed||(r=j.create("em",{id:"__mceDel"}),F(o.grep(i.childNodes),function(t){r.appendChild(t)}),i.appendChild(r))),n=j.createRng(),n.setStart(d[0],d[1]),n.setEnd(d[2],d[3]),O.setRng(n),a.getDoc().execCommand(t?"ForwardDelete":"Delete",!1,null),r){for(s=O.getBookmark();c=j.get("__mceDel");)j.remove(c,!0);O.moveToBookmark(s)}}a.on("keydown",function(n){var i;i=n.keyCode==P,u(n)||!i&&n.keyCode!=B||t.modifierPressed(n)||(n.preventDefault(),e(i))}),a.addCommand("Delete",function(){e()})}function d(){function t(t){var e=j.create("body"),n=t.cloneContents();return e.appendChild(n),O.serializer.serialize(e,{format:"html"})}function e(e){var n=t(e),i=j.createRng();i.selectNode(a.getBody());var r=t(i);return n===r}a.on("keydown",function(t){var n,i=t.keyCode;if(!u(t)&&(i==P||i==B)){if(n=a.selection.isCollapsed(),n&&!j.isEmpty(a.getBody()))return;if(q&&!n)return;if(!n&&!e(a.selection.getRng()))return;t.preventDefault(),a.setContent(""),a.selection.setCursorLocation(a.getBody(),0),a.nodeChanged()}})}function f(){a.on("keydown",function(e){!u(e)&&65==e.keyCode&&t.metaKeyPressed(e)&&(e.preventDefault(),a.execCommand("SelectAll"))})}function h(){a.settings.content_editable||(j.bind(a.getDoc(),"focusin",function(){O.setRng(O.getRng())}),j.bind(a.getDoc(),"mousedown",function(t){t.target==a.getDoc().documentElement&&(a.getWin().focus(),O.setRng(O.getRng()))}))}function p(){a.on("keydown",function(t){if(!u(t)&&t.keyCode===B&&O.isCollapsed()&&0===O.getRng(!0).startOffset){var e=O.getNode(),n=e.previousSibling;n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(j.remove(n),t.preventDefault())}})}function g(){window.Range.prototype.getClientRects||a.on("mousedown",function(t){if(!u(t)&&"HTML"===t.target.nodeName){var e=a.getBody();e.blur(),setTimeout(function(){e.focus()},0)}})}function m(){a.on("click",function(t){t=t.target,/^(IMG|HR)$/.test(t.nodeName)&&O.getSel().setBaseAndExtent(t,0,t,1),"A"==t.nodeName&&j.hasClass(t,"mce-item-anchor")&&O.select(t),a.nodeChanged()})}function v(){function t(){var t=j.getAttribs(O.getStart().cloneNode(!1));return function(){var e=O.getStart();e!==a.getBody()&&(j.setAttrib(e,"style",null),F(t,function(t){e.setAttributeNode(t.cloneNode(!0))}))}}function e(){return!O.isCollapsed()&&j.getParent(O.getStart(),j.isBlock)!=j.getParent(O.getEnd(),j.isBlock)}a.on("keypress",function(n){var i;return u(n)||8!=n.keyCode&&46!=n.keyCode||!e()?void 0:(i=t(),a.getDoc().execCommand("delete",!1,null),i(),n.preventDefault(),!1)}),j.bind(a.getDoc(),"cut",function(n){var i;!u(n)&&e()&&(i=t(),setTimeout(function(){i()},0))})}function y(){var t,n;a.on("selectionchange",function(){n&&(clearTimeout(n),n=0),n=window.setTimeout(function(){var n=O.getRng();t&&e.compareRanges(n,t)||(a.nodeChanged(),t=n)},50)})}function b(){document.body.setAttribute("role","application")}function x(){a.on("keydown",function(t){if(!u(t)&&t.keyCode===B&&O.isCollapsed()&&0===O.getRng(!0).startOffset){var e=O.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}})}function _(){l()>7||(s("RespectVisibilityInDesign",!0),a.contentStyles.push(".mceHideBrInPre pre br {display: none}"),j.addClass(a.getBody(),"mceHideBrInPre"),$.addNodeFilter("pre",function(t){for(var e,i,r,o,a=t.length;a--;)for(e=t[a].getAll("br"),i=e.length;i--;)r=e[i],o=r.prev,o&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":r.parent.insert(new n("#text",3),r,!0).value="\n"}),I.addNodeFilter("pre",function(t){for(var e,n,i,r,o=t.length;o--;)for(e=t[o].getAll("br"),n=e.length;n--;)i=e[n],r=i.prev,r&&3==r.type&&(r.value=r.value.replace(/\r?\n$/,""))}))}function w(){j.bind(a.getBody(),"mouseup",function(){var t,e=O.getNode();"IMG"==e.nodeName&&((t=j.getStyle(e,"width"))&&(j.setAttrib(e,"width",t.replace(/[^0-9%]+/g,"")),j.setStyle(e,"width","")),(t=j.getStyle(e,"height"))&&(j.setAttrib(e,"height",t.replace(/[^0-9%]+/g,"")),j.setStyle(e,"height","")))})}function C(){a.on("keydown",function(e){var n,i,r,o,s,l,c,d;if(n=e.keyCode==P,!u(e)&&(n||e.keyCode==B)&&!t.modifierPressed(e)&&(i=O.getRng(),r=i.startContainer,o=i.startOffset,c=i.collapsed,3==r.nodeType&&r.nodeValue.length>0&&(0===o&&!c||c&&o===(n?0:1)))){if(l=r.previousSibling,l&&"IMG"==l.nodeName)return;d=a.schema.getNonEmptyElements(),e.preventDefault(),s=j.create("br",{id:"__tmp"}),r.parentNode.insertBefore(s,r),a.getDoc().execCommand(n?"ForwardDelete":"Delete",!1,null),r=O.getRng().startContainer,l=r.previousSibling,l&&1==l.nodeType&&!j.isBlock(l)&&j.isEmpty(l)&&!d[l.nodeName.toLowerCase()]&&j.remove(l),j.remove("__tmp")}})}function k(){a.on("keydown",function(e){var n,i,r,o,s;if(!u(e)&&e.keyCode==t.BACKSPACE&&(n=O.getRng(),i=n.startContainer,r=n.startOffset,o=j.getRoot(),s=i,n.collapsed&&0===r)){for(;s&&s.parentNode&&s.parentNode.firstChild==s&&s.parentNode!=o;)s=s.parentNode;"BLOCKQUOTE"===s.tagName&&(a.formatter.toggle("blockquote",null,s),n=j.createRng(),n.setStart(i,0),n.setEnd(i,0),O.setRng(n))}})}function E(){function t(){a._refreshContentEditable(),s("StyleWithCSS",!1),s("enableInlineTableEditing",!1),z.object_resizing||s("enableObjectResizing",!1)}z.readonly||a.on("BeforeExecCommand MouseDown",t)}function S(){function t(){F(j.select("a"),function(t){var e=t.parentNode,n=j.getRoot();if(e.lastChild===t){for(;e&&!j.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}j.add(e,"br",{"data-mce-bogus":1})}})}a.on("SetContent ExecCommand",function(e){("setcontent"==e.type||"mceInsertLink"===e.command)&&t()})}function M(){z.forced_root_block&&a.on("init",function(){s("DefaultParagraphSeparator",z.forced_root_block)})}function T(){a.on("Undo Redo SetContent",function(t){t.initial||a.execCommand("mceRepaint")})}function N(){a.on("keydown",function(t){var e;u(t)||t.keyCode!=B||(e=a.getDoc().selection.createRange(),e&&e.item&&(t.preventDefault(),a.undoManager.beforeChange(),j.remove(e.item(0)),a.undoManager.add()))})}function A(){var t;l()>=10&&(t="",F("p div h1 h2 h3 h4 h5 h6".split(" "),function(e,n){t+=(n>0?",":"")+e+":empty"}),a.contentStyles.push(t+"{padding-right: 1px !important}"))}function R(){l()<9&&($.addNodeFilter("noscript",function(t){for(var e,n,i=t.length;i--;)e=t[i],n=e.firstChild,n&&e.attr("data-mce-innertext",n.value)}),I.addNodeFilter("noscript",function(t){for(var e,r,o,a=t.length;a--;)e=t[a],r=t[a].firstChild,r?r.value=i.decode(r.value):(o=e.attributes.map["data-mce-innertext"],o&&(e.attr("data-mce-innertext",null),r=new n("#text",3),r.value=o,r.raw=!0,e.append(r)))}))}function D(){function t(t,e){var n=s.createTextRange();try{n.moveToPoint(t,e)}catch(i){n=null}return n}function e(e){var i;e.button?(i=t(e.x,e.y),i&&(i.compareEndPoints("StartToStart",r)>0?i.setEndPoint("StartToStart",r):i.setEndPoint("EndToEnd",r),i.select())):n()}function n(){var t=a.selection.createRange();r&&!t.item&&0===t.compareEndPoints("StartToEnd",t)&&r.select(),j.unbind(a,"mouseup",n),j.unbind(a,"mousemove",e),r=i=0}var i,r,o,a=j.doc,s=a.body;a.documentElement.unselectable=!0,j.bind(a,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(i&&n(),o=a.documentElement,o.scrollHeight>o.clientHeight)return;i=1,r=t(s.x,s.y),r&&(j.bind(a,"mouseup",n),j.bind(a,"mousemove",e),j.win.focus(),r.select())}})}function H(){a.on("keyup focusin",function(e){65==e.keyCode&&t.metaKeyPressed(e)||O.normalize()})}function L(){a.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}var F=o.each,B=t.BACKSPACE,P=t.DELETE,j=a.dom,O=a.selection,z=a.settings,$=a.parser,I=a.serializer,W=r.gecko,q=r.ie,U=r.webkit;x(),k(),d(),H(),U&&(C(),c(),h(),m(),M(),r.iOS?y():f()),q&&(p(),b(),_(),w(),N(),A(),R(),D()),W&&(p(),g(),v(),E(),S(),T(),L())}}),i("tinymce/util/Observable",["tinymce/util/Tools"],function(t){function e(){return!1}function n(){return!0}var i="__bindings",r=t.makeMap("focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave keydown keypress keyup contextmenu dragend dragover draggesture dragdrop drop drag"," ");return{fire:function(t,r,o){var a,s,l,u,c,d=this;if(t=t.toLowerCase(),r=r||{},r.type=t,r.target||(r.target=d),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=n},r.stopPropagation=function(){r.isPropagationStopped=n},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=n},r.isDefaultPrevented=e,r.isPropagationStopped=e,r.isImmediatePropagationStopped=e),d[i]&&(a=d[i][t]))for(s=0,l=a.length;l>s&&(a[s]=u=a[s],!r.isImmediatePropagationStopped());s++)if(u.call(d,r)===!1)return r.preventDefault(),r;if(o!==!1&&d.parent)for(c=d.parent();c&&!r.isPropagationStopped();)c.fire(t,r,!1),c=c.parent();return r},on:function(t,e){var n,o,a,s,l=this;if(e===!1&&(e=function(){return!1}),e)for(a=t.toLowerCase().split(" "),s=a.length;s--;)t=a[s],n=l[i],n||(n=l[i]={}),o=n[t],o||(o=n[t]=[],l.bindNative&&r[t]&&l.bindNative(t)),o.push(e);return l},off:function(t,e){var n,o,a,s,l,u=this,c=u[i];if(c)if(t)for(s=t.toLowerCase().split(" "),n=s.length;n--;){if(t=s[n],o=c[t],!t){for(a in c)c[t].length=0;return u}if(o){if(e)for(l=o.length;l--;)o[l]===e&&o.splice(l,1);else o.length=0;!o.length&&u.unbindNative&&r[t]&&(u.unbindNative(t),delete c[t])}}else{if(u.unbindNative)for(t in c)u.unbindNative(t);u[i]=[]}return u}}}),i("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(t,e){var n=t.each,i=t.explode,r={f9:120,f10:121,f11:122};return function(o){var a=this,s={};o.on("keyup keypress keydown",function(t){(t.altKey||t.ctrlKey||t.metaKey)&&n(s,function(n){var i=e.mac?t.ctrlKey||t.metaKey:t.ctrlKey;if(n.ctrl==i&&n.alt==t.altKey&&n.shift==t.shiftKey)return t.keyCode==n.keyCode||t.charCode&&t.charCode==n.charCode?(t.preventDefault(),"keydown"==t.type&&n.func.call(n.scope),!0):void 0})}),a.add=function(e,a,l,u){var c;return c=l,"string"==typeof l?l=function(){o.execCommand(c,!1,null)}:t.isArray(c)&&(l=function(){o.execCommand(c[0],c[1],c[2])}),n(i(e.toLowerCase()),function(t){var e={func:l,scope:u||o,desc:o.translate(a),alt:!1,ctrl:!1,shift:!1};n(i(t,"+"),function(t){switch(t){case"alt":case"ctrl":case"shift":e[t]=!0;break;default:e.charCode=t.charCodeAt(0),e.keyCode=r[t]||t.toUpperCase().charCodeAt(0)}}),s[(e.ctrl?"ctrl":"")+","+(e.alt?"alt":"")+","+(e.shift?"shift":"")+","+e.keyCode]=e}),!0}}}),i("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/AddOnManager","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/Shortcuts"],function(t,n,i,r,o,a,s,l,u,c,d,f,h,p,g,m,v,y,b,x,_,w){function C(t,e){return"selectionchange"==e||"drop"==e?t.getDoc():!t.inline&&/^mouse|click|contextmenu/.test(e)?t.getDoc():t.getBody()}function k(t,e,i){var r,o,a=this;r=a.documentBaseUrl=i.documentBaseURL,o=i.baseURI,a.settings=e=T({id:t,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:r,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:a.convertURL,url_converter_scope:a,ie7_compat:!0},e),n.settings=e,n.baseURL=i.baseURL,a.id=e.id=t,a.isNotDirty=!0,a.plugins={},a.documentBaseURI=new f(e.document_base_url||r,{base_uri:o}),a.baseURI=o,a.contentCSS=[],a.contentStyles=[],a.shortcuts=new w(a),a.execCommands={},a.queryStateCommands={},a.queryValueCommands={},a.loadedCSS={},a.suffix=i.suffix,a.editorManager=i,a.inline=e.inline,a.execCallback("setup",a)}var E=t.DOM,S=n.ThemeManager,M=n.PluginManager,T=x.extend,N=x.each,A=x.explode,R=x.inArray,D=x.trim,H=x.resolve,L=p.Event,F=b.gecko,B=b.ie,P=b.opera;return k.prototype={render:function(){function t(){var t=h.ScriptLoader;n.language&&"en"!=n.language&&(n.language_url=e.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&t.add(n.language_url),n.theme&&"function"!=typeof n.theme&&"-"!=n.theme.charAt(0)&&!S.urls[n.theme]&&S.load(n.theme,"themes/"+n.theme+"/theme"+r+".js"),x.isArray(n.plugins)&&(n.plugins=n.plugins.join(" ")),N(n.external_plugins,function(t,e){M.load(e,t),n.plugins+=" "+e}),N(n.plugins.split(/[ ,]/),function(t){if(t=D(t),t&&!M.urls[t])if("-"==t.charAt(0)){t=t.substr(1,t.length);var e=M.dependencies(t);N(e,function(t){var e={prefix:"plugins/",resource:t,suffix:"/plugin"+r+".js"};t=M.createUrl(e,t),M.load(t.resource,t)})}else M.load(t,{prefix:"plugins/",resource:t,suffix:"/plugin"+r+".js"})}),t.loadQueue(function(){e.removed||e.init()})}var e=this,n=e.settings,i=e.id,r=e.suffix;if(!L.domLoaded)return E.bind(window,"ready",function(){e.render()}),void 0;if(e.editorManager.settings=n,e.getElement()&&b.contentEditable){n.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var o=e.getElement().form||E.getParent(i,"form");o&&(e.formElement=o,n.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&E.insertAfter(E.create("input",{type:"hidden",name:i}),i),e.formEventDelegate=function(t){e.fire(t.type,t)},E.bind(o,"submit reset",e.formEventDelegate),e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})}),!n.submit_patch||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return e.editorManager.triggerSave(),e.isNotDirty=!0,o._mceOldSubmit(o)})),e.windowManager=new g(e),"xml"==n.encoding&&e.on("GetContent",function(t){t.save&&(t.content=E.encode(t.content))}),n.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&(e.save(),e.isNotDirty=!0)}),n.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0})},e.editorManager.on("BeforeUnload",e._beforeUnload)),t()}},init:function(){function t(e){var n,i,r=M.get(e);n=M.urls[e]||d.documentBaseUrl.replace(/\/$/,""),e=D(e),r&&-1===R(p,e)&&(N(M.dependencies(e),function(e){t(e)}),i=new r(d,n),d.plugins[e]=i,i.init&&(i.init(d,n),p.push(e)))}var e,n,i,r,o,a,s,l,u,c,d=this,f=d.settings,h=d.getElement(),p=[];if(d.editorManager.add(d),f.aria_label=f.aria_label||E.getAttrib(h,"aria-label",d.getLang("aria.rich_text_area")),f.theme&&("function"!=typeof f.theme?(f.theme=f.theme.replace(/-/,""),o=S.get(f.theme),d.theme=new o(d,S.urls[f.theme]),d.theme.init&&d.theme.init(d,S.urls[f.theme]||d.documentBaseUrl.replace(/\/$/,""))):d.theme=f.theme),N(f.plugins.replace(/\-/g,"").split(/[ ,]/),t),d.fire("BeforeRenderUI"),f.render_ui&&d.theme&&(d.orgDisplay=h.style.display,"function"!=typeof f.theme?(e=f.width||h.style.width||h.offsetWidth,n=f.height||h.style.height||h.offsetHeight,i=f.min_height||100,u=/^[0-9\.]+(|px)$/i,u.test(""+e)&&(e=Math.max(parseInt(e,10)+(o.deltaWidth||0),100)),u.test(""+n)&&(n=Math.max(parseInt(n,10)+(o.deltaHeight||0),i)),o=d.theme.renderUI({targetNode:h,width:e,height:n,deltaWidth:f.delta_width,deltaHeight:f.delta_height}),f.content_editable||(E.setStyles(o.sizeContainer||o.editorContainer,{wi2dth:e,h2eight:n}),n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""),i>n&&(n=i))):(o=f.theme(d,h),o.editorContainer.nodeType&&(o.editorContainer=o.editorContainer.id=o.editorContainer.id||d.id+"_parent"),o.iframeContainer.nodeType&&(o.iframeContainer=o.iframeContainer.id=o.iframeContainer.id||d.id+"_iframecontainer"),n=o.iframeHeight||h.offsetHeight),d.editorContainer=o.editorContainer),f.content_css&&N(A(f.content_css),function(t){d.contentCSS.push(d.documentBaseURI.toAbsolute(t))}),f.content_style&&d.contentStyles.push(f.content_style),f.content_editable)return h=r=o=null,d.initContentBody();for(document.domain&&location.hostname!=document.domain&&(d.editorManager.relaxedDomain=document.domain),d.iframeHTML=f.doctype+"<html><head>",f.document_base_url!=d.documentBaseUrl&&(d.iframeHTML+='<base href="'+d.documentBaseURI.getURI()+'" />'),!b.caretAfter&&f.ie7_compat&&(d.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),d.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',c=0;c<d.contentCSS.length;c++){var g=d.contentCSS[c];d.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+g+'" />',d.loadedCSS[g]=!0}s=f.body_id||"tinymce",-1!=s.indexOf("=")&&(s=d.getParam("body_id","","hash"),s=s[d.id]||s),l=f.body_class||"",-1!=l.indexOf("=")&&(l=d.getParam("body_class","","hash"),l=l[d.id]||""),d.iframeHTML+='</head><body id="'+s+'" class="mce-content-body '+l+'" '+"onload=\"window.parent.tinymce.get('"+d.id+"').fire('load');\"><br></body></html>",d.editorManager.relaxedDomain&&(B||P&&parseFloat(window.opera.version())<11)&&(a='javascript:(function(){document.open();document.domain="'+document.domain+'";'+'var ed = window.parent.tinymce.get("'+d.id+'");document.write(ed.iframeHTML);'+"document.close();ed.initContentBody();})()"),r=E.add(o.iframeContainer,"iframe",{id:d.id+"_ifr",src:a||'javascript:""',frameBorder:"0",allowTransparency:"true",title:d.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:n,display:"block"}}),d.contentAreaContainer=o.iframeContainer,o.editorContainer&&(E.get(o.editorContainer).style.display=d.orgDisplay),E.get(d.id).style.display="none",E.setAttrib(d.id,"aria-hidden",!0),d.editorManager.relaxedDomain&&a||d.initContentBody(),h=r=o=null},initContentBody:function(){var e,n,o=this,f=o.settings,h=E.get(o.id),p=o.getDoc();f.inline||(o.getElement().style.visibility=o.orgVisibility),B&&o.editorManager.relaxedDomain||f.content_editable||(p.open(),p.write(o.iframeHTML),p.close(),o.editorManager.relaxedDomain&&(p.domain=o.editorManager.relaxedDomain)),f.content_editable&&(o.on("remove",function(){var t=this.getBody();E.removeClass(t,"mce-content-body"),E.removeClass(t,"mce-edit-focus"),E.setAttrib(t,"tabIndex",null),E.setAttrib(t,"contentEditable",null)}),E.addClass(h,"mce-content-body"),h.tabIndex=-1,o.contentDocument=p=f.content_document||document,o.contentWindow=f.content_window||window,o.bodyElement=h,f.content_document=f.content_window=null,f.root_name=h.nodeName.toLowerCase()),e=o.getBody(),e.disabled=!0,f.readonly||(e.contentEditable=o.getParam("content_editable_state",!0)),e.disabled=!1,o.schema=new m(f),o.dom=new t(p,{keep_values:!0,url_converter:o.convertURL,url_converter_scope:o,hex_colors:f.force_hex_style_colors,class_filter:f.class_filter,update_styles:!0,root_element:f.content_editable?o.id:null,schema:o.schema,onSetAttrib:function(t){o.fire("SetAttrib",t)}}),o.parser=new v(f,o.schema),o.parser.addAttributeFilter("src,href,style",function(t,e){for(var n,i,r,a=t.length,s=o.dom;a--;)n=t[a],i=n.attr(e),r="data-mce-"+e,n.attributes.map[r]||("style"===e?n.attr(r,s.serializeStyle(s.parseStyle(i),n.name)):n.attr(r,o.convertURL(i,e,n.name)))}),o.parser.addNodeFilter("script",function(t){for(var e,n=t.length;n--;)e=t[n],e.attr("type","mce-"+(e.attr("type")||"text/javascript"))}),o.parser.addNodeFilter("#cdata",function(t){for(var e,n=t.length;n--;)e=t[n],e.type=8,e.name="#comment",e.value="[CDATA["+e.value+"]]"}),o.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var e,n=t.length,r=o.schema.getNonEmptyElements();n--;)e=t[n],e.isEmpty(r)&&(e.empty().append(new i("br",1)).shortEnded=!0)}),o.serializer=new r(f,o),o.selection=new a(o.dom,o.getWin(),o.serializer,o),o.formatter=new s(o),o.undoManager=new l(o),o.forceBlocks=new c(o),o.enterKey=new u(o),o.editorCommands=new d(o),o.fire("PreInit"),f.browser_spellcheck||f.gecko_spellcheck||(p.body.spellcheck=!1,E.setAttrib(e,"spellcheck","false")),o.fire("PostRender"),o.quirks=y(o),f.directionality&&(e.dir=f.directionality),f.nowrap&&(e.style.whiteSpace="nowrap"),f.protect&&o.on("BeforeSetContent",function(t){N(f.protect,function(e){t.content=t.content.replace(e,function(t){return"<!--mce:protected "+escape(t)+"-->"})})}),o.on("SetContent",function(){o.addVisual(o.getBody())}),f.padd_empty_editor&&o.on("PostProcess",function(t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),o.load({initial:!0,format:"html"}),o.startContent=o.getContent({format:"raw"}),o.initialized=!0,N(o._pendingNativeEvents,function(t){o.dom.bind(C(o,t),t,function(t){o.fire(t.type,t)})}),o.fire("init"),o.focus(!0),o.nodeChanged({initial:!0}),o.execCallback("init_instance_callback",o),o.contentStyles.length>0&&(n="",N(o.contentStyles,function(t){n+=t+"\r\n"}),o.dom.addStyle(n)),N(o.contentCSS,function(t){o.loadedCSS[t]||(o.dom.loadCSS(t),o.loadedCSS[t]=!0)}),f.auto_focus&&setTimeout(function(){var t=o.editorManager.get(f.auto_focus);t.selection.select(t.getBody(),1),t.selection.collapse(1),t.getBody().focus(),t.getWin().focus()},100),h=p=e=null},focus:function(t){var e,n,i,r,o=this,a=o.selection,s=o.settings.content_editable,l=o.getDoc();t||(n=a.getRng(),n.item&&(i=n.item(0)),o._refreshContentEditable(),s||(b.opera||o.getBody().focus(),o.getWin().focus()),(F||s)&&(r=o.getBody(),r.setActive?r.setActive():r.focus(),s&&a.normalize()),i&&i.ownerDocument==l&&(n=l.body.createControlRange(),n.addElement(i),n.select())),o.editorManager.activeEditor!=o&&((e=o.editorManager.activeEditor)&&e.fire("deactivate",{relatedTarget:o}),o.fire("activate",{relatedTarget:e})),o.editorManager.activeEditor=o},execCallback:function(t){var e,n=this,i=n.settings[t];if(i)return n.callbackLookup&&(e=n.callbackLookup[t])&&(i=e.func,e=e.scope),"string"==typeof i&&(e=i.replace(/\.\w+$/,""),e=e?H(e):0,i=H(i),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[t]={func:i,scope:e}),i.apply(e||n,Array.prototype.slice.call(arguments,1))},translate:function(t){var e=this.settings.language||"en",n=this.editorManager.i18n;return t?n[e+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(t,i){return n[e+"."+i]||"{#"+i+"}"}):""},getLang:function(t,n){return this.editorManager.i18n[(this.settings.language||"en")+"."+t]||(n!==e?n:"{#"+t+"}")},getParam:function(t,e,n){var i,r=t in this.settings?this.settings[t]:e;return"hash"===n?(i={},"string"==typeof r?N(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(t){t=t.split("="),i[D(t[0])]=t.length>1?D(t[1]):D(t)}):i=r,i):r},nodeChanged:function(){var t,e,n,i=this,r=i.selection;i.initialized&&!i.settings.disable_nodechange&&(n=i.getBody(),t=r.getStart()||n,t=B&&t.ownerDocument!=i.getDoc()?i.getBody():t,"IMG"==t.nodeName&&r.isCollapsed()&&(t=t.parentNode),e=[],i.dom.getParent(t,function(t){return t===n?!0:(e.push(t),void 0)}),i.fire("NodeChange",{element:t,parents:e}))},addButton:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),e.text||e.icon||(e.icon=t),n.buttons=n.buttons||{},e.tooltip=e.tooltip||e.title,n.buttons[t]=e
},addMenuItem:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[t]=e},addCommand:function(t,e,n){this.execCommands[t]={func:e,scope:n||this}},addQueryStateHandler:function(t,e,n){this.queryStateCommands[t]={func:e,scope:n||this}},addQueryValueHandler:function(t,e,n){this.queryValueCommands[t]={func:e,scope:n||this}},addShortcut:function(t,e,n,i){this.shortcuts.add(t,e,n,i)},execCommand:function(t,e,n,i){var r,o=this,a=0;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||i&&i.skip_focus||o.focus(),i=T({},i),i=o.fire("BeforeExecCommand",{command:t,ui:e,value:n}),i.isDefaultPrevented()?!1:(r=o.execCommands[t])&&r.func.call(r.scope,e,n)!==!0?(o.fire("ExecCommand",{command:t,ui:e,value:n}),!0):(N(o.plugins,function(i){return i.execCommand&&i.execCommand(t,e,n)?(o.fire("ExecCommand",{command:t,ui:e,value:n}),a=!0,!1):void 0}),a?a:o.theme&&o.theme.execCommand&&o.theme.execCommand(t,e,n)?(o.fire("ExecCommand",{command:t,ui:e,value:n}),!0):o.editorCommands.execCommand(t,e,n)?(o.fire("ExecCommand",{command:t,ui:e,value:n}),!0):(o.getDoc().execCommand(t,e,n),o.fire("ExecCommand",{command:t,ui:e,value:n}),void 0))},queryCommandState:function(t){var e,n,i=this;if(!i._isHidden()){if((e=i.queryStateCommands[t])&&(n=e.func.call(e.scope),n!==!0))return n;if(n=i.editorCommands.queryCommandState(t),-1!==n)return n;try{return i.getDoc().queryCommandState(t)}catch(r){}}},queryCommandValue:function(t){var n,i,r=this;if(!r._isHidden()){if((n=r.queryValueCommands[t])&&(i=n.func.call(n.scope),i!==!0))return i;if(i=r.editorCommands.queryCommandValue(t),i!==e)return i;try{return r.getDoc().queryCommandValue(t)}catch(o){}}},show:function(){var t=this;E.show(t.getContainer()),E.hide(t.id),t.load(),t.fire("show")},hide:function(){var t=this,e=t.getDoc();B&&e&&e.execCommand("SelectAll"),t.save(),E.hide(t.getContainer()),E.setStyle(t.id,"display",t.orgDisplay),t.fire("hide")},isHidden:function(){return!E.isHidden(this.id)},setProgressState:function(t,e){this.fire("ProgressState",{state:t,time:e})},load:function(t){var n,i=this,r=i.getElement();return r?(t=t||{},t.load=!0,n=i.setContent(r.value!==e?r.value:r.innerHTML,t),t.element=r,t.no_events||i.fire("LoadContent",t),t.element=r=null,n):void 0},save:function(t){var e,n,i=this,r=i.getElement();if(r&&i.initialized)return t=t||{},t.save=!0,t.element=r,e=t.content=i.getContent(t),t.no_events||i.fire("SaveContent",t),e=t.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=e:(r.innerHTML=e,(n=E.getParent(i.id,"form"))&&N(n.elements,function(t){return t.name==i.id?(t.value=e,!1):void 0})),t.element=r=null,i.isNotDirty=!0,e},setContent:function(t,e){var n,i=this,r=i.getBody();return e=e||{},e.format=e.format||"html",e.set=!0,e.content=t,e.no_events||i.fire("BeforeSetContent",e),t=e.content,B||0!==t.length&&!/^\s+$/.test(t)?("raw"!==e.format&&(t=new o({},i.schema).serialize(i.parser.parse(t,{isRootContent:!0}))),e.content=D(t),i.dom.setHTML(r,e.content),e.no_events||i.fire("SetContent",e),i.settings.content_editable&&document.activeElement!==i.getBody()||i.selection.normalize(),e.content):(n=i.settings.forced_root_block,t=n&&i.schema.isValidChild(r.nodeName.toLowerCase(),n.toLowerCase())?"<"+n+'><br data-mce-bogus="1"></'+n+">":'<br data-mce-bogus="1">',r.innerHTML=t,i.selection.select(r,!0),i.selection.collapse(!0),i.fire("SetContent",e),void 0)},getContent:function(t){var e,n=this,i=n.getBody();return t=t||{},t.format=t.format||"html",t.get=!0,t.getInner=!0,t.no_events||n.fire("BeforeGetContent",t),e="raw"==t.format?i.innerHTML:"text"==t.format?i.innerText||i.textContent:n.serializer.serialize(i,t),t.content="text"!=t.format?D(e):e,t.no_events||n.fire("GetContent",t),t.content},insertContent:function(t){this.execCommand("mceInsertContent",!1,t)},isDirty:function(){return!this.isNotDirty},getContainer:function(){var t=this;return t.container||(t.container=E.get(t.editorContainer||t.id+"_parent")),t.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return E.get(this.settings.content_element||this.id)},getWin:function(){var t,e=this;return e.contentWindow||(t=E.get(e.id+"_ifr"),t&&(e.contentWindow=t.contentWindow)),e.contentWindow},getDoc:function(){var t,e=this;return e.contentDocument||(t=e.getWin(),t&&(e.contentDocument=t.document)),e.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(t,e,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",t,n,!0,e):!r.convert_urls||n&&"LINK"==n.nodeName||0===t.indexOf("file:")||0===t.length?t:r.relative_urls?i.documentBaseURI.toRelative(t):t=i.documentBaseURI.toAbsolute(t,r.remove_script_host)},addVisual:function(t){var n,i=this,r=i.settings,o=i.dom;t=t||i.getBody(),i.hasVisual===e&&(i.hasVisual=r.visual),N(o.select("table,a",t),function(t){var e;switch(t.nodeName){case"TABLE":return n=r.visual_table_class||"mce-item-table",e=o.getAttrib(t,"border"),e&&"0"!=e||(i.hasVisual?o.addClass(t,n):o.removeClass(t,n)),void 0;case"A":return o.getAttrib(t,"href",!1)||(e=o.getAttrib(t,"name")||t.id,n="mce-item-anchor",e&&(i.hasVisual?o.addClass(t,n):o.removeClass(t,n))),void 0}}),i.fire("VisualAid",{element:t,hasVisual:i.hasVisual})},remove:function(){var t=this,e=t.getContainer(),n=t.getDoc();t.removed||(t.removed=1,B&&n&&n.execCommand("SelectAll"),t.save(),E.setStyle(t.id,"display",t.orgDisplay),t.settings.content_editable||(L.unbind(t.getWin()),L.unbind(t.getDoc())),L.unbind(t.getBody()),L.unbind(e),t.fire("remove"),t.editorManager.remove(t),E.remove(e))},bindNative:function(t){var e=this;e.initialized?e.dom.bind(C(e,t),t,function(n){e.fire(t,n)}):e._pendingNativeEvents?e._pendingNativeEvents.push(t):e._pendingNativeEvents=[t]},unbindNative:function(t){var e=this;e.initialized&&e.dom.unbind(t)},destroy:function(t){var e,n=this;n.destroyed||(F&&(L.unbind(n.getDoc()),L.unbind(n.getWin()),L.unbind(n.getBody())),t||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),e=n.formElement,e&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null,E.unbind(e,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=null,n.settings.content_element=n.bodyElement=n.contentDocument=n.contentWindow=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1)},_refreshContentEditable:function(){var t,e,n=this;n._isHidden()&&(t=n.getBody(),e=t.parentNode,e.removeChild(t),e.appendChild(t),t.focus())},_isHidden:function(){var t;return F?(t=this.selection.getSel(),!t||!t.rangeCount||0===t.rangeCount):0}},T(k.prototype,_),k}),i("tinymce/util/I18n",[],function(){var t={};return{add:function(e,n){for(var i in n)t[i]=n[i]},translate:function(e){if("undefined"==typeof e)return e;if("string"!=typeof e&&e.raw)return e.raw;if(e.push){var n=e.slice(1);e=(t[e[0]]||e[0]).replace(/\{([^\}]+)\}/g,function(t,e){return n[e]})}return t[e]||e},data:t}}),i("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/Env"],function(t,e){function n(i){function r(){try{return document.activeElement}catch(t){return document.body}}function o(o){function a(e){return!!t.DOM.getParent(e,n.isEditorUIElement)}var s,l,u=o.editor;u.on("init",function(){"onbeforedeactivate"in document?u.dom.bind(u.getBody(),"beforedeactivate",function(){var t=u.getDoc().selection;s=t&&t.createRange?t.createRange():u.selection.getRng()}):u.inline&&(u.on("nodechange",function(){for(var t,e=document.activeElement;e;){if(e==u.getBody()){t=!0;break}e=e.parentNode}t&&(s=u.selection.getRng())}),e.webkit&&(l=function(){var t=u.selection.getRng();t.collapsed||(s=t)},t.DOM.bind(document,"selectionchange",l),u.on("remove",function(){t.DOM.unbind(document,"selectionchange",l)})))}),u.on("focusin",function(){var t=i.focusedEditor;u.selection.restoreRng&&(u.selection.setRng(u.selection.restoreRng),u.selection.restoreRng=null),t!=u&&(t&&t.fire("blur",{focusedEditor:u}),u.fire("focus",{blurredEditor:t}),u.focus(!1),i.focusedEditor=u)}),u.on("focusout",function(){u.selection.restoreRng=s,window.setTimeout(function(){var t=i.focusedEditor;t!=u&&(u.selection.restoreRng=null),a(r())||t!=u||(u.fire("blur",{focusedEditor:null}),i.focusedEditor=null,u.selection.restoreRng=null)},0)})}i.on("AddEditor",o)}return n.isEditorUIElement=function(t){return-1!==t.className.indexOf("mce-")},n}),i("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager"],function(t,n,i,r,o,a,s,l){var u,c=n.DOM,d=o.explode,f=o.each,h=o.extend,p=0,g={majorVersion:"4",minorVersion:"0",releaseDate:"2013-07-18",editors:[],i18n:s,activeEditor:null,setup:function(){var t,e,n,r=this,o="";if(e=document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/"),n=window.tinymce||window.tinyMCEPreInit)t=n.base||n.baseURL,o=n.suffix;else for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var u=a[s].src;if(/tinymce(\.jquery|)(\.min|\.dev|)\.js/.test(u)){-1!=u.indexOf(".min")&&(o=".min"),t=u.substring(0,u.lastIndexOf("/"));break}}r.baseURL=new i(e).toAbsolute(t),r.documentBaseURL=e,r.baseURI=new i(r.baseURL),r.suffix=o,r.focusManager=new l(r)},init:function(e){function n(t){var e=t.id;return e||(e=t.name,e=e&&!c.get(e)?t.name:c.uniqueId(),t.setAttribute("id",e)),e}function i(t,e,n){var i=t[e];if(i)return i.apply(n||this,Array.prototype.slice.call(arguments,2))}function r(t,e){return e.constructor===RegExp?e.test(t.className):c.hasClass(t,e)}var o,a=this,s=[];a.settings=e,c.bind(window,"ready",function(){var l,u;if(i(e,"onpageload"),e.types)return f(e.types,function(i){f(c.select(i.selector),function(r){var o=new t(n(r),h({},e,i),a);s.push(o),o.render(1)})}),void 0;if(e.selector)return f(c.select(e.selector),function(i){var r=new t(n(i),e,a);s.push(r),r.render(1)}),void 0;switch(e.mode){case"exact":l=e.elements||"",l.length>0&&f(d(l),function(n){c.get(n)?(o=new t(n,e,a),s.push(o),o.render(!0)):f(document.forms,function(i){f(i.elements,function(i){i.name===n&&(n="mce_editor_"+p++,c.setAttrib(i,"id",n),o=new t(n,e,a),s.push(o),o.render(1))})})});break;case"textareas":case"specific_textareas":f(c.select("textarea"),function(i){e.editor_deselector&&r(i,e.editor_deselector)||(!e.editor_selector||r(i,e.editor_selector))&&(o=new t(n(i),e,a),s.push(o),o.render(!0))})}e.oninit&&(l=u=0,f(s,function(t){u++,t.initialized?l++:t.on("init",function(){l++,l==u&&i(e,"oninit")}),l==u&&i(e,"oninit")}))})},get:function(t){return t===e?this.editors:this.editors[t]},add:function(t){var e=this,n=e.editors;return n[t.id]=t,n.push(t),e.activeEditor=t,e.fire("AddEditor",{editor:t}),u||(u=function(){e.fire("BeforeUnload")},c.bind(window,"beforeunload",u)),t},createEditor:function(e,n){return this.add(new t(e,n,this))},remove:function(t){var e,n,i=this,r=i.editors;if(t){if("string"==typeof t)return t=t.selector||t,f(c.select(t),function(t){i.remove(r[t.id])}),void 0;if(n=t,!r[n.id])return null;for(delete r[n.id],e=0;e<r.length;e++)if(r[e]==n){r.splice(e,1);break}if(i.activeEditor==n&&(i.activeEditor=r[0]),n&&!n.removed)return n.remove(),n.destroy(),i.fire("RemoveEditor",{editor:n}),r.length||c.unbind(window,"beforeunload",u),n}else for(e=r.length-1;e>=0;e--)i.remove(r[e])},execCommand:function(e,n,i){var r=this,o=r.get(i);switch(e){case"mceAddEditor":return r.get(i)||new t(i,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,i),!0)}return r.activeEditor?r.activeEditor.execCommand(e,n,i):!1},triggerSave:function(){f(this.editors,function(t){t.save()})},addI18n:function(t,e){s.add(t,e)},translate:function(t){return s.translate(t)}};return h(g,a),g.setup(),window.tinymce=window.tinyMCE=g,g}),i("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(t,e){var n=e.each,i=e.explode;t.on("AddEditor",function(t){var e=t.editor;e.on("preInit",function(){function t(t,e){n(e,function(e,n){e&&s.setStyle(t,n,e)}),s.rename(t,"span")}function r(t){s=e.dom,l.convert_fonts_to_spans&&n(s.select("font,u,strike",t.node),function(t){o[t.nodeName.toLowerCase()](s,t)})}var o,a,s,l=e.settings;l.inline_styles&&(a=i(l.font_size_legacy_values),o={font:function(e,n){t(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:a[parseInt(n.size,10)-1]})},u:function(e,n){t(n,{textDecoration:"underline"})},strike:function(e,n){t(n,{textDecoration:"line-through"})}},e.on("PreProcess SetContent",r))})})}),i("tinymce/util/XHR",[],function(){return{send:function(t){function e(){!t.async||4==n.readyState||i++>1e4?(t.success&&1e4>i&&200==n.status?t.success.call(t.success_scope,""+n.responseText,n,t):t.error&&t.error.call(t.error_scope,i>1e4?"TIMED_OUT":"GENERAL",n,t),n=null):setTimeout(e,10)}var n,i=0;if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=t.async===!1?!1:!0,t.data=t.data||"",n=new XMLHttpRequest){if(n.overrideMimeType&&n.overrideMimeType(t.content_type),n.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.content_type&&n.setRequestHeader("Content-Type",t.content_type),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(t.data),!t.async)return e();setTimeout(e,10)}}}}),i("tinymce/util/JSON",[],function(){function t(e,n){var i,r,o,a;if(n=n||'"',null===e)return"null";if(o=typeof e,"string"==o)return r="\bb	t\nn\ff\rr\"\"''\\\\",n+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(t,e){return'"'===n&&"'"===t?t:(i=r.indexOf(e),i+1?"\\"+r.charAt(i+1):(t=e.charCodeAt().toString(16),"\\u"+"0000".substring(t.length)+t))})+n;if("object"==o){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(i=0,r="[";i<e.length;i++)r+=(i>0?",":"")+t(e[i],n);return r+"]"}r="{";for(a in e)e.hasOwnProperty(a)&&(r+="function"!=typeof e[a]?(r.length>1?","+n:n)+a+n+":"+t(e[a],n):"");return r+"}"}return""+e}return{serialize:t,parse:function(t){try{return window[String.fromCharCode(101)+"val"]("("+t+")")}catch(e){}}}}),i("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(t,e,n){function i(t){this.settings=r({},t),this.count=0}var r=n.extend;return i.sendRPC=function(t){return(new i).send(t)},i.prototype={send:function(n){var i=n.error,o=n.success;n=r(this.settings,n),n.success=function(e,r){e=t.parse(e),"undefined"==typeof e&&(e={error:"JSON Parse error."}),e.error?i.call(n.error_scope||n.scope,e.error,r):o.call(n.success_scope||n.scope,e.result)},n.error=function(t,e){i&&i.call(n.error_scope||n.scope,t,e)},n.data=t.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",e.send(n)}},i}),i("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(t){return{callbacks:{},count:0,send:function(n){var i=this,r=t.DOM,o=n.count!==e?n.count:i.count,a="tinymce_jsonp_"+o;i.callbacks[o]=function(t){r.remove(a),delete i.callbacks[o],n.callback(t)},r.add(r.doc.body,"script",{id:a,src:n.url,type:"text/javascript"}),i.count++}}}),i("tinymce/util/LocalStorage",[],function(){function t(){s=[];for(var t in a)s.push(t);r.length=s.length}function n(){function n(t){var n,i;return i=t!==e?u+t:r.indexOf(",",u),-1===i||i>r.length?null:(n=r.substring(u,i),u=i+1,n)}var i,r,s,u=0;a={},o.load(l),r=o.getAttribute(l)||"";do i=n(parseInt(n(),32)||0),null!==i&&(s=n(parseInt(n(),32)||0),a[i]=s);while(null!==i);t()}function i(){var e,n="";for(var i in a)e=a[i],n+=(n?",":"")+i.length.toString(32)+","+i+","+e.length.toString(32)+","+e;o.setAttribute(l,n),o.save(l),t()}var r,o,a,s,l;return window.localStorage?localStorage:(l="tinymce",o=document.documentElement,o.addBehavior("#default#userData"),r={key:function(t){return s[t]},getItem:function(t){return t in a?a[t]:null},setItem:function(t,e){a[t]=""+e,i()},removeItem:function(t){delete a[t],i()},clear:function(){a={},i()}},n(),r)}),i("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(t,e,n,i,r,o){var a=window.tinymce;return a.DOM=t.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=i.PluginManager,a.ThemeManager=i.ThemeManager,a.dom=a.dom||{},a.dom.Event=e.Event,r.each(r,function(t,e){a[e]=t}),r.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(t){a[t]=o[t.substr(2).toLowerCase()]}),{}}),i("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(t,e){return t.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(t){this.settings=e.extend({},this.Defaults,t)},preRender:function(t){t.addClass(this.settings.containerClass,"body")},applyClasses:function(t){var e,n,i,r=this,o=r.settings;e=t.items().filter(":visible"),n=o.firstControlClass,i=o.lastControlClass,e.each(function(t){t.removeClass(n).removeClass(i),o.controlClass&&t.addClass(o.controlClass)}),e.eq(0).addClass(n),e.eq(-1).addClass(i)},renderHtml:function(t){var e,n=this,i=n.settings,r="";return e=t.items(),e.eq(0).addClass(i.firstControlClass),e.eq(-1).addClass(i.lastControlClass),e.each(function(t){i.controlClass&&t.addClass(i.controlClass),r+=t.renderHtml()}),r},recalc:function(){},postRender:function(){}})}),i("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(t){return t.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(t){t.items().filter(":visible").each(function(t){var e=t.settings;t.layoutRect({x:e.x,y:e.y,w:e.w,h:e.h}),t.recalc&&t.recalc()})},renderHtml:function(t){return'<div id="'+t._id+'-absend" class="'+t.classPrefix+'abs-end"></div>'+this._super(t)}})}),i("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(t,e){return t.extend({Mixins:[e],Defaults:{classes:"widget tooltip tooltip-n"},text:function(t){var e=this;return"undefined"!=typeof t?(e._value=t,e._rendered&&(e.getEl().lastChild.innerHTML=e.encode(t)),e):e._value},renderHtml:function(){var t=this,e=t.classPrefix;return'<div id="'+t._id+'" class="'+t.classes()+'" role="presentation">'+'<div class="'+e+'tooltip-arrow"></div>'+'<div class="'+e+'tooltip-inner">'+t.encode(t._text)+"</div>"+"</div>"},repaint:function(){var t,e,n=this;t=n.getEl().style,e=n._layoutRect,t.left=e.x+"px",t.top=e.y+"px",t.zIndex=131070}})}),i("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(t,e){var n,i=t.extend({init:function(t){var e=this;e._super(t),e.canFocus=!0,t.tooltip&&i.tooltips!==!1&&e.on("mouseenter mouseleave",function(n){var i=e.tooltip().moveTo(-65535);if(n.control==e&&"mouseenter"==n.type){var r=i.text(t.tooltip).show().testMoveRel(e.getEl(),["bc-tc","bc-tl","bc-tr"]);i.toggleClass("tooltip-n","bc-tc"==r),i.toggleClass("tooltip-nw","bc-tl"==r),i.toggleClass("tooltip-ne","bc-tr"==r),i.moveRel(e.getEl(),r)}else i.hide()}),e.aria("label",t.tooltip)},tooltip:function(){var t=this;return n||(n=new e({type:"tooltip"}),n.renderTo(t.getContainerElm())),n},active:function(t){var e,n=this;return t!==e&&(n.aria("pressed",t),n.toggleClass("active",t)),n._super(t)},disabled:function(t){var e,n=this;return t!==e&&(n.aria("disabled",t),n.toggleClass("disabled",t)),n._super(t)},postRender:function(){var t=this,e=t.settings;t._rendered=!0,t._super(),t.parent()||!e.width&&!e.height||(t.initLayoutRect(),t.repaint()),e.autofocus&&setTimeout(function(){t.focus()},0)},remove:function(){this._super(),n&&(n.remove(),n=null)}});return i}),i("tinymce/ui/Button",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{classes:"widget btn",role:"button"},init:function(t){var e,n=this;n.on("click mousedown",function(t){t.preventDefault()}),n._super(t),e=t.size,t.subtype&&n.addClass(t.subtype),e&&n.addClass("btn-"+e)},repaint:function(){var t=this.getEl().firstChild.style;t.width=t.height="100%",this._super()},renderHtml:function(){var t=this,e=t._id,n=t.classPrefix,i=t.settings.icon,r="";return t.settings.image&&(i="none",r=" style=\"background-image: url('"+t.settings.image+"')\""),i=t.settings.icon?n+"ico "+n+"i-"+i:"",'<div id="'+e+'" class="'+t.classes()+'" tabindex="-1">'+'<button role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+r+"></i>":"")+(t._text?(i?" ":"")+t.encode(t._text):"")+"</button>"+"</div>"}})}),i("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{defaultType:"button",role:"toolbar"},renderHtml:function(){var t=this,e=t._layout;return t.addClass("btn-group"),t.preRender(),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes()+'">'+'<div id="'+t._id+'-body">'+(t.settings.html||"")+e.renderHtml(t)+"</div>"+"</div>"}})}),i("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(t){var e=this;e._super(t),e.on("click mousedown",function(t){t.preventDefault()}),e.on("click",function(t){t.preventDefault(),e.disabled()||e.checked(!e.checked())}),e.checked(e.settings.checked)},checked:function(t){var e=this;return"undefined"!=typeof t?(t?e.addClass("checked"):e.removeClass("checked"),e._checked=t,e.aria("checked",t),e):e._checked},value:function(t){return this.checked(t)},renderHtml:function(){var t=this,e=t._id,n=t.classPrefix;return'<div id="'+e+'" class="'+t.classes()+'" unselectable="on" aria-labeledby="'+e+'-al" tabindex="-1">'+'<i class="'+n+"ico "+n+'i-checkbox"></i>'+'<span id="'+e+'-al" class="'+n+'label">'+t.encode(t._text)+"</span>"+"</div>"}})}),i("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(t,e){return t.extend({showPanel:function(){var t=this,n=t.settings;n.panel.popover=!0,n.panel.autohide=!0,t.active(!0),t.panel?t.panel.show():(t.panel=new e(n.panel).on("hide",function(){t.active(!1)}).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow()),t.panel.moveRel(t.getEl(),n.popoverAlign||"bc-tc")},hidePanel:function(){var t=this;t.panel&&t.panel.hide()},postRender:function(){var t=this;return t.on("click",function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():t.showPanel())}),t._super()}})}),i("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(t,e){var n=e.DOM;return t.extend({init:function(t){this._super(t),this.addClass("colorbutton")},color:function(t){return t?(this._color=t,this.getEl("preview").style.backgroundColor=t,this):this._color},renderHtml:function(){var t=this,e=t._id,n=t.classPrefix,i=t.settings.icon?n+"ico "+n+"i-"+t.settings.icon:"",r=t.settings.image?" style=\"background-image: url('"+t.settings.image+"')\"":"";return'<div id="'+e+'" class="'+t.classes()+'">'+'<button role="presentation" hidefocus type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+r+"></i>":"")+'<span id="'+e+'-preview" class="'+n+'preview"></span>'+(t._text?(i?" ":"")+t._text:"")+"</button>"+'<button type="button" class="'+n+'open" hidefocus tabindex="-1">'+' <i class="'+n+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var t=this,e=t.settings.onclick;return t.on("click",function(i){i.control!=t||n.getParent(i.target,"."+t.classPrefix+"open")||(i.stopImmediatePropagation(),e.call(t,i))}),delete t.settings.onclick,t._super()}})}),i("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(t,e){return t.extend({init:function(t){var n=this;n._super(t),n.addClass("combobox"),n.on("click",function(t){for(var e=t.target;e;)e.id&&-1!=e.id.indexOf("-open")&&n.fire("action"),e=e.parentNode}),n.on("keydown",function(t){"INPUT"==t.target.nodeName&&13==t.keyCode&&n.parents().reverse().each(function(e){return t.preventDefault(),n.fire("change"),e.submit?(e.submit(),!1):void 0})}),t.placeholder&&(n.addClass("placeholder"),n.on("focusin",function(){n._hasOnChange||(e.on(n.getEl("inp"),"change",function(){n.fire("change")}),n._hasOnChange=!0),n.hasClass("placeholder")&&(n.getEl("inp").value="",n.removeClass("placeholder"))}),n.on("focusout",function(){0===n.value().length&&(n.getEl("inp").value=t.placeholder,n.addClass("placeholder"))}))},value:function(t){var e=this;return"undefined"!=typeof t?(e._value=t,e.removeClass("placeholder"),e._rendered&&(e.getEl("inp").value=t),e):e._rendered?(t=e.getEl("inp").value,t!=e.settings.placeholder?t:""):e._value},disabled:function(t){var e=this;e._super(t),e._rendered&&(e.getEl("inp").disabled=t)},focus:function(){this.getEl("inp").focus()},repaint:function(){var t,n,i=this,r=i.getEl(),o=i.getEl("open"),a=i.layoutRect();t=o?a.w-o.offsetWidth-10:a.w-10;var s=document;return s.all&&(!s.documentMode||s.documentMode<=8)&&(n=i.layoutRect().h-2+"px"),e.css(r.firstChild,{width:t,lineHeight:n}),i._super(),i},postRender:function(){var t=this;return e.on(this.getEl("inp"),"change",function(){t.fire("change")}),t._super()},renderHtml:function(){var t,e,n=this,i=n._id,r=n.settings,o=n.classPrefix,a=r.value||r.placeholder||"",s="";return t=r.icon?o+"ico "+o+"i-"+r.icon:"",e=n._text,(t||e)&&(s='<div id="'+i+'-open" class="'+o+"btn "+o+'open" tabIndex="-1">'+'<button id="'+i+'-action" type="button" hidefocus tabindex="-1">'+(t?'<i class="'+t+'"></i>':'<i class="'+o+'caret"></i>')+(e?(t?" ":"")+e:"")+"</button>"+"</div>",n.addClass("has-open")),'<div id="'+i+'" class="'+n.classes()+'">'+'<input id="'+i+'-inp" class="'+o+"textbox "+o+'placeholder" value="'+a+'" hidefocus="true">'+s+"</div>"}})}),i("tinymce/ui/Path",["tinymce/ui/Control","tinymce/ui/KeyboardNavigation"],function(t,e){return t.extend({Defaults:{delimiter:"»"},init:function(t){var e=this;e._super(t),e.addClass("path"),e.canFocus=!0,e.on("click",function(t){var n,i=t.target;(n=i.getAttribute("data-index"))&&e.fire("select",{value:e.data()[n],index:n})})},focus:function(){var t=this;return t.keyNav=new e({root:t,enableLeftRight:!0}),t.keyNav.focusFirst(),t},data:function(t){var e=this;return"undefined"!=typeof t?(e._data=t,e.update(),e):e._data},update:function(){this.getEl().innerHTML=this._getPathHtml()},postRender:function(){var t=this;t._super(),t.data(t.settings.data)},renderHtml:function(){var t=this;return'<div id="'+t._id+'" class="'+t.classPrefix+'path">'+t._getPathHtml()+"</div>"},_getPathHtml:function(){var t,e,n=this,i=n._data||[],r="",o=n.classPrefix;for(t=0,e=i.length;e>t;t++)r+=(t>0?'<div class="'+o+'divider" aria-hidden="true"> '+n.settings.delimiter+" </div>":"")+'<div role="button" class="'+o+"path-item"+(t==e-1?" "+o+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+n._id+"-"+t+'">'+i[t].name+"</div>";return r||(r='<div class="'+o+'path-item">&nbsp;</div>'),r}})}),i("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(t,e){return t.extend({postRender:function(){function t(t){return 1===t.nodeType&&("BR"==t.nodeName||!!t.getAttribute("data-mce-bogus"))}var n=this,i=e.activeEditor;return n.on("select",function(e){var n,r=[],o=i.getBody();for(i.focus(),n=i.selection.getStart();n&&n!=o;)t(n)||r.push(n),n=n.parentNode;i.selection.select(r[r.length-1-e.index]),i.nodeChanged()}),i.on("nodeChange",function(e){for(var r=[],o=e.parents,a=o.length;a--;)if(1==o[a].nodeType&&!t(o[a])){var s=i.fire("ResolveName",{name:o[a].nodeName.toLowerCase(),target:o[a]});r.push({name:s.name})}n.data(r)}),n._super()}})}),i("tinymce/ui/FormItem",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var t=this,e=t._layout,n=t.classPrefix;return t.addClass("formitem"),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes()+'" hideFocus="1" tabIndex="-1">'+(t.settings.title?'<div id="'+t._id+'-title" class="'+n+'title">'+t.settings.title+"</div>":"")+'<div id="'+t._id+'-body" class="'+t.classes("body")+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div>"+"</div>"}})}),i("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem"],function(t,e){return t.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10},preRender:function(){var t=this,n=t.items();n.each(function(n){var i,r=n.settings.label;r&&(i=new e({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",text:r,flex:0,forId:n._id}]}),i.type="formitem","undefined"==typeof n.settings.flex&&(n.settings.flex=1),t.replace(n,i),i.add(n))})},recalcLabels:function(){var t,e,n=this,i=0,r=[];if(n.settings.labelGapCalc!==!1)for(n.items().filter("formitem").each(function(t){var e=t.items()[0],n=e.getEl().clientWidth;i=n>i?n:i,r.push(e)}),e=n.settings.labelGap||0,t=r.length;t--;)r[t].settings.minWidth=i+e},visible:function(t){var e=this._super(t);return t===!0&&this._rendered&&this.recalcLabels(),e},submit:function(){var t=this.getParentCtrl(document.activeElement);return t&&t.blur(),this.fire("submit",{data:this.toJSON()})},postRender:function(){var t=this;t._super(),t.recalcLabels(),t.fromJSON(t.settings.data)}})}),i("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(t){return t.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var t=this,e=t._layout,n=t.classPrefix;return t.preRender(),e.preRender(t),'<fieldset id="'+t._id+'" class="'+t.classes()+'" hideFocus="1" tabIndex="-1">'+(t.settings.title?'<legend id="'+t._id+'-title" class="'+n+'fieldset-title">'+t.settings.title+"</legend>":"")+'<div id="'+t._id+'-body" class="'+t.classes("body")+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div>"+"</fieldset>"}})}),i("tinymce/ui/FilePicker",["tinymce/ui/ComboBox"],function(t){return t.extend({init:function(t){var e,n=this,i=tinymce.activeEditor;t.spellcheck=!1,e=i.settings.file_browser_callback,e&&(t.icon="browse",t.onaction=function(){e(n.getEl("inp").id,n.getEl("inp").value,t.filetype,window)}),n._super(t)}})}),i("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e=t.layoutRect(),n=t.paddingBox();t.items().filter(":visible").each(function(t){t.layoutRect({x:n.left,y:n.top,w:e.innerW-n.right-n.left,h:e.innerH-n.top-n.bottom}),t.recalc&&t.recalc()})}})}),i("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e,n,i,r,o,a,s,l,u,c,d,f,h,p,g,m,v,y,b,x,_,w,C,k,E,S,M,T,N,A,R,D,H,L,F,B,P,j,O,z,$=[],I=Math.max,W=Math.min;for(i=t.items().filter(":visible"),r=t.layoutRect(),o=t._paddingBox,a=t.settings,f=a.direction,s=a.align,l=a.pack,u=a.spacing||0,("row-reversed"==f||"column-reverse"==f)&&(i=i.set(i.toArray().reverse()),f=f.split("-")[0]),"column"==f?(E="y",C="h",k="minH",S="maxH",T="innerH",M="top",N="bottom",A="deltaH",R="contentH",P="left",L="w",D="x",H="innerW",F="minW",B="maxW",j="right",O="deltaW",z="contentW"):(E="x",C="w",k="minW",S="maxW",T="innerW",M="left",N="right",A="deltaW",R="contentW",P="top",L="h",D="y",H="innerH",F="minH",B="maxH",j="bottom",O="deltaH",z="contentH"),d=r[T]-o[M]-o[M],w=c=0,e=0,n=i.length;n>e;e++)h=i[e],p=h.layoutRect(),g=h.settings,m=g.flex,d-=n-1>e?u:0,m>0&&(c+=m,p[S]&&$.push(h),p.flex=m),d-=p[k],v=o[P]+p[F]+o[j],v>w&&(w=v);if(x={},x[k]=0>d?r[k]-d+r[A]:r[T]-d+r[A],x[F]=w+r[O],x[R]=r[T]-d,x[z]=w,x.minW=W(x.minW,r.maxW),x.minH=W(x.minH,r.maxH),x.minW=I(x.minW,r.startMinWidth),x.minH=I(x.minH,r.startMinHeight),!r.autoResize||x.minW==r.minW&&x.minH==r.minH){for(b=d/c,e=0,n=$.length;n>e;e++)h=$[e],p=h.layoutRect(),y=p[S],v=p[k]+Math.ceil(p.flex*b),v>y?(d-=p[S]-p[k],c-=p.flex,p.flex=0,p.maxFlexSize=y):p.maxFlexSize=0;for(b=d/c,_=o[M],x={},0===c&&("end"==l?_=d+o[M]:"center"==l?(_=Math.round(r[T]/2-(r[T]-d)/2)+o[M],0>_&&(_=o[M])):"justify"==l&&(_=o[M],u=Math.floor(d/(i.length-1)))),x[D]=o[P],e=0,n=i.length;n>e;e++)h=i[e],p=h.layoutRect(),v=p.maxFlexSize||p[k],"center"===s?x[D]=Math.round(r[H]/2-p[L]/2):"stretch"===s?(x[L]=I(p[F]||0,r[H]-o[P]-o[j]),x[D]=o[P]):"end"===s&&(x[D]=r[H]-p[L]-o.top),p.flex>0&&(v+=Math.ceil(p.flex*b)),x[C]=v,x[E]=_,h.layoutRect(x),h.recalc&&h.recalc(),_+=v+u}else if(x.w=x.minW,x.h=x.minH,t.layoutRect(x),this.recalc(t),null===t._lastRect){var q=t.parent();q&&(q._lastRect=null,q.recalc())}}})}),i("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(t){return t.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(t){t.items().filter(":visible").each(function(t){t.recalc&&t.recalc()})}})}),i("tinymce/ui/FormatControls",["tinymce/ui/Factory","tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/EditorManager","tinymce/Env"],function(t,e,n,i,r,o,a){function s(t){function e(t){return t.replace(/%(\w+)/g,"")}var n,i,r,a,s=o.activeEditor,l=s.dom,u="";return a=s.settings.preview_styles,a===!1?"":(a||(a="font-family font-size font-weight text-decoration text-transform color background-color border border-radius"),(t=s.formatter.get(t))?(t=t[0],n=t.block||t.inline||"span",i=l.create(n),c(t.styles,function(t,n){t=e(t),t&&l.setStyle(i,n,t)
}),c(t.attributes,function(t,n){t=e(t),t&&l.setAttrib(i,n,t)}),c(t.classes,function(t){t=e(t),l.hasClass(i,t)||l.addClass(i,t)}),s.fire("PreviewFormats"),l.setStyles(i,{position:"absolute",left:-65535}),s.getBody().appendChild(i),r=l.getStyle(s.getBody(),"fontSize",!0),r=/px$/.test(r)?parseInt(r,10):0,c(a.split(" "),function(t){var e=l.getStyle(i,t,!0);if(!("background-color"==t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(e)&&(e=l.getStyle(s.getBody(),t,!0),"#ffffff"==l.toHex(e).toLowerCase())||"color"==t&&"#000000"==l.toHex(e).toLowerCase())){if("font-size"==t&&/em|%$/.test(e)){if(0===r)return;e=parseFloat(e,10)/(/%$/.test(e)?100:1),e=e*r+"px"}"border"==t&&e&&(u+="padding:0 2px;"),u+=t+":"+e+";"}}),s.fire("AfterPreviewFormats"),l.remove(i),u):void 0)}function l(t,e){return function(){var n=this;o.activeEditor.on("nodeChange",function(i){var r=o.activeEditor.formatter,a=null;c(i.parents,function(n){return c(t,function(t){return e?r.matchNode(n,e,{value:t.value})&&(a=t.value):r.matchNode(n,t.value)&&(a=t.value),a?!1:void 0}),a?!1:void 0}),n.value(a)})}}function u(t){t=t.split(";");for(var e=t.length;e--;)t[e]=t[e].split("=");return t}var c=r.each;e.translate=function(t){return o.translate(t)},n.tooltips=!a.iOS,o.on("AddEditor",function(e){function n(){function t(i){var r=[];if(i)return c(i,function(i){var o={text:i.title,icon:i.icon,preview:!0};if(i.items)o.menu=t(i.items);else{var a=i.format||"custom"+e++;i.format||(i.name=a,n.push(i)),o.textStyle=function(){return s(a)},o.onclick=function(){g(a)},o.onPostRender=function(){var t=this;t.parent().on("show",function(){t.disabled(!v.formatter.canApply(a)),t.active(v.formatter.match(a))})}}r.push(o)}),r}var e=0,n=[],i=[{title:"Headers",items:[{title:"Header 1",format:"h1"},{title:"Header 2",format:"h2"},{title:"Header 3",format:"h3"},{title:"Header 4",format:"h4"},{title:"Header 5",format:"h5"},{title:"Header 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];v.on("init",function(){c(n,function(t){v.formatter.register(t.name,t)})});var r=t(v.settings.style_formats||i);return r}function a(){return v.undoManager?v.undoManager.hasUndo():!1}function d(){return v.undoManager?v.undoManager.hasRedo():!1}function f(){var t=this;t.disabled(!a()),v.on("Undo Redo AddUndo TypingUndo",function(){t.disabled(!a())})}function h(){var t=this;t.disabled(!d()),v.on("Undo Redo AddUndo TypingUndo",function(){t.disabled(!d())})}function p(){var t=this;v.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(v.hasVisual)}function g(t){t.control&&(t=t.control.value()),t&&o.activeEditor.execCommand("mceToggleFormat",!1,t)}var m,v=e.editor;m=n(),c({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(t,e){v.addButton(e,{tooltip:t,onPostRender:function(){var t=this;v.formatter?v.formatter.formatChanged(e,function(e){t.active(e)}):v.on("init",function(){v.formatter.formatChanged(e,function(e){t.active(e)})})},onclick:function(){g(e)}})}),c({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(t,e){v.addButton(e,{tooltip:t[0],cmd:t[1]})}),c({blockquote:["Toggle blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bulleted list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(t,e){v.addButton(e,{tooltip:t[0],cmd:t[1],onPostRender:function(){var t=this;v.formatter?v.formatter.formatChanged(e,function(e){t.active(e)}):v.on("init",function(){v.formatter.formatChanged(e,function(e){t.active(e)})})}})}),v.addButton("undo",{tooltip:"Undo",onPostRender:f,cmd:"undo"}),v.addButton("redo",{tooltip:"Redo",onPostRender:h,cmd:"redo"}),v.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"}),v.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:f,cmd:"undo"}),v.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:h,cmd:"redo"}),v.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:p,cmd:"mceToggleVisualAid"}),c({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(t,e){v.addMenuItem(e,{text:t[0],icon:e,shortcut:t[2],cmd:t[1]})}),v.on("mousedown",function(){i.hideAll()}),t.add("styleselect",function(e){var n=[].concat(m);return t.create("menubutton",r.extend({text:"Formats",menu:n},e))}),t.add("formatselect",function(e){var n=[],i=u(v.settings.block_formats||"Paragraph=p;Address=address;Pre=pre;Header 1=h1;Header 2=h2;Header 3=h3;Header 4=h4;Header 5=h5;Header 6=h6");return c(i,function(t){n.push({text:{raw:t[0]},value:t[1],textStyle:function(){return s(t[1])}})}),t.create("listbox",r.extend({text:{raw:i[0][0]},values:n,fixedWidth:!0,onselect:g,onPostRender:l(n)},e))}),t.add("fontselect",function(e){var n="Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",i=[],a=u(v.settings.font_formats||n);return c(a,function(t){i.push({text:{raw:t[0]},value:t[1],textStyle:-1==t[1].indexOf("dings")?"font-family:"+t[1]:""})}),t.create("listbox",r.extend({text:"Font Family",tooltip:"Font Family",values:i,fixedWidth:!0,onPostRender:l(i,"fontname"),onselect:function(t){t.control.settings.value&&o.activeEditor.execCommand("FontName",!1,t.control.settings.value)}},e))}),t.add("fontsizeselect",function(e){var n=[],i="8pt 10pt 12pt 14pt 18pt 24pt 36pt",a=v.settings.fontsize_formats||i;return c(a.split(" "),function(t){n.push({text:t,value:t})}),t.create("listbox",r.extend({text:"Font Sizes",tooltip:"Font Sizes",values:n,fixedWidth:!0,onPostRender:l(n,"fontsize"),onclick:function(t){t.control.settings.value&&o.activeEditor.execCommand("FontSize",!1,t.control.settings.value)}},e))}),v.addMenuItem("formats",{text:"Formats",menu:m})})}),i("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e,n,i,r,o,a,s,l,u,c,d,f,h,p,g,m,v,y,b,x,_,w,C,k,E,S,M,T,N=t.settings,A=[],R=[];for(N=t.settings,i=t.items().filter(":visible"),r=t.layoutRect(),n=N.columns||Math.ceil(Math.sqrt(i.length)),e=Math.ceil(i.length/n),v=N.spacingH||N.spacing||0,y=N.spacingV||N.spacing||0,b=N.alignH||N.align,x=N.alignV||N.align,g=t._paddingBox,b&&"string"==typeof b&&(b=[b]),x&&"string"==typeof x&&(x=[x]),c=0;n>c;c++)A.push(0);for(d=0;e>d;d++)R.push(0);for(d=0;e>d;d++)for(c=0;n>c&&(u=i[d*n+c],u);c++)l=u.layoutRect(),C=l.minW,k=l.minH,A[c]=C>A[c]?C:A[c],R[d]=k>R[d]?k:R[d];for(M=r.innerW-g.left-g.right,_=0,c=0;n>c;c++)_+=A[c]+(c>0?v:0),M-=(c>0?v:0)+A[c];for(T=r.innerH-g.top-g.bottom,w=0,d=0;e>d;d++)w+=R[d]+(d>0?y:0),T-=(d>0?y:0)+R[d];if(_+=g.left+g.right,w+=g.top+g.bottom,s={},s.minW=_+(r.w-r.innerW),s.minH=w+(r.h-r.innerH),s.contentW=s.minW-r.deltaW,s.contentH=s.minH-r.deltaH,s.minW=Math.min(s.minW,r.maxW),s.minH=Math.min(s.minH,r.maxH),s.minW=Math.max(s.minW,r.startMinWidth),s.minH=Math.max(s.minH,r.startMinHeight),!r.autoResize||s.minW==r.minW&&s.minH==r.minH){r.autoResize&&(s=t.layoutRect(s),s.contentW=s.minW-r.deltaW,s.contentH=s.minH-r.deltaH);var D;D="start"==N.packV?0:T>0?Math.floor(T/e):0;var H=0,L=N.flexWidths;if(L)for(c=0;c<L.length;c++)H+=L[c];else H=n;var F=M/H;for(c=0;n>c;c++)A[c]+=L?Math.ceil(L[c]*F):F;for(h=g.top,d=0;e>d;d++){for(f=g.left,a=R[d]+D,c=0;n>c&&(u=i[d*n+c],u);c++)p=u.settings,l=u.layoutRect(),o=A[c],E=S=0,l.x=f,l.y=h,m=p.alignH||(b?b[c]||b[0]:null),"center"==m?l.x=f+o/2-l.w/2:"right"==m?l.x=f+o-l.w:"stretch"==m&&(l.w=o),m=p.alignV||(x?x[c]||x[0]:null),"center"==m?l.y=h+a/2-l.h/2:"bottom"==m?l.y=h+a-l.h:"stretch"==m&&(l.h=a),u.layoutRect(l),f+=o+v,u.recalc&&u.recalc();h+=a+y}}else if(s.w=s.minW,s.h=s.minH,t.layoutRect(s),this.recalc(t),null===t._lastRect){var B=t.parent();B&&(B._lastRect=null,B.recalc())}}})}),i("tinymce/ui/Iframe",["tinymce/ui/Widget"],function(t){return t.extend({renderHtml:function(){var t=this;return t.addClass("iframe"),t.canFocus=!1,'<iframe id="'+t._id+'" class="'+t.classes()+'" tabindex="-1" src="'+(t.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(t){this.getEl().src=t},html:function(t){return this.getEl().contentWindow.document.body.innerHTML=t,this}})}),i("tinymce/ui/Label",["tinymce/ui/Widget"],function(t){return t.extend({init:function(t){var e=this;e._super(t),e.addClass("widget"),e.addClass("label"),e.canFocus=!1,t.multiline&&e.addClass("autoscroll"),t.strong&&e.addClass("strong")},initLayoutRect:function(){var t=this,e=t._super();return t.settings.multiline&&(t.getEl().offsetWidth>e.maxW&&(e.minW=e.maxW,t.addClass("multiline")),t.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,t.getEl().offsetHeight)),e},disabled:function(t){var e,n=this;return t!==e&&(n.toggleClass("label-disabled",t),n._rendered&&(n.getEl()[0].className=n.classes())),n._super(t)},repaint:function(){var t=this;return t.settings.multiline||(t.getEl().style.lineHeight=t.layoutRect().h+"px"),t._super()},text:function(t){var e=this;return e._rendered&&t&&(e.getEl().innerHTML=e.encode(t)),e._super(t)},renderHtml:function(){var t=this,e=t.settings.forId;return'<label id="'+t._id+'" class="'+t.classes()+'"'+(e?' for="'+e:"")+'">'+t.encode(t._text)+"</label>"}})}),i("tinymce/ui/Toolbar",["tinymce/ui/Container","tinymce/ui/KeyboardNavigation"],function(t,e){return t.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(t){var e=this;e._super(t),e.addClass("toolbar")},postRender:function(){var t=this;return t.items().addClass("toolbar-item"),t.keyNav=new e({root:t,enableLeftRight:!0}),t._super()}})}),i("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(t){return t.extend({Defaults:{role:"menubar",containerCls:"menubar",defaults:{type:"menubutton"}}})}),i("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(t,e,n){function i(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1}var r=t.extend({init:function(t){var e=this;e._renderOpen=!0,e._super(t),e.addClass("menubtn"),t.fixedWidth&&e.addClass("fixed-width"),e.aria("haspopup",!0),e.hasPopup=!0},showMenu:function(){var t,n=this,i=n.settings;return n.menu&&n.menu.visible()?n.hideMenu():(n.menu||(t=i.menu||[],t.length?t={type:"menu",items:t}:t.type=t.type||"menu",n.menu=e.create(t).parent(n).renderTo(n.getContainerElm()),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(t){t.control===n.menu&&n.focus()}),n.menu.on("show hide",function(t){t.control==n.menu&&n.activeMenu("show"==t.type)}).fire("show"),n.aria("expanded",!0)),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),["bl-tl","tl-bl"]),void 0)},hideMenu:function(){var t=this;t.menu&&(t.menu.items().each(function(t){t.hideMenu&&t.hideMenu()}),t.menu.hide(),t.aria("expanded",!1))},activeMenu:function(t){this.toggleClass("active",t)},renderHtml:function(){var t=this,e=t._id,i=t.classPrefix,r=t.settings.icon?i+"ico "+i+"i-"+t.settings.icon:"";return t.aria("role",t.parent()instanceof n?"menuitem":"button"),'<div id="'+e+'" class="'+t.classes()+'" tabindex="-1">'+'<button id="'+e+'-open" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"></i>':"")+"<span>"+(t._text?(r?" ":"")+t.encode(t._text):"")+"</span>"+' <i class="'+i+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var t=this;return t.on("click",function(e){e.control===t&&i(e.target,t.getEl())&&(t.showMenu(),e.keyboard&&t.menu.items()[0].focus())}),t.on("mouseenter",function(e){var n,i=e.control,o=t.parent();i&&o&&i instanceof r&&i.parent()==o&&(o.items().filter("MenuButton").each(function(t){t.hideMenu&&t!=i&&(t.menu&&t.menu.visible()&&(n=!0),t.hideMenu())}),n&&(i.focus(),i.showMenu()))}),t._super()},text:function(t){var e,n,i=this;if(i._rendered)for(n=i.getEl("open").getElementsByTagName("span"),e=0;e<n.length;e++)n[e].innerHTML=i.encode(t);return this._super(t)},remove:function(){this._super(),this.menu&&this.menu.remove()}});return r}),i("tinymce/ui/ListBox",["tinymce/ui/MenuButton"],function(t){return t.extend({init:function(t){var e,n,i,r,o,a=this;if(a._values=e=t.values,e){for(n=0;n<e.length;n++)i=e[n].selected||t.value===e[n].value,i&&(r=r||e[n].text,a._value=e[n].value);t.menu=e}t.text=t.text||r||e[0].text,a._super(t),a.addClass("listbox"),a.on("select",function(e){var n=e.control;o&&(e.lastControl=o),t.multiple?n.active(!n.active()):a.value(e.control.settings.value),o=n})},value:function(t){function e(t,r){t.items().each(function(t){n=t.value()===r,n&&(i=i||t.text()),t.active(n),t.menu&&e(t.menu,r)})}var n,i,r,o,a=this;if("undefined"!=typeof t){if(a.menu)e(a.menu,t);else for(r=a.settings.menu,o=0;o<r.length;o++)n=r[o].value==t,n&&(i=i||r[o].text),r[o].active=n;a.text(i||this.settings.text)}return a._super(t)}})}),i("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory"],function(t,e){return t.extend({Defaults:{border:0,role:"menuitem"},init:function(t){var e=this;e.hasPopup=!0,e._super(t),t=e.settings,e.addClass("menu-item"),t.menu&&e.addClass("menu-item-expand"),t.preview&&e.addClass("menu-item-preview"),("-"===e._text||"|"===e._text)&&(e.addClass("menu-item-sep"),e.aria("role","separator"),e.canFocus=!1,e._text="-"),t.selectable&&(e.aria("role","menuitemcheckbox"),e.aria("checked",!0),e.addClass("menu-item-checkbox"),t.icon="selected"),e.on("mousedown",function(t){t.preventDefault()}),e.on("mouseenter click",function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.keyboard&&setTimeout(function(){e.menu.items()[0].focus()},0)):(e.parent().hideAll(),e.fire("cancel"),e.fire("select")))}),t.menu&&e.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,n=this,i=n.settings;if(n.parent().items().each(function(t){t!==n&&t.hideMenu()}),i.menu){t=n.menu,t?t.show():(t=i.menu,t.length?t={type:"menu",items:t}:t.type=t.type||"menu",t=n.menu=e.create(t).parent(n).renderTo(n.getContainerElm()),t.reflow(),t.fire("show"),t.on("cancel",function(){n.focus()}),t.on("hide",function(e){e.control===t&&n.removeClass("selected")})),t._parentMenu=n.parent(),t.addClass("menu-sub");var r=t.testMoveRel(n.getEl(),["tr-tl","br-bl","tl-tr","bl-br"]);t.moveRel(n.getEl(),r),r="menu-sub-"+r,t.removeClass(t._lastRel),t.addClass(r),t._lastRel=r,n.addClass("selected"),n.aria("expanded",!0)}},hideMenu:function(){var t=this;return t.menu&&(t.menu.items().each(function(t){t.hideMenu&&t.hideMenu()}),t.menu.hide(),t.aria("expanded",!1)),t},renderHtml:function(){var t=this,e=t._id,n=t.settings,i=t.classPrefix,r=t.encode(t._text),o=t.settings.icon;return o&&t.parent().addClass("menu-has-icons"),o=i+"ico "+i+"i-"+(t.settings.icon||"none"),'<div id="'+e+'" class="'+t.classes()+'" tabindex="-1">'+("-"!==r?'<i class="'+o+'"></i>&nbsp;':"")+("-"!==r?'<span id="'+e+'-text" class="'+i+'text">'+r+"</span>":"")+(n.shortcut?'<div id="'+e+'-shortcut" class="'+i+'menu-shortcut">'+n.shortcut+"</div>":"")+(n.menu?'<div class="'+i+'caret"></div>':"")+"</div>"},postRender:function(){var t=this,e=t.settings,n=e.textStyle;if("function"==typeof n&&(n=n()),n){var i=t.getEl("text");i&&i.setAttribute("style",n)}return t._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),i("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/KeyboardNavigation","tinymce/ui/MenuItem"],function(t,e,n){var i=t.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"menu"},init:function(t){var i=this;t.autohide=!0,t.constrainToViewport=!0,i._super(t),i.addClass("menu"),i.keyNav=new e({root:i,enableUpDown:!0,enableLeftRight:!0,leftAction:function(){i.parent()instanceof n&&i.keyNav.cancel()},onCancel:function(){i.fire("cancel",{},!1),i.hide()}})},repaint:function(){return this.toggleClass("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var t=this;t.hideAll(),t.fire("cancel"),t.fire("select")},hideAll:function(){var t=this;return this.find("menuitem").exec("hideMenu"),t._super()},preRender:function(){var t=this;return t.items().each(function(e){var n=e.settings;return n.icon||n.selectable?(t._hasIcons=!0,!1):void 0}),t._super()}});return i}),i("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(t){return t.extend({Defaults:{classes:"radio",role:"radio"}})}),i("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(t,e){return t.extend({renderHtml:function(){var t=this,e=t.classPrefix;return t.addClass("resizehandle"),"both"==t.settings.direction&&t.addClass("resizehandle-both"),t.canFocus=!1,'<div id="'+t._id+'" class="'+t.classes()+'">'+'<i class="'+e+"ico "+e+'i-resize"></i>'+"</div>"},postRender:function(){var t=this;t._super(),t.resizeDragHelper=new e(this._id,{start:function(){t.fire("ResizeStart")},drag:function(e){"both"!=t.settings.direction&&(e.deltaX=0),t.fire("Resize",e)},end:function(){t.fire("ResizeEnd")}})}})}),i("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(t){return t.extend({renderHtml:function(){var t=this;return t.addClass("spacer"),t.canFocus=!1,'<div id="'+t._id+'" class="'+t.classes()+'"></div>'}})}),i("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/dom/DOMUtils"],function(t,e){var n=e.DOM;return t.extend({Defaults:{classes:"widget btn splitbtn",role:"splitbutton"},repaint:function(){var t,e,i,r=this,o=r.getEl(),a=r.layoutRect();return r._super(),t=o.firstChild,e=o.lastChild,n.css(t,{width:a.w-e.offsetWidth,height:a.h-2}),n.css(e,{height:a.h-2}),i=t.firstChild.style,i.width=i.height="100%",i=e.firstChild.style,i.width=i.height="100%",r},activeMenu:function(t){var e=this;n.toggleClass(e.getEl().lastChild,e.classPrefix+"active",t)},renderHtml:function(){var t=this,e=t._id,n=t.classPrefix,i=t.settings.icon?n+"ico "+n+"i-"+t.settings.icon:"";return'<div id="'+e+'" class="'+t.classes()+'">'+'<button type="button" hidefocus tabindex="-1">'+(i?'<i class="'+i+'"></i>':"")+(t._text?(i?" ":"")+t._text:"")+"</button>"+'<button type="button" class="'+n+'open" hidefocus tabindex="-1">'+(t._menuBtnText?(i?" ":"")+t._menuBtnText:"")+' <i class="'+n+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var t=this,e=t.settings.onclick;return t.on("click",function(t){t.control!=this||n.getParent(t.target,"."+this.classPrefix+"open")||(t.stopImmediatePropagation(),e.call(this,t))}),delete t.settings.onclick,t._super()}})}),i("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(t){return t.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})}),i("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/ui/DomUtils"],function(t,e){"use stict";return t.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(t){this.activeTabId&&e.removeClass(this.getEl(this.activeTabId),this.classPrefix+"active"),this.activeTabId="t"+t,e.addClass(this.getEl("t"+t),this.classPrefix+"active"),t!=this.lastIdx&&(this.items()[this.lastIdx].hide(),this.lastIdx=t),this.items()[t].show().fire("showtab"),this.reflow()},renderHtml:function(){var t=this,e=t._layout,n="",i=t.classPrefix;return t.preRender(),e.preRender(t),t.items().each(function(e,r){n+='<div id="'+t._id+"-t"+r+'" class="'+i+'tab" unselectable="on">'+t.encode(e.settings.title)+"</div>"}),'<div id="'+t._id+'" class="'+t.classes()+'" hideFocus="1" tabIndex="-1">'+'<div id="'+t._id+'-head" class="'+i+'tabs">'+n+"</div>"+'<div id="'+t._id+'-body" class="'+t.classes("body")+'">'+e.renderHtml(t)+"</div>"+"</div>"},postRender:function(){var t=this;t._super(),t.settings.activeTab=t.settings.activeTab||0,t.activateTab(t.settings.activeTab),this.on("click",function(e){var n=e.target.parentNode;if(e.target.parentNode.id==t._id+"-head")for(var i=n.childNodes.length;i--;)n.childNodes[i]==e.target&&t.activateTab(i)})},initLayoutRect:function(){var t,e,n,i=this;e=n=0,i.items().each(function(t,r){e=Math.max(e,t.layoutRect().minW),n=Math.max(n,t.layoutRect().minH),i.settings.activeTab!=r&&t.hide()}),i.items().each(function(t){t.settings.x=0,t.settings.y=0,t.settings.w=e,t.settings.h=n,t.layoutRect({x:0,y:0,w:e,h:n})});var r=i.getEl("head").offsetHeight;return i.settings.minWidth=e,i.settings.minHeight=n+r,t=i._super(),t.deltaH+=i.getEl("head").offsetHeight,t.innerH=t.h-t.deltaH,t}})}),i("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(t,e){return t.extend({init:function(t){var e=this;e._super(t),e._value=t.value||"",e.addClass("textbox"),t.multiline?e.addClass("multiline"):e.on("keydown",function(t){13==t.keyCode&&e.parents().reverse().each(function(e){return t.preventDefault(),e.submit?(e.submit(),!1):void 0})})},value:function(t){var e=this;return"undefined"!=typeof t?(e._value=t,e._rendered&&(e.getEl().value=t),e):e._rendered?e.getEl().value:e._value},repaint:function(){var t,e,n,i,r=this,o=0,a=0;t=r.getEl().style,e=r._layoutRect,i=r._lastRepaintRect||{};var s=document;return!r.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(t.lineHeight=e.h-a+"px"),n=r._borderBox,o=n.left+n.right+8,a=n.top+n.bottom+(r.settings.multiline?8:0),e.x!==i.x&&(t.left=e.x+"px",i.x=e.x),e.y!==i.y&&(t.top=e.y+"px",i.y=e.y),e.w!==i.w&&(t.width=e.w-o+"px",i.w=e.w),e.h!==i.h&&(t.height=e.h-a+"px",i.h=e.h),r._lastRepaintRect=i,r.fire("repaint",{},!1),r},renderHtml:function(){var t=this,e=t._id,n=t.settings,i=t.encode(t._value,!1),r="";return"spellcheck"in n&&(r+=' spellcheck="'+n.spellcheck+'"'),n.maxLength&&(r+=' maxlength="'+n.maxLength+'"'),n.size&&(r+=' size="'+n.size+'"'),n.subtype&&(r+=' type="'+n.subtype+'"'),n.multiline?'<textarea id="'+e+'" class="'+t.classes()+'" '+(n.rows?' rows="'+n.rows+'"':"")+' hidefocus="true"'+r+">"+i+"</textarea>":'<input id="'+e+'" class="'+t.classes()+'" value="'+i+'" hidefocus="true"'+r+">"},postRender:function(){var t=this;return e.on(t.getEl(),"change",function(e){t.fire("change",e)}),t._super()}})}),i("tinymce/ui/Throbber",["tinymce/ui/DomUtils"],function(t){return function(e){var n,i=this;i.show=function(r){return i.hide(),n=!0,window.setTimeout(function(){n&&e.appendChild(t.createFragment('<div class="mce-throbber"></div>'))},r||0),i},i.hide=function(){var t=e.lastChild;return t&&-1!=t.className.indexOf("throbber")&&t.parentNode.removeChild(t),n=!1,i}}}),o(["tinymce/dom/Sizzle","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/util/Tools","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/dom/TridentSelection","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/Selection","tinymce/dom/RangeUtils","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/KeyboardNavigation","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/util/Quirks","tinymce/util/Observable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/LegacyInput","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/ui/ComboBox","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/ListBox","tinymce/ui/MenuItem","tinymce/ui/Menu","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox","tinymce/ui/Throbber"])}(this),!function(t){function e(){function e(t){"remove"===t&&this.each(function(t,e){var n=r(e);n&&n.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(t,e){var n=tinymce.get(e.id.replace(/_parent$/,""));n&&n.remove()})}function i(t){var n,i=this;if(null!=t)e.call(i),i.each(function(e,n){var i;(i=tinymce.get(n.id))&&i.setContent(t)});else if(i.length>0&&(n=tinymce.get(i[0].id)))return n.getContent()}function r(t){var e=null;return t&&t.id&&o.tinymce&&(e=tinymce.get(t.id)),e}function a(t){return!!(t&&t.length&&o.tinymce&&t.is(":tinymce"))}var s={};t.each(["text","html","val"],function(e,o){var l=s[o]=t.fn[o],u="text"===o;t.fn[o]=function(e){var o=this;if(!a(o))return l.apply(o,arguments);if(e!==n)return i.call(o.filter(":tinymce"),e),l.apply(o.not(":tinymce"),arguments),o;var s="",c=arguments;return(u?o:o.eq(0)).each(function(e,n){var i=r(n);s+=i?u?i.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):i.getContent({save:!0}):l.apply(t(n),c)}),s}}),t.each(["append","prepend"],function(e,i){var o=s[i]=t.fn[i],l="prepend"===i;t.fn[i]=function(t){var e=this;return a(e)?t!==n?(e.filter(":tinymce").each(function(e,n){var i=r(n);i&&i.setContent(l?t+i.getContent():i.getContent()+t)}),o.apply(e.not(":tinymce"),arguments),e):void 0:o.apply(e,arguments)}}),t.each(["remove","replaceWith","replaceAll","empty"],function(n,i){var r=s[i]=t.fn[i];t.fn[i]=function(){return e.call(this,i),r.apply(this,arguments)}}),s.attr=t.fn.attr,t.fn.attr=function(e,o){var l=this,u=arguments;if(!e||"value"!==e||!a(l))return o!==n?s.attr.apply(l,u):s.attr.apply(l,u);if(o!==n)return i.call(l.filter(":tinymce"),o),s.attr.apply(l.not(":tinymce"),u),l;var c=l[0],d=r(c);return d?d.getContent({save:!0}):s.attr.apply(t(c),u)}}var n,i,r=[],o=window;t.fn.tinymce=function(n){function a(){var i=[],r=0;e&&(e(),e=null),c.each(function(t,e){var o,a=e.id,s=n.oninit;a||(e.id=a=tinymce.DOM.uniqueId()),tinymce.get(a)||(o=new tinymce.Editor(a,n,tinymce.EditorManager),i.push(o),o.on("init",function(){var t,e=s;c.css("visibility",""),s&&++r==i.length&&("string"==typeof e&&(t=-1===e.indexOf(".")?null:tinymce.resolve(e.replace(/\.\w+$/,"")),e=tinymce.resolve(e)),e.apply(t||tinymce,i))}))}),t.each(i,function(t,e){e.render()})}var s,l,u,c=this,d="";if(!c.length)return c;if(!n)return tinymce.get(c[0].id);if(c.css("visibility","hidden"),o.tinymce||i||!(s=n.script_url))1===i?r.push(a):a();else{i=1,l=s.substring(0,s.lastIndexOf("/")),-1!=s.indexOf(".min")&&(d=".min"),o.tinymce=o.tinyMCEPreInit||{base:l,suffix:d},-1!=s.indexOf("gzip")&&(u=n.language||"en",s=s+(/\?/.test(s)?"&":"?")+"js=true&core=true&suffix="+escape(d)+"&themes="+escape(n.theme)+"&plugins="+escape(n.plugins)+"&languages="+u,o.tinyMCE_GZ||(o.tinyMCE_GZ={start:function(){function e(t){tinymce.ScriptLoader.markDone(tinymce.baseURI.toAbsolute(t))}e("langs/"+u+".js"),e("themes/"+n.theme+"/theme"+d+".js"),e("themes/"+n.theme+"/langs/"+u+".js"),t.each(n.plugins.split(","),function(t,n){n&&(e("plugins/"+n+"/plugin"+d+".js"),e("plugins/"+n+"/langs/"+u+".js"))})},end:function(){}}));var f=document.createElement("script");f.type="text/javascript",f.onload=f.onreadystatechange=function(e){e=e||event,("load"==e.type||/complete|loaded/.test(f.readyState))&&(tinymce.dom.Event.domLoaded=1,i=2,n.script_loaded&&n.script_loaded(),a(),t.each(r,function(t,e){e()}))},f.src=s,document.body.appendChild(f)}return c},t.extend(t.expr[":"],{tinymce:function(t){return!!(t.id&&"tinymce"in window&&tinymce.get(t.id))}})}(jQuery),d3=function(){function t(t){return null!=t&&!isNaN(t)}function e(t){return t.length}function n(t){for(var e=1;t*e%1;)e*=10;return e}function i(t,e){try{for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}catch(i){t.prototype=e}}function r(){}function o(){}function a(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function s(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var n=0,i=La.length;i>n;++n){var r=La[n]+e;if(r in t)return r}}function l(){}function u(){}function c(t){function e(){for(var e,i=n,r=-1,o=i.length;++r<o;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new r;return e.on=function(e,r){var o,a=i.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function d(){ya.event.preventDefault()}function f(){for(var t,e=ya.event;t=e.sourceEvent;)e=t;return e}function h(t){for(var e=new u,n=0,i=arguments.length;++n<i;)e[arguments[n]]=c(e);return e.of=function(n,i){return function(r){try{var o=r.sourceEvent=ya.event;r.target=t,ya.event=r,e[r.type].apply(n,i)}finally{ya.event=o}}},e}function p(t){return Ba(t,$a),t}function g(t){return"function"==typeof t?t:function(){return Pa(t,this)}}function m(t){return"function"==typeof t?t:function(){return ja(t,this)}}function v(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ya.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?s:a:t.local?o:r}function y(t){return t.trim().replace(/\s+/g," ")}function b(t){return new RegExp("(?:^|\\s+)"+ya.requote(t)+"(?:\\s+|$)","g")}function x(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=t.trim().split(/\s+/).map(_);var r=t.length;return"function"==typeof e?i:n}function _(t){var e=b(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",y(r+" "+t))):n.setAttribute("class",y(r.replace(e," ")))}}function w(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function o(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?o:r}function C(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function k(t){return"function"==typeof t?t:(t=ya.ns.qualify(t)).local?function(){return _a.createElementNS(t.space,t.local)
}:function(){return _a.createElementNS(this.namespaceURI,t)}}function E(t){return{__data__:t}}function S(t){return function(){return za(this,t)}}function M(t){return arguments.length||(t=ya.ascending),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function T(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,o=t[n],a=0,s=o.length;s>a;a++)(r=o[a])&&e(r,a,n);return t}function N(t){return Ba(t,Wa),t}function A(t){var e,n;return function(i,r,o){var a,s=t[o].update,l=s.length;for(o!=n&&(n=o,e=0),r>=e&&(e=r+1);!(a=s[e])&&++e<l;);return a}}function R(){var t=this.__transition__;t&&++t.active}function D(t,e,n){function i(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function r(){var r=u(e,xa(arguments));i.call(this),this.addEventListener(t,this[a]=r,r.$=n),r._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+ya.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var a="__on"+t,s=t.indexOf("."),u=H;s>0&&(t=t.substring(0,s));var c=Ua.get(t);return c&&(t=c,u=L),s?e?r:i:e?l:o}function H(t,e){return function(n){var i=ya.event;ya.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ya.event=i}}}function L(t,e){var n=H(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function F(){var t=".dragsuppress-"+ ++Xa,e="touchmove"+t,n="selectstart"+t,i="dragstart"+t,r="click"+t,o=ya.select(Ca).on(e,d).on(n,d).on(i,d),a=wa.style,s=a[Va];return a[Va]="none",function(e){function n(){o.on(r,null)}o.on(t,null),a[Va]=s,e&&(o.on(r,function(){d(),n()},!0),setTimeout(n,0))}}function B(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(0>Ya&&(Ca.scrollX||Ca.scrollY)){n=ya.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var r=n[0][0].getScreenCTM();Ya=!(r.f||r.e),n.remove()}return Ya?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function P(t){return t>0?1:0>t?-1:0}function j(t){return t>1?0:-1>t?Ka:Math.acos(t)}function O(t){return t>1?Ka/2:-1>t?-Ka/2:Math.asin(t)}function z(t){return(Math.exp(t)-Math.exp(-t))/2}function $(t){return(Math.exp(t)+Math.exp(-t))/2}function I(t){return z(t)/$(t)}function W(t){return(t=Math.sin(t/2))*t}function q(){}function U(t,e,n){return new V(t,e,n)}function V(t,e,n){this.h=t,this.s=e,this.l=n}function X(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(a-o)*t/60:180>t?a:240>t?o+(a-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+e):n+e-n*e,o=2*n-a,ae(r(t+120),r(t),r(t-120))}function Y(t,e,n){return new K(t,e,n)}function K(t,e,n){this.h=t,this.c=e,this.l=n}function Z(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),G(n,Math.cos(t*=Ja)*e,Math.sin(t)*e)}function G(t,e,n){return new J(t,e,n)}function J(t,e,n){this.l=t,this.a=e,this.b=n}function Q(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return r=ee(r)*us,i=ee(i)*cs,o=ee(o)*ds,ae(ie(3.2404542*r-1.5371385*i-.4985314*o),ie(-.969266*r+1.8760108*i+.041556*o),ie(.0556434*r-.2040259*i+1.0572252*o))}function te(t,e,n){return t>0?Y(Math.atan2(n,e)*Qa,Math.sqrt(e*e+n*n),t):Y(0/0,0/0,t)}function ee(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ne(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ie(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function re(t){return ae(t>>16,255&t>>8,255&t)}function oe(t){return re(t)+""}function ae(t,e,n){return new se(t,e,n)}function se(t,e,n){this.r=t,this.g=e,this.b=n}function le(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ue(t,e,n){var i,r,o,a=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/i.exec(t))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(he(r[0]),he(r[1]),he(r[2]))}return(o=ps.get(t))?e(o.r,o.g,o.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(a=t.charAt(1),a+=a,s=t.charAt(2),s+=s,l=t.charAt(3),l+=l):7===t.length&&(a=t.substring(1,3),s=t.substring(3,5),l=t.substring(5,7)),a=parseInt(a,16),s=parseInt(s,16),l=parseInt(l,16)),e(a,s,l))}function ce(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,l=(a+o)/2;return s?(r=.5>l?s/(a+o):s/(2-a-o),i=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=0/0,r=l>0&&1>l?0:i),U(i,r,l)}function de(t,e,n){t=fe(t),e=fe(e),n=fe(n);var i=ne((.4124564*t+.3575761*e+.1804375*n)/us),r=ne((.2126729*t+.7151522*e+.072175*n)/cs),o=ne((.0193339*t+.119192*e+.9503041*n)/ds);return G(116*r-16,500*(i-r),200*(r-o))}function fe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function he(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function pe(t){return"function"==typeof t?t:function(){return t}}function ge(t){return t}function me(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),ve(e,n,t,i)}}function ve(t,e,n,i){function r(){var t,e=l.status;if(!e&&l.responseText||e>=200&&300>e||304===e){try{t=n.call(o,l)}catch(i){return a.error.call(o,i),void 0}a.load.call(o,t)}else a.error.call(o,l)}var o={},a=ya.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!Ca.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(t){var e=ya.event;ya.event=t;try{a.progress.call(o,l)}finally{ya.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(xa(arguments)))}}),o.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),a.beforesend.call(o,l),l.send(null==i?null:i),o},o.abort=function(){return l.abort(),o},ya.rebind(o,a,"on"),null==i?o:o.get(ye(i))}function ye(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function be(){var t=_e(),e=we()-t;e>24?(isFinite(e)&&(clearTimeout(ys),ys=setTimeout(be,e)),vs=0):(vs=1,xs(be))}function xe(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now()),bs.callback=t,bs.time=n+e}function _e(){var t=Date.now();for(bs=gs;bs;)t>=bs.time&&(bs.flush=bs.callback(t-bs.time)),bs=bs.next;return t}function we(){for(var t,e=gs,n=1/0;e;)e.flush?e=t?t.next=e.next:gs=e.next:(e.time<n&&(n=e.time),e=(t=e).next);return ms=t,n}function Ce(t,e){var n=Math.pow(10,3*Math.abs(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function ke(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ee(t){return t+""}function Se(){}function Me(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function Te(t,e){t&&Ds.hasOwnProperty(t.type)&&Ds[t.type](t,e)}function Ne(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Ae(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Ne(t[n],e,1);e.polygonEnd()}function Re(){function t(t,e){t*=Ja,e=e*Ja/2+Ka/4;var n=t-i,a=Math.cos(e),s=Math.sin(e),l=o*s,u=r*a+l*Math.cos(n),c=l*Math.sin(n);Ls.add(Math.atan2(c,u)),i=t,r=a,o=s}var e,n,i,r,o;Fs.point=function(a,s){Fs.point=t,i=(e=a)*Ja,r=Math.cos(s=(n=s)*Ja/2+Ka/4),o=Math.sin(s)},Fs.lineEnd=function(){t(e,n)}}function De(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function He(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Le(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Fe(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Be(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Pe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function je(t){return[Math.atan2(t[1],t[0]),O(t[2])]}function Oe(t,e){return Math.abs(t[0]-e[0])<Za&&Math.abs(t[1]-e[1])<Za}function ze(t,e){t*=Ja;var n=Math.cos(e*=Ja);$e(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function $e(t,e,n){++Bs,js+=(t-js)/Bs,Os+=(e-Os)/Bs,zs+=(n-zs)/Bs}function Ie(){function t(t,r){t*=Ja;var o=Math.cos(r*=Ja),a=o*Math.cos(t),s=o*Math.sin(t),l=Math.sin(r),u=Math.atan2(Math.sqrt((u=n*l-i*s)*u+(u=i*a-e*l)*u+(u=e*s-n*a)*u),e*a+n*s+i*l);Ps+=u,$s+=u*(e+(e=a)),Is+=u*(n+(n=s)),Ws+=u*(i+(i=l)),$e(e,n,i)}var e,n,i;Xs.point=function(r,o){r*=Ja;var a=Math.cos(o*=Ja);e=a*Math.cos(r),n=a*Math.sin(r),i=Math.sin(o),Xs.point=t,$e(e,n,i)}}function We(){Xs.point=ze}function qe(){function t(t,e){t*=Ja;var n=Math.cos(e*=Ja),a=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=r*l-o*s,c=o*a-i*l,d=i*s-r*a,f=Math.sqrt(u*u+c*c+d*d),h=i*a+r*s+o*l,p=f&&-j(h)/f,g=Math.atan2(f,h);qs+=p*u,Us+=p*c,Vs+=p*d,Ps+=g,$s+=g*(i+(i=a)),Is+=g*(r+(r=s)),Ws+=g*(o+(o=l)),$e(i,r,o)}var e,n,i,r,o;Xs.point=function(a,s){e=a,n=s,Xs.point=t,a*=Ja;var l=Math.cos(s*=Ja);i=l*Math.cos(a),r=l*Math.sin(a),o=Math.sin(s),$e(i,r,o)},Xs.lineEnd=function(){t(e,n),Xs.lineEnd=We,Xs.point=ze}}function Ue(){return!0}function Ve(t,e,n,i,r){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(Oe(n,i)){r.lineStart();for(var s=0;e>s;++s)r.point((n=t[s])[0],n[1]);return r.lineEnd(),void 0}var l={point:n,points:t,other:null,visited:!1,entry:!0,subject:!0},u={point:n,points:[n],other:l,visited:!1,entry:!1,subject:!1};l.other=u,o.push(l),a.push(u),l={point:i,points:[i],other:null,visited:!1,entry:!1,subject:!0},u={point:i,points:[i],other:l,visited:!1,entry:!0,subject:!1},l.other=u,o.push(l),a.push(u)}}),a.sort(e),Xe(o),Xe(a),o.length){if(n)for(var s=1,l=!n(a[0].point),u=a.length;u>s;++s)a[s].entry=l=!l;for(var c,d,f,h=o[0];;){for(c=h;c.visited;)if((c=c.next)===h)return;d=c.points,r.lineStart();do{if(c.visited=c.other.visited=!0,c.entry){if(c.subject)for(var s=0;s<d.length;s++)r.point((f=d[s])[0],f[1]);else i(c.point,c.next.point,1,r);c=c.next}else{if(c.subject){d=c.prev.points;for(var s=d.length;--s>=0;)r.point((f=d[s])[0],f[1])}else i(c.point,c.prev.point,-1,r);c=c.prev}c=c.other,d=c.points}while(!c.visited);r.lineEnd()}}}function Xe(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.next=n=t[i],n.prev=r,r=n;r.next=n=t[0],n.prev=r}}function Ye(t,e,n,i){return function(r){function o(e,n){t(e,n)&&r.point(e,n)}function a(t,e){g.point(t,e)}function s(){m.point=a,g.lineStart()}function l(){m.point=o,g.lineEnd()}function u(t,e){y.point(t,e),p.push([t,e])}function c(){y.lineStart(),p=[]}function d(){u(p[0][0],p[0][1]),y.lineEnd();var t,e=y.clean(),n=v.buffer(),i=n.length;if(p.pop(),h.push(p),p=null,i){if(1&e){t=n[0];var o,i=t.length-1,a=-1;for(r.lineStart();++a<i;)r.point((o=t[a])[0],o[1]);return r.lineEnd(),void 0}i>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter(Ke))}}var f,h,p,g=e(r),m={point:o,lineStart:s,lineEnd:l,polygonStart:function(){m.point=u,m.lineStart=c,m.lineEnd=d,f=[],h=[],r.polygonStart()},polygonEnd:function(){m.point=o,m.lineStart=s,m.lineEnd=l,f=ya.merge(f),f.length?Ve(f,Ge,null,n,r):i(h)&&(r.lineStart(),n(null,null,1,r),r.lineEnd()),r.polygonEnd(),f=h=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}},v=Ze(),y=e(v);return m}}function Ke(t){return t.length>1}function Ze(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:l,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ge(t,e){return((t=t.point)[0]<0?t[1]-Ka/2-Za:Ka/2-t[1])-((e=e.point)[0]<0?e[1]-Ka/2-Za:Ka/2-e[1])}function Je(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=!1,s=!1,l=0;Ls.reset();for(var u=0,c=e.length;c>u;++u){var d=e[u],f=d.length;if(f){for(var h=d[0],p=h[0],g=h[1]/2+Ka/4,m=Math.sin(g),v=Math.cos(g),y=1;;){y===f&&(y=0),t=d[y];var b=t[0],x=t[1]/2+Ka/4,_=Math.sin(x),w=Math.cos(x),C=b-p,k=Math.abs(C)>Ka,E=m*_;if(Ls.add(Math.atan2(E*Math.sin(C),v*w+E*Math.cos(C))),Math.abs(x)<Za&&(s=!0),o+=k?C+(C>=0?2:-2)*Ka:C,k^p>=n^b>=n){var S=Le(De(h),De(t));Pe(S);var M=Le(r,S);Pe(M);var T=(k^C>=0?-1:1)*O(M[2]);i>T&&(l+=k^C>=0?1:-1)}if(!y++)break;p=b,m=_,v=w,h=t}Math.abs(o)>Za&&(a=!0)}}return(!s&&!a&&0>Ls||-Za>o)^1&l}function Qe(t){var e,n=0/0,i=0/0,r=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ka:-Ka,l=Math.abs(o-n);Math.abs(l-Ka)<Za?(t.point(n,i=(i+a)/2>0?Ka/2:-Ka/2),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&l>=Ka&&(Math.abs(n-r)<Za&&(n-=r*Za),Math.abs(o-s)<Za&&(o-=s*Za),i=tn(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=0/0},clean:function(){return 2-e}}}function tn(t,e,n,i){var r,o,a=Math.sin(t-n);return Math.abs(a)>Za?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*a)):(e+i)/2}function en(t,e,n,i){var r;if(null==t)r=n*Ka/2,i.point(-Ka,r),i.point(0,r),i.point(Ka,r),i.point(Ka,0),i.point(Ka,-r),i.point(0,-r),i.point(-Ka,-r),i.point(-Ka,0),i.point(-Ka,r);else if(Math.abs(t[0]-e[0])>Za){var o=(t[0]<e[0]?1:-1)*Ka;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function nn(t){return Je(Ks,t)}function rn(t){function e(t,e){return Math.cos(t)*Math.cos(e)>a}function n(t){var n,o,a,l,c;return{lineStart:function(){l=a=!1,c=1},point:function(d,f){var h,p=[d,f],g=e(d,f),m=s?g?0:r(d,f):g?r(d+(0>d?Ka:-Ka),f):0;if(!n&&(l=a=g)&&t.lineStart(),g!==a&&(h=i(n,p),(Oe(n,h)||Oe(p,h))&&(p[0]+=Za,p[1]+=Za,g=e(p[0],p[1]))),g!==a)c=0,g?(t.lineStart(),h=i(p,n),t.point(h[0],h[1])):(h=i(n,p),t.point(h[0],h[1]),t.lineEnd()),n=h;else if(u&&n&&s^g){var v;m&o||!(v=i(p,n,!0))||(c=0,s?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&Oe(n,p)||t.point(p[0],p[1]),n=p,a=g,o=m},lineEnd:function(){a&&t.lineEnd(),n=null},clean:function(){return c|(l&&a)<<1}}}function i(t,e,n){var i=De(t),r=De(e),o=[1,0,0],s=Le(i,r),l=He(s,s),u=s[0],c=l-u*u;if(!c)return!n&&t;var d=a*l/c,f=-a*u/c,h=Le(o,s),p=Be(o,d),g=Be(s,f);Fe(p,g);var m=h,v=He(p,m),y=He(m,m),b=v*v-y*(He(p,p)-1);if(!(0>b)){var x=Math.sqrt(b),_=Be(m,(-v-x)/y);if(Fe(_,p),_=je(_),!n)return _;var w,C=t[0],k=e[0],E=t[1],S=e[1];C>k&&(w=C,C=k,k=w);var M=k-C,T=Math.abs(M-Ka)<Za,N=T||Za>M;if(!T&&E>S&&(w=E,E=S,S=w),N?T?E+S>0^_[1]<(Math.abs(_[0]-C)<Za?E:S):E<=_[1]&&_[1]<=S:M>Ka^(C<=_[0]&&_[0]<=k)){var A=Be(m,(-v+x)/y);return Fe(A,p),[_,je(A)]}}}function r(e,n){var i=s?t:Ka-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}function o(t){return Je(l,t)}var a=Math.cos(t),s=a>0,l=[t,0],u=Math.abs(a)>Za,c=An(t,6*Ja);return Ye(e,n,c,o)}function on(t,e,n,i){function r(i,r){return Math.abs(i[0]-t)<Za?r>0?0:3:Math.abs(i[0]-n)<Za?r>0?2:1:Math.abs(i[1]-e)<Za?r>0?1:0:r>0?3:2}function o(t,e){return a(t.point,e.point)}function a(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}function s(r,o){var a=o[0]-r[0],s=o[1]-r[1],l=[0,1];return Math.abs(a)<Za&&Math.abs(s)<Za?t<=r[0]&&r[0]<=n&&e<=r[1]&&r[1]<=i:an(t-r[0],a,l)&&an(r[0]-n,-a,l)&&an(e-r[1],s,l)&&an(r[1]-i,-s,l)?(l[1]<1&&(o[0]=r[0]+l[1]*a,o[1]=r[1]+l[1]*s),l[0]>0&&(r[0]+=l[0]*a,r[1]+=l[0]*s),!0):!1}return function(l){function u(o){var a=r(o,-1),s=c([0===a||3===a?t:n,a>1?i:e]);return s}function c(t){for(var e=0,n=b.length,i=t[1],r=0;n>r;++r)for(var o,a=1,s=b[r],l=s.length,u=s[0];l>a;++a)o=s[a],u[1]<=i?o[1]>i&&d(u,o,t)>0&&++e:o[1]<=i&&d(u,o,t)<0&&--e,u=o;return 0!==e}function d(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function f(o,s,l,u){var c=0,d=0;if(null==o||(c=r(o,l))!==(d=r(s,l))||a(o,s)<0^l>0){do u.point(0===c||3===c?t:n,c>1?i:e);while((c=(c+l+4)%4)!==d)}else u.point(s[0],s[1])}function h(r,o){return r>=t&&n>=r&&o>=e&&i>=o}function p(t,e){h(t,e)&&l.point(t,e)}function g(){A.point=v,b&&b.push(x=[]),M=!0,S=!1,k=E=0/0}function m(){y&&(v(_,w),C&&S&&N.rejoin(),y.push(N.buffer())),A.point=p,S&&l.lineEnd()}function v(t,e){t=Math.max(-Zs,Math.min(Zs,t)),e=Math.max(-Zs,Math.min(Zs,e));var n=h(t,e);if(b&&x.push([t,e]),M)_=t,w=e,C=n,M=!1,n&&(l.lineStart(),l.point(t,e));else if(n&&S)l.point(t,e);else{var i=[k,E],r=[t,e];s(i,r)?(S||(l.lineStart(),l.point(i[0],i[1])),l.point(r[0],r[1]),n||l.lineEnd()):n&&(l.lineStart(),l.point(t,e))}k=t,E=e,S=n}var y,b,x,_,w,C,k,E,S,M,T=l,N=Ze(),A={point:p,lineStart:g,lineEnd:m,polygonStart:function(){l=N,y=[],b=[]},polygonEnd:function(){l=T,(y=ya.merge(y)).length?(l.polygonStart(),Ve(y,o,u,f,l),l.polygonEnd()):c([t,e])&&(l.polygonStart(),l.lineStart(),f(null,null,1,l),l.lineEnd(),l.polygonEnd()),y=b=x=null}};return A}}function an(t,e,n){if(Math.abs(e)<Za)return 0>=t;var i=t/e;if(e>0){if(i>n[1])return!1;i>n[0]&&(n[0]=i)}else{if(i<n[0])return!1;i<n[1]&&(n[1]=i)}return!0}function sn(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function ln(t){var e=0,n=Ka/3,i=Cn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Ka/180,n=t[1]*Ka/180):[180*(e/Ka),180*(n/Ka)]},r}function un(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),a=Math.sqrt(o)/r;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,O((o-(t*t+n*n)*r*r)/(2*r))]},n}function cn(){function t(t,e){Js+=r*t-i*e,i=t,r=e}var e,n,i,r;il.point=function(o,a){il.point=t,e=i=o,n=r=a},il.lineEnd=function(){t(e,n)}}function dn(t,e){Qs>t&&(Qs=t),t>el&&(el=t),tl>e&&(tl=e),e>nl&&(nl=e)}function fn(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function i(){s.point=t}function r(){a.push("Z")}var o=hn(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return o=hn(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function hn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function pn(t,e){js+=t,Os+=e,++zs}function gn(){function t(t,i){var r=t-e,o=i-n,a=Math.sqrt(r*r+o*o);$s+=a*(e+t)/2,Is+=a*(n+i)/2,Ws+=a,pn(e=t,n=i)}var e,n;ol.point=function(i,r){ol.point=t,pn(e=i,n=r)}}function mn(){ol.point=pn}function vn(){function t(t,e){var n=t-i,o=e-r,a=Math.sqrt(n*n+o*o);$s+=a*(i+t)/2,Is+=a*(r+e)/2,Ws+=a,a=r*t-i*e,qs+=a*(i+t),Us+=a*(r+e),Vs+=3*a,pn(i=t,r=e)}var e,n,i,r;ol.point=function(o,a){ol.point=t,pn(e=i=o,n=r=a)},ol.lineEnd=function(){t(e,n)}}function yn(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,a,0,2*Ka)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function r(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(t){return a=t,s},result:l};return s}function bn(t){function e(e){function i(n,i){n=t(n,i),e.point(n[0],n[1])}function r(){b=0/0,k.point=a,e.lineStart()}function a(i,r){var a=De([i,r]),s=t(i,r);n(b,x,y,_,w,C,b=s[0],x=s[1],y=i,_=a[0],w=a[1],C=a[2],o,e),e.point(b,x)}function s(){k.point=i,e.lineEnd()}function l(){r(),k.point=u,k.lineEnd=c}function u(t,e){a(d=t,f=e),h=b,p=x,g=_,m=w,v=C,k.point=a}function c(){n(b,x,y,_,w,C,h,p,d,g,m,v,o,e),k.lineEnd=s,s()}var d,f,h,p,g,m,v,y,b,x,_,w,C,k={point:i,lineStart:r,lineEnd:s,polygonStart:function(){e.polygonStart(),k.lineStart=l},polygonEnd:function(){e.polygonEnd(),k.lineStart=r}};return k}function n(e,o,a,s,l,u,c,d,f,h,p,g,m,v){var y=c-e,b=d-o,x=y*y+b*b;if(x>4*i&&m--){var _=s+h,w=l+p,C=u+g,k=Math.sqrt(_*_+w*w+C*C),E=Math.asin(C/=k),S=Math.abs(Math.abs(C)-1)<Za?(a+f)/2:Math.atan2(w,_),M=t(S,E),T=M[0],N=M[1],A=T-e,R=N-o,D=b*A-y*R;(D*D/x>i||Math.abs((y*A+b*R)/x-.5)>.3||r>s*h+l*p+u*g)&&(n(e,o,a,s,l,u,T,N,S,_/=k,w/=k,C,m,v),v.point(T,N),n(T,N,S,_,w,C,c,d,f,h,p,g,m,v))}}var i=.5,r=Math.cos(30*Ja),o=16;return e.precision=function(t){return arguments.length?(o=(i=t*t)>0&&16,e):Math.sqrt(i)},e}function xn(t){this.stream=t}function _n(t){var e=bn(function(e,n){return t([e*Qa,n*Qa])});return function(t){var n=new xn(t=e(t));return n.point=function(e,n){t.point(e*Ja,n*Ja)},n}}function wn(t){return Cn(function(){return t})()}function Cn(t){function e(t){return t=s(t[0]*Ja,t[1]*Ja),[t[0]*f+l,u-t[1]*f]}function n(t){return t=s.invert((t[0]-l)/f,(u-t[1])/f),t&&[t[0]*Qa,t[1]*Qa]}function i(){s=sn(a=Sn(v,y,b),o);var t=o(g,m);return l=h-t[0]*f,u=p+t[1]*f,r()}function r(){return c&&(c.valid=!1,c=null),e}var o,a,s,l,u,c,d=bn(function(t,e){return t=o(t,e),[t[0]*f+l,u-t[1]*f]}),f=150,h=480,p=250,g=0,m=0,v=0,y=0,b=0,x=Ys,_=ge,w=null,C=null;return e.stream=function(t){return c&&(c.valid=!1),c=kn(a,x(d(_(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(x=null==t?(w=t,Ys):rn((w=+t)*Ja),r()):w},e.clipExtent=function(t){return arguments.length?(C=t,_=t?on(t[0][0],t[0][1],t[1][0],t[1][1]):ge,r()):C},e.scale=function(t){return arguments.length?(f=+t,i()):f},e.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],i()):[h,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Ja,m=t[1]%360*Ja,i()):[g*Qa,m*Qa]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Ja,y=t[1]%360*Ja,b=t.length>2?t[2]%360*Ja:0,i()):[v*Qa,y*Qa,b*Qa]},ya.rebind(e,d,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function kn(t,e){var n=new xn(e);return n.point=function(n,i){i=t(n*Ja,i*Ja),n=i[0],e.point(n>Ka?n-2*Ka:-Ka>n?n+2*Ka:n,i[1])},n}function En(t,e){return[t,e]}function Sn(t,e,n){return t?e||n?sn(Tn(t),Nn(e,n)):Tn(t):e||n?Nn(e,n):En}function Mn(t){return function(e,n){return e+=t,[e>Ka?e-2*Ka:-Ka>e?e+2*Ka:e,n]}}function Tn(t){var e=Mn(t);return e.invert=Mn(-t),e}function Nn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*i+s*r;return[Math.atan2(l*o-c*a,s*i-u*r),O(c*o+l*a)]}var i=Math.cos(t),r=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*o-l*a;return[Math.atan2(l*o+u*a,s*i+c*r),O(c*i-s*r)]},n}function An(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,a,s){var l=a*e;null!=r?(r=Rn(n,r),o=Rn(n,o),(a>0?o>r:r>o)&&(r+=2*a*Ka)):(r=t+2*a*Ka,o=t-.5*l);for(var u,c=r;a>0?c>o:o>c;c-=l)s.point((u=je([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],u[1])}}function Rn(t,e){var n=De(e);n[0]-=t,Pe(n);var i=j(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Za)%(2*Math.PI)}function Dn(t,e,n){var i=ya.range(t,e-Za,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function Hn(t,e,n){var i=ya.range(t,e-Za,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function Ln(t){return t.source}function Fn(t){return t.target}function Bn(t,e,n,i){var r=Math.cos(e),o=Math.sin(e),a=Math.cos(i),s=Math.sin(i),l=r*Math.cos(t),u=r*Math.sin(t),c=a*Math.cos(n),d=a*Math.sin(n),f=2*Math.asin(Math.sqrt(W(i-e)+r*a*W(n-t))),h=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*h,n=Math.sin(f-t)*h,i=n*l+e*c,r=n*u+e*d,a=n*o+e*s;return[Math.atan2(r,i)*Qa,Math.atan2(a,Math.sqrt(i*i+r*r))*Qa]}:function(){return[t*Qa,e*Qa]};return p.distance=f,p}function Pn(){function t(t,r){var o=Math.sin(r*=Ja),a=Math.cos(r),s=Math.abs((t*=Ja)-e),l=Math.cos(s);al+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=i*o-n*a*l)*s),n*o+i*a*l),e=t,n=o,i=a}var e,n,i;sl.point=function(r,o){e=r*Ja,n=Math.sin(o*=Ja),i=Math.cos(o),sl.point=t},sl.lineEnd=function(){sl.point=sl.lineEnd=l}}function jn(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),a=Math.cos(r);return[Math.atan2(t*o,i*a),Math.asin(i&&n*o/i)]},n}function On(t,e){function n(t,e){var n=Math.abs(Math.abs(e)-Ka/2)<Za?0:a/Math.pow(r(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Ka/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),a=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,i=P(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/i,1/o))-Ka/2]},n):$n}function zn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return Math.abs(r)<Za?En:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-P(r)*Math.sqrt(t*t+n*n)]},n)}function $n(t,e){return[t,Math.log(Math.tan(Ka/4+e/2))]}function In(t){var e,n=wn(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Ka*i(),l=r();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Wn(t,e){var n=Math.cos(e)*Math.sin(t);return[Math.log((1+n)/(1-n))/2,Math.atan2(Math.tan(e),Math.cos(t))]}function qn(t){function e(e){function a(){u.push("M",o(t(c),s))}for(var l,u=[],c=[],d=-1,f=e.length,h=pe(n),p=pe(i);++d<f;)r.call(this,l=e[d],d)?c.push([+h.call(this,l,d),+p.call(this,l,d)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var n=Un,i=Vn,r=Ue,o=Xn,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=hl.get(t)||Xn).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function Un(t){return t[0]}function Vn(t){return t[1]}function Xn(t){return t.join("L")}function Yn(t){return Xn(t)+"Z"}function Kn(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function Zn(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function Gn(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Jn(t,e){return t.length<4?Xn(t):t[1]+ei(t.slice(1,t.length-1),ni(t,e))}function Qn(t,e){return t.length<3?Xn(t):t[0]+ei((t.push(t[0]),t),ni([t[t.length-2]].concat(t,[t[1]]),e))}function ti(t,e){return t.length<3?Xn(t):t[0]+ei(t,ni(t,e))}function ei(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Xn(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],a=e[0],s=a,l=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=t[1],l=2),e.length>1){s=e[1],o=t[l],l++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)o=t[l],s=e[u],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[l];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function ni(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)n=o,o=a,a=t[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function ii(t){if(t.length<3)return Xn(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],a=[r,r,r,(i=t[1])[0]],s=[o,o,o,i[1]],l=[r,",",o,"L",si(ml,a),",",si(ml,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),li(l,a,s);return t.pop(),l.push("L",i),l.join("")}function ri(t){if(t.length<4)return Xn(t);for(var e,n=[],i=-1,r=t.length,o=[0],a=[0];++i<3;)e=t[i],o.push(e[0]),a.push(e[1]);for(n.push(si(ml,o)+","+si(ml,a)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),li(n,o,a);return n.join("")}function oi(t){for(var e,n,i=-1,r=t.length,o=r+4,a=[],s=[];++i<4;)n=t[i%r],a.push(n[0]),s.push(n[1]);for(e=[si(ml,a),",",si(ml,s)],--i;++i<o;)n=t[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),li(e,a,s);return e.join("")}function ai(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],a=t[0][1],s=t[n][0]-o,l=t[n][1]-a,u=-1;++u<=n;)i=t[u],r=u/n,i[0]=e*i[0]+(1-e)*(o+r*s),i[1]=e*i[1]+(1-e)*(a+r*l);return ii(t)}function si(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function li(t,e,n){t.push("C",si(pl,e),",",si(pl,n),",",si(gl,e),",",si(gl,n),",",si(ml,e),",",si(ml,n))}function ui(t,e){return(e[1]-t[1])/(e[0]-t[0])}function ci(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],a=i[0]=ui(r,o);++e<n;)i[e]=(a+(a=ui(r=o,o=t[e+1])))/2;return i[e]=a,i}function di(t){for(var e,n,i,r,o=[],a=ci(t),s=-1,l=t.length-1;++s<l;)e=ui(t[s],t[s+1]),Math.abs(e)<1e-6?a[s]=a[s+1]=0:(n=a[s]/e,i=a[s+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i));for(s=-1;++s<=l;)r=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}function fi(t){return t.length<3?Xn(t):t[0]+ei(t,di(t))}function hi(t,e,n,i){var r,o,a,s,l,u,c;return r=i[t],o=r[0],a=r[1],r=i[e],s=r[0],l=r[1],r=i[n],u=r[0],c=r[1],(c-a)*(s-o)-(l-a)*(u-o)>0}function pi(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function gi(t,e,n,i){var r=t[0],o=n[0],a=e[0]-r,s=i[0]-o,l=t[1],u=n[1],c=e[1]-l,d=i[1]-u,f=(s*(l-u)-d*(r-o))/(d*a-s*c);return[r+f*a,l+f*c]}function mi(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function vi(t,e){var n={list:t.map(function(t,e){return{index:e,x:t[0],y:t[1]}}).sort(function(t,e){return t.y<e.y?-1:t.y>e.y?1:t.x<e.x?-1:t.x>e.x?1:0}),bottomSite:null},i={list:[],leftEnd:null,rightEnd:null,init:function(){i.leftEnd=i.createHalfEdge(null,"l"),i.rightEnd=i.createHalfEdge(null,"l"),i.leftEnd.r=i.rightEnd,i.rightEnd.l=i.leftEnd,i.list.unshift(i.leftEnd,i.rightEnd)},createHalfEdge:function(t,e){return{edge:t,side:e,vertex:null,l:null,r:null}},insert:function(t,e){e.l=t,e.r=t.r,t.r.l=e,t.r=e},leftBound:function(t){var e=i.leftEnd;do e=e.r;while(e!=i.rightEnd&&r.rightOf(e,t));return e=e.l},del:function(t){t.l.r=t.r,t.r.l=t.l,t.edge=null},right:function(t){return t.r},left:function(t){return t.l},leftRegion:function(t){return null==t.edge?n.bottomSite:t.edge.region[t.side]},rightRegion:function(t){return null==t.edge?n.bottomSite:t.edge.region[yl[t.side]]}},r={bisect:function(t,e){var n={region:{l:t,r:e},ep:{l:null,r:null}},i=e.x-t.x,r=e.y-t.y,o=i>0?i:-i,a=r>0?r:-r;return n.c=t.x*i+t.y*r+.5*(i*i+r*r),o>a?(n.a=1,n.b=r/i,n.c/=i):(n.b=1,n.a=i/r,n.c/=r),n},intersect:function(t,e){var n=t.edge,i=e.edge;if(!n||!i||n.region.r==i.region.r)return null;var r=n.a*i.b-n.b*i.a;if(Math.abs(r)<1e-10)return null;var o,a,s=(n.c*i.b-i.c*n.b)/r,l=(i.c*n.a-n.c*i.a)/r,u=n.region.r,c=i.region.r;u.y<c.y||u.y==c.y&&u.x<c.x?(o=t,a=n):(o=e,a=i);var d=s>=a.region.r.x;return d&&"l"===o.side||!d&&"r"===o.side?null:{x:s,y:l}},rightOf:function(t,e){var n=t.edge,i=n.region.r,r=e.x>i.x;if(r&&"l"===t.side)return 1;if(!r&&"r"===t.side)return 0;if(1===n.a){var o=e.y-i.y,a=e.x-i.x,s=0,l=0;if(!r&&n.b<0||r&&n.b>=0?l=s=o>=n.b*a:(l=e.x+e.y*n.b>n.c,n.b<0&&(l=!l),l||(s=1)),!s){var u=i.x-n.region.l.x;l=n.b*(a*a-o*o)<u*o*(1+2*a/u+n.b*n.b),n.b<0&&(l=!l)}}else{var c=n.c-n.a*e.x,d=e.y-c,f=e.x-i.x,h=c-i.y;l=d*d>f*f+h*h}return"l"===t.side?l:!l},endPoint:function(t,n,i){t.ep[n]=i,t.ep[yl[n]]&&e(t)},distance:function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}},o={list:[],insert:function(t,e,n){t.vertex=e,t.ystar=e.y+n;for(var i=0,r=o.list,a=r.length;a>i;i++){var s=r[i];if(!(t.ystar>s.ystar||t.ystar==s.ystar&&e.x>s.vertex.x))break}r.splice(i,0,t)},del:function(t){for(var e=0,n=o.list,i=n.length;i>e&&n[e]!=t;++e);n.splice(e,1)},empty:function(){return 0===o.list.length},nextEvent:function(t){for(var e=0,n=o.list,i=n.length;i>e;++e)if(n[e]==t)return n[e+1];return null},min:function(){var t=o.list[0];return{x:t.vertex.x,y:t.ystar}},extractMin:function(){return o.list.shift()}};i.init(),n.bottomSite=n.list.shift();for(var a,s,l,u,c,d,f,h,p,g,m,v,y,b=n.list.shift();;)if(o.empty()||(a=o.min()),b&&(o.empty()||b.y<a.y||b.y==a.y&&b.x<a.x))s=i.leftBound(b),l=i.right(s),f=i.rightRegion(s),v=r.bisect(f,b),d=i.createHalfEdge(v,"l"),i.insert(s,d),g=r.intersect(s,d),g&&(o.del(s),o.insert(s,g,r.distance(g,b))),s=d,d=i.createHalfEdge(v,"r"),i.insert(s,d),g=r.intersect(d,l),g&&o.insert(d,g,r.distance(g,b)),b=n.list.shift();
else{if(o.empty())break;s=o.extractMin(),u=i.left(s),l=i.right(s),c=i.right(l),f=i.leftRegion(s),h=i.rightRegion(l),m=s.vertex,r.endPoint(s.edge,s.side,m),r.endPoint(l.edge,l.side,m),i.del(s),o.del(l),i.del(l),y="l",f.y>h.y&&(p=f,f=h,h=p,y="r"),v=r.bisect(f,h),d=i.createHalfEdge(v,y),i.insert(u,d),r.endPoint(v,yl[y],m),g=r.intersect(u,d),g&&(o.del(u),o.insert(u,g,r.distance(g,f))),g=r.intersect(d,c),g&&o.insert(d,g,r.distance(g,f))}for(s=i.right(i.leftEnd);s!=i.rightEnd;s=i.right(s))e(s.edge)}function yi(t){return t.x}function bi(t){return t.y}function xi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function _i(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var a=.5*(n+r),s=.5*(i+o),l=e.nodes;l[0]&&_i(t,l[0],n,i,a,s),l[1]&&_i(t,l[1],a,i,r,s),l[2]&&_i(t,l[2],n,s,a,o),l[3]&&_i(t,l[3],a,s,r,o)}}function wi(t,e){t=ya.rgb(t),e=ya.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,a=e.g-i,s=e.b-r;return function(t){return"#"+le(Math.round(n+o*t))+le(Math.round(i+a*t))+le(Math.round(r+s*t))}}function Ci(t,e){var n,i={},r={};for(n in t)n in e?i[n]=Si(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function ki(t,e){return e-=t=+t,function(n){return t+e*n}}function Ei(t,e){var n,i,r,o,a,s=0,l=0,u=[],c=[];for(t+="",e+="",bl.lastIndex=0,i=0;n=bl.exec(e);++i)n.index&&u.push(e.substring(s,l=n.index)),c.push({i:u.length,x:n[0]}),u.push(null),s=bl.lastIndex;for(s<e.length&&u.push(e.substring(s)),i=0,o=c.length;(n=bl.exec(t))&&o>i;++i)if(a=c[i],a.x==n[0]){if(a.i)if(null==u[a.i+1])for(u[a.i-1]+=a.x,u.splice(a.i,1),r=i+1;o>r;++r)c[r].i--;else for(u[a.i-1]+=a.x+u[a.i+1],u.splice(a.i,2),r=i+1;o>r;++r)c[r].i-=2;else if(null==u[a.i+1])u[a.i]=a.x;else for(u[a.i]=a.x+u[a.i+1],u.splice(a.i+1,1),r=i+1;o>r;++r)c[r].i--;c.splice(i,1),o--,i--}else a.x=ki(parseFloat(n[0]),parseFloat(a.x));for(;o>i;)a=c.pop(),null==u[a.i+1]?u[a.i]=a.x:(u[a.i]=a.x+u[a.i+1],u.splice(a.i+1,1)),o--;return 1===u.length?null==u[0]?(a=c[0].x,function(t){return a(t)+""}):function(){return e}:function(t){for(i=0;o>i;++i)u[(a=c[i]).i]=a.x(t);return u.join("")}}function Si(t,e){for(var n,i=ya.interpolators.length;--i>=0&&!(n=ya.interpolators[i](t,e)););return n}function Mi(t,e){var n,i=[],r=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)i.push(Si(t[n],e[n]));for(;o>n;++n)r[n]=t[n];for(;a>n;++n)r[n]=e[n];return function(t){for(n=0;s>n;++n)r[n]=i[n](t);return r}}function Ti(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Ni(t){return function(e){return 1-t(1-e)}}function Ai(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Ri(t){return t*t}function Di(t){return t*t*t}function Hi(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Li(t){return function(e){return Math.pow(e,t)}}function Fi(t){return 1-Math.cos(t*Ka/2)}function Bi(t){return Math.pow(2,10*(t-1))}function Pi(t){return 1-Math.sqrt(1-t*t)}function ji(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/(2*Ka)*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,10*-i)*Math.sin(2*(i-n)*Ka/e)}}function Oi(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function zi(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function $i(t,e){t=ya.hcl(t),e=ya.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,a=e.c-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.c:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return Z(n+o*t,i+a*t,r+s*t)+""}}function Ii(t,e){t=ya.hsl(t),e=ya.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,a=e.s-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.s:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return X(n+o*t,i+a*t,r+s*t)+""}}function Wi(t,e){t=ya.lab(t),e=ya.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,a=e.a-i,s=e.b-r;return function(t){return Q(n+o*t,i+a*t,r+s*t)+""}}function qi(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Ui(t){var e=[t.a,t.b],n=[t.c,t.d],i=Xi(e),r=Vi(e,n),o=Xi(Yi(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Qa,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Qa:0}function Vi(t,e){return t[0]*e[0]+t[1]*e[1]}function Xi(t){var e=Math.sqrt(Vi(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Yi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Ki(t,e){var n,i=[],r=[],o=ya.transform(t),a=ya.transform(e),s=o.translate,l=a.translate,u=o.rotate,c=a.rotate,d=o.skew,f=a.skew,h=o.scale,p=a.scale;return s[0]!=l[0]||s[1]!=l[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:ki(s[0],l[0])},{i:3,x:ki(s[1],l[1])})):l[0]||l[1]?i.push("translate("+l+")"):i.push(""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:ki(u,c)})):c&&i.push(i.pop()+"rotate("+c+")"),d!=f?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:ki(d,f)}):f&&i.push(i.pop()+"skewX("+f+")"),h[0]!=p[0]||h[1]!=p[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:ki(h[0],p[0])},{i:n-2,x:ki(h[1],p[1])})):(1!=p[0]||1!=p[1])&&i.push(i.pop()+"scale("+p+")"),n=r.length,function(t){for(var e,o=-1;++o<n;)i[(e=r[o]).i]=e.x(t);return i.join("")}}function Zi(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return(n-t)*e}}function Gi(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return Math.max(0,Math.min(1,(n-t)*e))}}function Ji(t){for(var e=t.source,n=t.target,i=tr(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function Qi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function tr(t,e){if(t===e)return t;for(var n=Qi(t),i=Qi(e),r=n.pop(),o=i.pop(),a=null;r===o;)a=r,r=n.pop(),o=i.pop();return a}function er(t){t.fixed|=2}function nr(t){t.fixed&=-7}function ir(t){t.fixed|=4,t.px=t.x,t.py=t.y}function rr(t){t.fixed&=-5}function or(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,l=-1;++l<s;)o=a[l],null!=o&&(or(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,i+=u*t.point.x,r+=u*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function ar(t,e){return ya.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=cr,t}function sr(t){return t.children}function lr(t){return t.value}function ur(t,e){return e.value-t.value}function cr(t){return ya.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function dr(t){return t.x}function fr(t){return t.y}function hr(t,e,n){t.y0=e,t.y=n}function pr(t){return ya.range(t.length)}function gr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function mr(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function vr(t){return t.reduce(yr,0)}function yr(t,e){return t+e[1]}function br(t,e){return xr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function xr(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function _r(t){return[ya.min(t),ya.max(t)]}function wr(t,e){return t.parent==e.parent?1:2}function Cr(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function kr(t){var e,n=t.children;return n&&(e=n.length)?n[e-1]:t._tree.thread}function Er(t,e){var n=t.children;if(n&&(r=n.length))for(var i,r,o=-1;++o<r;)e(i=Er(n[o],e),t)>0&&(t=i);return t}function Sr(t,e){return t.x-e.x}function Mr(t,e){return e.x-t.x}function Tr(t,e){return t.depth-e.depth}function Nr(t,e){function n(t,i){var r=t.children;if(r&&(a=r.length))for(var o,a,s=null,l=-1;++l<a;)o=r[l],n(o,s),s=o;e(t,i)}n(t,null)}function Ar(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o]._tree,e.prelim+=n,e.mod+=n,n+=e.shift+(i+=e.change)}function Rr(t,e,n){t=t._tree,e=e._tree;var i=n/(e.number-t.number);t.change+=i,e.change-=i,e.shift+=n,e.prelim+=n,e.mod+=n}function Dr(t,e,n){return t._tree.ancestor.parent==e.parent?t._tree.ancestor:n}function Hr(t,e){return t.value-e.value}function Lr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Fr(t,e){t._pack_next=e,e._pack_prev=t}function Br(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function Pr(t){function e(t){c=Math.min(t.x-t.r,c),d=Math.max(t.x+t.r,d),f=Math.min(t.y-t.r,f),h=Math.max(t.y+t.r,h)}if((n=t.children)&&(u=n.length)){var n,i,r,o,a,s,l,u,c=1/0,d=-1/0,f=1/0,h=-1/0;if(n.forEach(jr),i=n[0],i.x=-i.r,i.y=0,e(i),u>1&&(r=n[1],r.x=r.r,r.y=0,e(r),u>2))for(o=n[2],$r(i,r,o),e(o),Lr(i,o),i._pack_prev=o,Lr(o,r),r=i._pack_next,a=3;u>a;a++){$r(i,r,o=n[a]);var p=0,g=1,m=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(Br(s,o)){p=1;break}if(1==p)for(l=i._pack_prev;l!==s._pack_prev&&!Br(l,o);l=l._pack_prev,m++);p?(m>g||g==m&&r.r<i.r?Fr(i,r=s):Fr(i=l,r),a--):(Lr(i,o),r=o,e(o))}var v=(c+d)/2,y=(f+h)/2,b=0;for(a=0;u>a;a++)o=n[a],o.x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(Or)}}function jr(t){t._pack_next=t._pack_prev=t}function Or(t){delete t._pack_next,delete t._pack_prev}function zr(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,a=r.length;++o<a;)zr(r[o],e,n,i)}function $r(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var a=e.r+n.r,s=r*r+o*o;a*=a,i*=i;var l=.5+(i-a)/(2*s),u=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+l*r+u*o,n.y=t.y+l*o-u*r}else n.x=t.x+i,n.y=t.y}function Ir(t){return 1+ya.max(t,function(t){return t.y})}function Wr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function qr(t){var e=t.children;return e&&e.length?qr(e[0]):t}function Ur(t){var e,n=t.children;return n&&(e=n.length)?Ur(n[e-1]):t}function Vr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Xr(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>o&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function Yr(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Kr(t){return t.rangeExtent?t.rangeExtent():Yr(t.range())}function Zr(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function Gr(t,e){var n,i=0,r=t.length-1,o=t[i],a=t[r];return o>a&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function Jr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Nl}function Qr(t,e,n,i){var r=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)r.push(n(t[a-1],t[a])),o.push(i(e[a-1],e[a]));return function(e){var n=ya.bisect(t,e,1,s)-1;return o[n](r[n](e))}}function to(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?Qr:Zr,l=i?Gi:Zi;return a=r(t,e,l,n),s=r(e,t,l,Si),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},o.range=function(t){return arguments.length?(e=t,r()):e},o.rangeRound=function(t){return o.range(t).interpolate(qi)},o.clamp=function(t){return arguments.length?(i=t,r()):i},o.interpolate=function(t){return arguments.length?(n=t,r()):n},o.ticks=function(e){return ro(t,e)},o.tickFormat=function(e,n){return oo(t,e,n)},o.nice=function(e){return no(t,e),r()},o.copy=function(){return to(t,e,n,i)},r()}function eo(t,e){return ya.rebind(t,e,"range","rangeRound","interpolate","clamp")}function no(t,e){return Gr(t,Jr(io(t,e)[2]))}function io(t,e){null==e&&(e=10);var n=Yr(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return.15>=o?r*=10:.35>=o?r*=5:.75>=o&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function ro(t,e){return ya.range.apply(ya,io(t,e))}function oo(t,e,n){var i=-Math.floor(Math.log(io(t,e)[2])/Math.LN10+.01);return ya.format(n?n.replace(Ss,function(t,e,n,r,o,a,s,l,u,c){return[e,n,r,o,a,s,l,u||"."+(i-2*("%"===c)),c].join("")}):",."+i+"f")}function ao(t,e,n,i){function r(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(r(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),a):i},a.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),a):e},a.nice=function(){var e=Gr(i.map(r),n?Math:Rl);return t.domain(e),i=e.map(o),a},a.ticks=function(){var t=Yr(i),a=[],s=t[0],l=t[1],u=Math.floor(r(s)),c=Math.ceil(r(l)),d=e%1?2:e;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var f=1;d>f;f++)a.push(o(u)*f);a.push(o(u))}else for(a.push(o(u));u++<c;)for(var f=d-1;f>0;f--)a.push(o(u)*f);for(u=0;a[u]<s;u++);for(c=a.length;a[c-1]>l;c--);a=a.slice(u,c)}return a},a.tickFormat=function(t,e){if(!arguments.length)return Al;arguments.length<2?e=Al:"function"!=typeof e&&(e=ya.format(e));var i,s=Math.max(.1,t/a.ticks().length),l=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(t){return t/o(l(r(t)+i))<=s?e(t):""}},a.copy=function(){return ao(t.copy(),e,n,i)},eo(a,t)}function so(t,e,n){function i(e){return t(r(e))}var r=lo(e),o=lo(1/e);return i.invert=function(e){return o(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return ro(n,t)},i.tickFormat=function(t,e){return oo(n,t,e)},i.nice=function(t){return i.domain(no(n,t))},i.exponent=function(a){return arguments.length?(r=lo(e=a),o=lo(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return so(t.copy(),e,n)},eo(i,t)}function lo(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function uo(t,e){function n(e){return a[((o.get(e)||o.set(e,t.push(e)))-1)%a.length]}function i(e,n){return ya.range(t.length).map(function(t){return e+n*t})}var o,a,s;return n.domain=function(i){if(!arguments.length)return t;t=[],o=new r;for(var a,s=-1,l=i.length;++s<l;)o.has(a=i[s])||o.set(a,t.push(a));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(a=t,s=0,e={t:"range",a:arguments},n):a},n.rangePoints=function(r,o){arguments.length<2&&(o=0);var l=r[0],u=r[1],c=(u-l)/(Math.max(1,t.length-1)+o);return a=i(t.length<2?(l+u)/2:l+c*o/2,c),s=0,e={t:"rangePoints",a:arguments},n},n.rangeBands=function(r,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var u=r[1]<r[0],c=r[u-0],d=r[1-u],f=(d-c)/(t.length-o+2*l);return a=i(c+f*l,f),u&&a.reverse(),s=f*(1-o),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var u=r[1]<r[0],c=r[u-0],d=r[1-u],f=Math.floor((d-c)/(t.length-o+2*l)),h=d-c-(t.length-o)*f;return a=i(c+Math.round(h/2),f),u&&a.reverse(),s=Math.round(f*(1-o)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return Yr(e.a[0])},n.copy=function(){return uo(t,e)},n.domain(t)}function co(t,e){function n(){var n=0,o=e.length;for(r=[];++n<o;)r[n-1]=ya.quantile(t,n/o);return i}function i(t){return isNaN(t=+t)?void 0:e[ya.bisect(r,t)]}var r;return i.domain=function(e){return arguments.length?(t=e.filter(function(t){return!isNaN(t)}).sort(ya.ascending),n()):t},i.range=function(t){return arguments.length?(e=t,n()):e},i.quantiles=function(){return r},i.invertExtent=function(n){return n=e.indexOf(n),0>n?[0/0,0/0]:[n>0?r[n-1]:t[0],n<r.length?r[n]:t[t.length-1]]},i.copy=function(){return co(t,e)},n()}function fo(t,e,n){function i(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function r(){return o=n.length/(e-t),a=n.length-1,i}var o,a;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=0>e?0/0:e/o+t,[e,e+1/o]},i.copy=function(){return fo(t,e,n)},r()}function ho(t,e){function n(n){return n>=n?e[ya.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ho(t,e)},n}function po(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return ro(t,e)},e.tickFormat=function(e,n){return oo(t,e,n)},e.copy=function(){return po(t)},e}function go(t){return t.innerRadius}function mo(t){return t.outerRadius}function vo(t){return t.startAngle}function yo(t){return t.endAngle}function bo(t){for(var e,n,i,r=-1,o=t.length;++r<o;)e=t[r],n=e[0],i=e[1]+Bl,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function xo(t){function e(e){function l(){g.push("M",s(t(v),d),c,u(t(m.reverse()),d),"Z")}for(var f,h,p,g=[],m=[],v=[],y=-1,b=e.length,x=pe(n),_=pe(r),w=n===i?function(){return h}:pe(i),C=r===o?function(){return p}:pe(o);++y<b;)a.call(this,f=e[y],y)?(m.push([h=+x.call(this,f,y),p=+_.call(this,f,y)]),v.push([+w.call(this,f,y),+C.call(this,f,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=Un,i=Un,r=0,o=Vn,a=Ue,s=Xn,l=s.key,u=s,c="L",d=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=o=t,e):o},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=hl.get(t)||Xn).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(d=t,e):d},e}function _o(t){return t.radius}function wo(t){return[t.x,t.y]}function Co(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]+Bl;return[n*Math.cos(i),n*Math.sin(i)]}}function ko(){return 64}function Eo(){return"circle"}function So(t){var e=Math.sqrt(t/Ka);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Mo(t,e){return Ba(t,Wl),t.id=e,t}function To(t,e,n,i){var r=t.id;return T(t,"function"==typeof n?function(t,o,a){t.__transition__[r].tween.set(e,i(n.call(t,t.__data__,o,a)))}:(n=i(n),function(t){t.__transition__[r].tween.set(e,n)}))}function No(t){return null==t&&(t=""),function(){this.textContent=t}}function Ao(t,e,n,i){var o=t.__transition__||(t.__transition__={active:0,count:0}),a=o[n];if(!a){var s=i.time;a=o[n]={tween:new r,time:s,ease:i.ease,delay:i.delay,duration:i.duration},++o.count,ya.timer(function(i){function r(i){return o.active>n?u():(o.active=n,a.event&&a.event.start.call(t,c,e),a.tween.forEach(function(n,i){(i=i.call(t,c,e))&&p.push(i)}),l(i)?1:(xe(l,0,s),void 0))}function l(i){if(o.active!==n)return u();for(var r=(i-f)/h,s=d(r),l=p.length;l>0;)p[--l].call(t,s);return r>=1?(a.event&&a.event.end.call(t,c,e),u()):void 0}function u(){return--o.count?delete o[n]:delete t.__transition__,1}var c=t.__data__,d=a.ease,f=a.delay,h=a.duration,p=[];return i>=f?r(i):(xe(r,f,s),void 0)},0,s)}}function Ro(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function Do(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function Ho(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Lo(t,e,n){function i(e){var n=t(e),i=o(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new Zl(n-1)),1),n}function o(t,n){return e(t=new Zl(+t),n),t}function a(t,i,o){var a=r(t),s=[];if(o>1)for(;i>a;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;i>a;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{Zl=Ho;var i=new Ho;return i._=t,a(i,e,n)}finally{Zl=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=o,t.range=a;var l=t.utc=Fo(t);return l.floor=l,l.round=Fo(i),l.ceil=Fo(r),l.offset=Fo(o),l.range=s,t}function Fo(t){return function(e,n){try{Zl=Ho;var i=new Ho;return i._=e,t(i,n)._}finally{Zl=Date}}}function Bo(t){function e(e){for(var i,r,o,a=[],s=-1,l=0;++s<n;)37===t.charCodeAt(s)&&(a.push(t.substring(l,s)),null!=(r=gu[i=t.charAt(++s)])&&(i=t.charAt(++s)),(o=mu[i])&&(i=o(e,null==r?"e"===i?" ":"0":r)),a.push(i),l=s+1);return a.push(t.substring(l,s)),a.join("")}var n=t.length;return e.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=Po(n,t,e,0);if(i!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Zl!==Ho,o=new(r?Ho:Zl);return"j"in n?o.setFullYear(n.y,0,n.j):"w"in n&&("W"in n||"U"in n)?(o.setFullYear(n.y,0,1),o.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(o.getDay()+5)%7:n.w+7*n.U-(o.getDay()+6)%7)):o.setFullYear(n.y,n.m,n.d),o.setHours(n.H+Math.floor(n.Z/100),n.M+n.Z%100,n.S,n.L),r?o._:o},e.toString=function(){return t},e}function Po(t,e,n,i){for(var r,o,a,s=0,l=e.length,u=n.length;l>s;){if(i>=u)return-1;if(r=e.charCodeAt(s++),37===r){if(a=e.charAt(s++),o=vu[a in gu?e.charAt(s++):a],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function jo(t){return new RegExp("^(?:"+t.map(ya.requote).join("|")+")","i")}function Oo(t){for(var e=new r,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function zo(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",o=r.length;return i+(n>o?new Array(n-o+1).join(e)+r:r)}function $o(t,e,n){lu.lastIndex=0;var i=lu.exec(e.substring(n));return i?(t.w=uu.get(i[0].toLowerCase()),n+i[0].length):-1}function Io(t,e,n){au.lastIndex=0;var i=au.exec(e.substring(n));return i?(t.w=su.get(i[0].toLowerCase()),n+i[0].length):-1}function Wo(t,e,n){yu.lastIndex=0;var i=yu.exec(e.substring(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function qo(t,e,n){yu.lastIndex=0;var i=yu.exec(e.substring(n));return i?(t.U=+i[0],n+i[0].length):-1}function Uo(t,e,n){yu.lastIndex=0;var i=yu.exec(e.substring(n));return i?(t.W=+i[0],n+i[0].length):-1}function Vo(t,e,n){fu.lastIndex=0;var i=fu.exec(e.substring(n));return i?(t.m=hu.get(i[0].toLowerCase()),n+i[0].length):-1}function Xo(t,e,n){cu.lastIndex=0;var i=cu.exec(e.substring(n));return i?(t.m=du.get(i[0].toLowerCase()),n+i[0].length):-1}function Yo(t,e,n){return Po(t,mu.c.toString(),e,n)}function Ko(t,e,n){return Po(t,mu.x.toString(),e,n)}function Zo(t,e,n){return Po(t,mu.X.toString(),e,n)}function Go(t,e,n){yu.lastIndex=0;var i=yu.exec(e.substring(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Jo(t,e,n){yu.lastIndex=0;var i=yu.exec(e.substring(n,n+2));return i?(t.y=ta(+i[0]),n+i[0].length):-1}function Qo(t,e,n){return/^[+-]\d{4}$/.test(e=e.substring(n,n+5))?(t.Z=+e,n+5):-1}function ta(t){return t+(t>68?1900:2e3)}function ea(t,e,n){yu.lastIndex=0;var i=yu.exec(e.substring(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function na(t,e,n){yu.lastIndex=0;var i=yu.exec(e.substring(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ia(t,e,n){yu.lastIndex=0;var i=yu.exec(e.substring(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ra(t,e,n){yu.lastIndex=0;var i=yu.exec(e.substring(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function oa(t,e,n){yu.lastIndex=0;var i=yu.exec(e.substring(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function aa(t,e,n){yu.lastIndex=0;var i=yu.exec(e.substring(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function sa(t,e,n){yu.lastIndex=0;var i=yu.exec(e.substring(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function la(t,e,n){var i=bu.get(e.substring(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}function ua(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=~~(Math.abs(e)/60),r=Math.abs(e)%60;return n+zo(i,"0",2)+zo(r,"0",2)}function ca(t,e,n){pu.lastIndex=0;var i=pu.exec(e.substring(n,n+1));return i?n+i[0].length:-1}function da(t){function e(t){try{Zl=Ho;var e=new Zl;return e._=t,n(e)}finally{Zl=Date}}var n=Bo(t);return e.parse=function(t){try{Zl=Ho;var e=n.parse(t);return e&&e._}finally{Zl=Date}},e.toString=n.toString,e}function fa(t){return t.toISOString()}function ha(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,o=ya.bisect(_u,r);return o==_u.length?[e.year,io(t.map(function(t){return t/31536e6}),n)[2]]:o?e[r/_u[o-1]<_u[o]/r?o-1:o]:[Eu,io(t,n)[2]]}return i.invert=function(e){return pa(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(pa)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,pa(+n+1),e).length}var o=i.domain(),a=Yr(o),s=null==t?r(a,10):"number"==typeof t&&r(a,t);return s&&(t=s[0],e=s[1]),i.domain(Gr(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=pa(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=pa(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Yr(i.domain()),o=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],pa(+n[1]+1),e)},i.tickFormat=function(){return n},i.copy=function(){return ha(t.copy(),e,n)},eo(i,t)}function pa(t){return new Date(t)}function ga(t){return function(e){for(var n=t.length-1,i=t[n];!i[1](e);)i=t[--n];return i[0](e)}}function ma(t){return JSON.parse(t.responseText)}function va(t){var e=_a.createRange();return e.selectNode(_a.body),e.createContextualFragment(t.responseText)}var ya={version:"3.3.3"};Date.now||(Date.now=function(){return+new Date});var ba=[].slice,xa=function(t){return ba.call(t)},_a=document,wa=_a.documentElement,Ca=window;try{xa(wa.childNodes)[0].nodeType}catch(ka){xa=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{_a.createElement("div").style.setProperty("opacity",0,"")}catch(Ea){var Sa=Ca.Element.prototype,Ma=Sa.setAttribute,Ta=Sa.setAttributeNS,Na=Ca.CSSStyleDeclaration.prototype,Aa=Na.setProperty;Sa.setAttribute=function(t,e){Ma.call(this,t,e+"")},Sa.setAttributeNS=function(t,e,n){Ta.call(this,t,e,n+"")},Na.setProperty=function(t,e,n){Aa.call(this,t,e+"",n)}}ya.ascending=function(t,e){return e>t?-1:t>e?1:t>=e?0:0/0},ya.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},ya.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o&&!(null!=(n=t[r])&&n>=n);)n=void 0;for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o&&!(null!=(n=e.call(t,t[r],r))&&n>=n);)n=void 0;for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},ya.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o&&!(null!=(n=t[r])&&n>=n);)n=void 0;for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o&&!(null!=(n=e.call(t,t[r],r))&&n>=n);)n=void 0;for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},ya.extent=function(t,e){var n,i,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a&&!(null!=(n=r=t[o])&&n>=n);)n=r=void 0;for(;++o<a;)null!=(i=t[o])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++o<a&&!(null!=(n=r=e.call(t,t[o],o))&&n>=n);)n=void 0;for(;++o<a;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},ya.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)isNaN(n=+t[o])||(i+=n);else for(;++o<r;)isNaN(n=+e.call(t,t[o],o))||(i+=n);return i},ya.mean=function(e,n){var i,r=e.length,o=0,a=-1,s=0;if(1===arguments.length)for(;++a<r;)t(i=e[a])&&(o+=(i-o)/++s);else for(;++a<r;)t(i=n.call(e,e[a],a))&&(o+=(i-o)/++s);return s?o:void 0},ya.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},ya.median=function(e,n){return arguments.length>1&&(e=e.map(n)),e=e.filter(t),e.length?ya.quantile(e.sort(ya.ascending),.5):void 0},ya.bisector=function(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t.call(e,e[o],o)<n?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;n<t.call(e,e[o],o)?r=o:i=o+1}return i}}};var Ra=ya.bisector(function(t){return t});ya.bisectLeft=Ra.left,ya.bisect=ya.bisectRight=Ra.right,ya.shuffle=function(t){for(var e,n,i=t.length;i;)n=0|Math.random()*i--,e=t[i],t[i]=t[n],t[n]=e;return t},ya.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},ya.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],o=new Array(0>i?0:i);i>n;)o[n]=[e=r,r=t[++n]];return o},ya.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,n=ya.min(arguments,e),i=new Array(n);++t<n;)for(var r,o=-1,a=i[t]=new Array(r);++o<r;)a[o]=arguments[o][t];return i},ya.transpose=function(t){return ya.zip.apply(ya,t)},ya.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ya.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ya.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ya.merge=function(t){return Array.prototype.concat.apply([],t)},ya.range=function(t,e,i){if(arguments.length<3&&(i=1,arguments.length<2&&(e=t,t=0)),1/0===(e-t)/i)throw new Error("infinite range");var r,o=[],a=n(Math.abs(i)),s=-1;if(t*=a,e*=a,i*=a,0>i)for(;(r=t+i*++s)>e;)o.push(r/a);else for(;(r=t+i*++s)<e;)o.push(r/a);return o},ya.map=function(t){var e=new r;if(t instanceof r)t.forEach(function(t,n){e.set(t,n)});else for(var n in t)e.set(n,t[n]);return e},i(r,{has:function(t){return Da+t in this},get:function(t){return this[Da+t]},set:function(t,e){return this[Da+t]=e},remove:function(t){return t=Da+t,t in this&&delete this[t]},keys:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},values:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},entries:function(){var t=[];return this.forEach(function(e,n){t.push({key:e,value:n})}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===Ha&&t.call(this,e.substring(1),this[e])}});var Da="\x00",Ha=Da.charCodeAt(0);ya.nest=function(){function t(e,s,l){if(l>=a.length)return i?i.call(o,s):n?s.sort(n):s;for(var u,c,d,f,h=-1,p=s.length,g=a[l++],m=new r;++h<p;)(f=m.get(u=g(c=s[h])))?f.push(c):m.set(u,[c]);return e?(c=e(),d=function(n,i){c.set(n,t(e,i,l))}):(c={},d=function(n,i){c[n]=t(e,i,l)}),m.forEach(d),c}function e(t,n){if(n>=a.length)return t;var i=[],r=s[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,o={},a=[],s=[];return o.map=function(e,n){return t(n,e,0)},o.entries=function(n){return e(t(ya.map,n,0),0)},o.key=function(t){return a.push(t),o},o.sortKeys=function(t){return s[a.length-1]=t,o},o.sortValues=function(t){return n=t,o},o.rollup=function(t){return i=t,o},o},ya.set=function(t){var e=new o;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},i(o,{has:function(t){return Da+t in this},add:function(t){return this[Da+t]=!0,t},remove:function(t){return t=Da+t,t in this&&delete this[t]},values:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===Ha&&t.call(this,e.substring(1))}}),ya.behavior={},ya.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=a(t,e,e[n]);return t};var La=["webkit","ms","moz","Moz","o","O"];ya.dispatch=function(){for(var t=new u,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=c(t);return t},u.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.substring(n+1),t=t.substring(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},ya.event=null,ya.requote=function(t){return t.replace(Fa,"\\$&")};var Fa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ba={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Pa=function(t,e){return e.querySelector(t)},ja=function(t,e){return e.querySelectorAll(t)},Oa=wa[s(wa,"matchesSelector")],za=function(t,e){return Oa.call(t,e)};"function"==typeof Sizzle&&(Pa=function(t,e){return Sizzle(t,e)[0]||null},ja=function(t,e){return Sizzle.uniqueSort(Sizzle(t,e))},za=Sizzle.matchesSelector),ya.selection=function(){return qa};var $a=ya.selection.prototype=[];$a.select=function(t){var e,n,i,r,o=[];t=g(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var l=-1,u=i.length;++l<u;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return p(o)},$a.selectAll=function(t){var e,n,i=[];t=m(t);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],s=-1,l=a.length;++s<l;)(n=a[s])&&(i.push(e=xa(t.call(n,n.__data__,s,r))),e.parentNode=n);return p(i)};var Ia={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ya.ns={prefix:Ia,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.substring(0,e),t=t.substring(e+1)),Ia.hasOwnProperty(n)?{space:Ia[n],local:t}:t}},$a.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ya.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(v(e,t[e]));return this}return this.each(v(t,e))},$a.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=t.trim().split(/^|\s+/g)).length,r=-1;
if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!b(t[r]).test(e))return!1;return!0}for(e in t)this.each(x(e,t[e]));return this}return this.each(x(t,e))},$a.style=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e="");for(n in t)this.each(w(n,t[n],e));return this}if(2>i)return Ca.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(w(t,e,n))},$a.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(C(e,t[e]));return this}return this.each(C(t,e))},$a.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},$a.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},$a.append=function(t){return t=k(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},$a.insert=function(t,e){return t=k(t),e=g(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments))})},$a.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},$a.data=function(t,e){function n(t,n){var i,o,a,s=t.length,d=n.length,f=Math.min(s,d),h=new Array(d),p=new Array(d),g=new Array(s);if(e){var m,v=new r,y=new r,b=[];for(i=-1;++i<s;)m=e.call(o=t[i],o.__data__,i),v.has(m)?g[i]=o:v.set(m,o),b.push(m);for(i=-1;++i<d;)m=e.call(n,a=n[i],i),(o=v.get(m))?(h[i]=o,o.__data__=a):y.has(m)||(p[i]=E(a)),y.set(m,a),v.remove(m);for(i=-1;++i<s;)v.has(b[i])&&(g[i]=t[i])}else{for(i=-1;++i<f;)o=t[i],a=n[i],o?(o.__data__=a,h[i]=o):p[i]=E(a);for(;d>i;++i)p[i]=E(n[i]);for(;s>i;++i)g[i]=t[i]}p.update=h,p.parentNode=h.parentNode=g.parentNode=t.parentNode,l.push(p),u.push(h),c.push(g)}var i,o,a=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(i=this[0]).length);++a<s;)(o=i[a])&&(t[a]=o.__data__);return t}var l=N([]),u=p([]),c=p([]);if("function"==typeof t)for(;++a<s;)n(i=this[a],t.call(i,i.parentNode.__data__,a));else for(;++a<s;)n(i=this[a],t);return u.enter=function(){return l},u.exit=function(){return c},u},$a.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},$a.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=S(t));for(var o=0,a=this.length;a>o;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;l>s;s++)(i=n[s])&&t.call(i,i.__data__,s)&&e.push(i)}return p(r)},$a.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},$a.sort=function(t){t=M.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},$a.each=function(t){return T(this,function(e,n,i){t.call(e,e.__data__,n,i)})},$a.call=function(t){var e=xa(arguments);return t.apply(e[0]=this,e),this},$a.empty=function(){return!this.node()},$a.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var o=n[i];if(o)return o}return null},$a.size=function(){var t=0;return this.each(function(){++t}),t};var Wa=[];ya.selection.enter=N,ya.selection.enter.prototype=Wa,Wa.append=$a.append,Wa.empty=$a.empty,Wa.node=$a.node,Wa.call=$a.call,Wa.size=$a.size,Wa.select=function(t){for(var e,n,i,r,o,a=[],s=-1,l=this.length;++s<l;){i=(r=this[s]).update,a.push(e=[]),e.parentNode=r.parentNode;for(var u=-1,c=r.length;++u<c;)(o=r[u])?(e.push(i[u]=n=t.call(r.parentNode,o.__data__,u,s)),n.__data__=o.__data__):e.push(null)}return p(a)},Wa.insert=function(t,e){return arguments.length<2&&(e=A(this)),$a.insert.call(this,t,e)},$a.transition=function(){for(var t,e,n=Ol||++ql,i=[],r=zl||{time:Date.now(),ease:Hi,delay:0,duration:250},o=-1,a=this.length;++o<a;){i.push(t=[]);for(var s=this[o],l=-1,u=s.length;++l<u;)(e=s[l])&&Ao(e,l,n,r),t.push(e)}return Mo(i,n)},$a.interrupt=function(){return this.each(R)},ya.select=function(t){var e=["string"==typeof t?Pa(t,_a):t];return e.parentNode=wa,p([e])},ya.selectAll=function(t){var e=xa("string"==typeof t?ja(t,_a):t);return e.parentNode=wa,p([e])};var qa=ya.select(wa);$a.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(D(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(D(t,e,n))};var Ua=ya.map({mouseenter:"mouseover",mouseleave:"mouseout"});Ua.forEach(function(t){"on"+t in _a&&Ua.remove(t)});var Va=s(wa.style,"userSelect"),Xa=0;ya.mouse=function(t){return B(t,f())};var Ya=/WebKit/.test(Ca.navigator.userAgent)?-1:0;ya.touches=function(t,e){return arguments.length<2&&(e=f().touches),e?xa(e).map(function(e){var n=B(t,e);return n.identifier=e.identifier,n}):[]},ya.behavior.drag=function(){function t(){this.on("mousedown.drag",a).on("touchstart.drag",s)}function e(){return ya.event.changedTouches[0].identifier}function n(t,e){return ya.touches(t).filter(function(t){return t.identifier===e})[0]}function i(t,e,n,i){return function(){function a(){if(!c)return s();var t=e(c,h),n=t[0]-g[0],i=t[1]-g[1];m|=n|i,g=t,d({type:"drag",x:t[0]+l[0],y:t[1]+l[1],dx:n,dy:i})}function s(){v.on(n+"."+p,null).on(i+"."+p,null),y(m&&ya.event.target===f),d({type:"dragend"})}var l,u=this,c=u.parentNode,d=r.of(u,arguments),f=ya.event.target,h=t(),p=null==h?"drag":"drag-"+h,g=e(c,h),m=0,v=ya.select(Ca).on(n+"."+p,a).on(i+"."+p,s),y=F();o?(l=o.apply(u,arguments),l=[l.x-g[0],l.y-g[1]]):l=[0,0],d({type:"dragstart"})}}var r=h(t,"drag","dragstart","dragend"),o=null,a=i(l,ya.mouse,"mousemove","mouseup"),s=i(e,n,"touchmove","touchend");return t.origin=function(e){return arguments.length?(o=e,t):o},ya.rebind(t,r,"on")};var Ka=Math.PI,Za=1e-6,Ga=Za*Za,Ja=Ka/180,Qa=180/Ka,ts=Math.SQRT2,es=2,ns=4;ya.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=$(g),a=o/(es*f)*(n*I(ts*e+g)-z(g));return[i+a*u,r+a*c,o*n/$(ts*e+g)]}return[i+t*u,r+t*c,o*Math.exp(ts*e)]}var i=t[0],r=t[1],o=t[2],a=e[0],s=e[1],l=e[2],u=a-i,c=s-r,d=u*u+c*c,f=Math.sqrt(d),h=(l*l-o*o+ns*d)/(2*o*es*f),p=(l*l-o*o-ns*d)/(2*l*es*f),g=Math.log(Math.sqrt(h*h+1)-h),m=Math.log(Math.sqrt(p*p+1)-p),v=m-g,y=(v||Math.log(l/o))/ts;return n.duration=1e3*y,n},ya.behavior.zoom=function(){function t(t){t.on(M,u).on(os+".zoom",f).on(T,p).on("dblclick.zoom",g).on(A,c)}function e(t){return[(t[0]-k.x)/k.k,(t[1]-k.y)/k.k]}function n(t){return[t[0]*k.k+k.x,t[1]*k.k+k.y]}function i(t){k.k=Math.max(S[0],Math.min(S[1],t))}function r(t,e){e=n(e),k.x+=t[0]-e[0],k.y+=t[1]-e[1]}function o(){_&&_.domain(x.range().map(function(t){return(t-k.x)/k.k}).map(x.invert)),C&&C.domain(w.range().map(function(t){return(t-k.y)/k.k}).map(w.invert))}function a(t){t({type:"zoomstart"})}function s(t){o(),t({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function l(t){t({type:"zoomend"})}function u(){function t(){c=1,r(ya.mouse(i),f),s(o)}function n(){d.on(T,Ca===i?p:null).on(N,null),h(c&&ya.event.target===u),l(o)}var i=this,o=D.of(i,arguments),u=ya.event.target,c=0,d=ya.select(Ca).on(T,t).on(N,n),f=e(ya.mouse(i)),h=F();R.call(i),a(o)}function c(){function t(){var t=ya.touches(p);return h=k.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=e(t))}),t}function n(){for(var e=ya.event.changedTouches,n=0,o=e.length;o>n;++n)m[e[n].identifier]=null;var a=t(),l=Date.now();if(1===a.length){if(500>l-b){var u=a[0],c=m[u.identifier];i(2*k.k),r(u,c),d(),s(g)}b=l}else if(a.length>1){var u=a[0],f=a[1],h=u[0]-f[0],p=u[1]-f[1];v=h*h+p*p}}function o(){for(var t,e,n,o,a=ya.touches(p),l=0,u=a.length;u>l;++l,o=null)if(n=a[l],o=m[n.identifier]){if(e)break;t=n,e=o}if(o){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,d=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],i(d*h)}b=null,r(t,e),s(g)}function f(){if(ya.event.touches.length){for(var e=ya.event.changedTouches,n=0,i=e.length;i>n;++n)delete m[e[n].identifier];for(var r in m)return void t()}w.on(x,null).on(_,null),C.on(M,u).on(A,c),E(),l(g)}var h,p=this,g=D.of(p,arguments),m={},v=0,y=ya.event.changedTouches[0].identifier,x="touchmove.zoom-"+y,_="touchend.zoom-"+y,w=ya.select(Ca).on(x,o).on(_,f),C=ya.select(p).on(M,null).on(A,n),E=F();R.call(p),n(),a(g)}function f(){var t=D.of(this,arguments);y?clearTimeout(y):(R.call(this),a(t)),y=setTimeout(function(){y=null,l(t)},50),d();var n=v||ya.mouse(this);m||(m=e(n)),i(Math.pow(2,.002*is())*k.k),r(n,m),s(t)}function p(){m=null}function g(){var t=D.of(this,arguments),n=ya.mouse(this),o=e(n),u=Math.log(k.k)/Math.LN2;a(t),i(Math.pow(2,ya.event.shiftKey?Math.ceil(u)-1:Math.floor(u)+1)),r(n,o),s(t),l(t)}var m,v,y,b,x,_,w,C,k={x:0,y:0,k:1},E=[960,500],S=rs,M="mousedown.zoom",T="mousemove.zoom",N="mouseup.zoom",A="touchstart.zoom",D=h(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=D.of(this,arguments),e=k;Ol?ya.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},a(t)}).tween("zoom:zoom",function(){var n=E[0],i=E[1],r=n/2,o=i/2,a=ya.interpolateZoom([(r-k.x)/k.k,(o-k.y)/k.k,n/k.k],[(r-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var i=a(e),l=n/i[2];this.__chart__=k={x:r-i[0]*l,y:o-i[1]*l,k:l},s(t)}}).each("end.zoom",function(){l(t)}):(this.__chart__=k,a(t),s(t),l(t))})},t.translate=function(e){return arguments.length?(k={x:+e[0],y:+e[1],k:k.k},o(),t):[k.x,k.y]},t.scale=function(e){return arguments.length?(k={x:k.x,y:k.y,k:+e},o(),t):k.k},t.scaleExtent=function(e){return arguments.length?(S=null==e?rs:[+e[0],+e[1]],t):S},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(E=e&&[+e[0],+e[1]],t):E},t.x=function(e){return arguments.length?(_=e,x=e.copy(),k={x:0,y:0,k:1},t):_},t.y=function(e){return arguments.length?(C=e,w=e.copy(),k={x:0,y:0,k:1},t):C},ya.rebind(t,D,"on")};var is,rs=[0,1/0],os="onwheel"in _a?(is=function(){return-ya.event.deltaY*(ya.event.deltaMode?120:1)},"wheel"):"onmousewheel"in _a?(is=function(){return ya.event.wheelDelta},"mousewheel"):(is=function(){return-ya.event.detail},"MozMousePixelScroll");q.prototype.toString=function(){return this.rgb()+""},ya.hsl=function(t,e,n){return 1===arguments.length?t instanceof V?U(t.h,t.s,t.l):ue(""+t,ce,U):U(+t,+e,+n)};var as=V.prototype=new q;as.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),U(this.h,this.s,this.l/t)},as.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),U(this.h,this.s,t*this.l)},as.rgb=function(){return X(this.h,this.s,this.l)},ya.hcl=function(t,e,n){return 1===arguments.length?t instanceof K?Y(t.h,t.c,t.l):t instanceof J?te(t.l,t.a,t.b):te((t=de((t=ya.rgb(t)).r,t.g,t.b)).l,t.a,t.b):Y(+t,+e,+n)};var ss=K.prototype=new q;ss.brighter=function(t){return Y(this.h,this.c,Math.min(100,this.l+ls*(arguments.length?t:1)))},ss.darker=function(t){return Y(this.h,this.c,Math.max(0,this.l-ls*(arguments.length?t:1)))},ss.rgb=function(){return Z(this.h,this.c,this.l).rgb()},ya.lab=function(t,e,n){return 1===arguments.length?t instanceof J?G(t.l,t.a,t.b):t instanceof K?Z(t.l,t.c,t.h):de((t=ya.rgb(t)).r,t.g,t.b):G(+t,+e,+n)};var ls=18,us=.95047,cs=1,ds=1.08883,fs=J.prototype=new q;fs.brighter=function(t){return G(Math.min(100,this.l+ls*(arguments.length?t:1)),this.a,this.b)},fs.darker=function(t){return G(Math.max(0,this.l-ls*(arguments.length?t:1)),this.a,this.b)},fs.rgb=function(){return Q(this.l,this.a,this.b)},ya.rgb=function(t,e,n){return 1===arguments.length?t instanceof se?ae(t.r,t.g,t.b):ue(""+t,ae,X):ae(~~t,~~e,~~n)};var hs=se.prototype=new q;hs.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),ae(Math.min(255,~~(e/t)),Math.min(255,~~(n/t)),Math.min(255,~~(i/t)))):ae(r,r,r)},hs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),ae(~~(t*this.r),~~(t*this.g),~~(t*this.b))},hs.hsl=function(){return ce(this.r,this.g,this.b)},hs.toString=function(){return"#"+le(this.r)+le(this.g)+le(this.b)};var ps=ya.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ps.forEach(function(t,e){ps.set(t,re(e))}),ya.functor=pe,ya.xhr=me(ge),ya.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=ya.xhr(t,e,o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?i:r(t)):n},a.row(n)}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function a(e){return e.map(s).join(t)}function s(t){return l.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var l=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(c>=l)return a;if(r)return r=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++c):10===i&&(r=!0),t.substring(e+1,n).replace(/""/g,'"')}for(;l>c;){var i=t.charCodeAt(c++),s=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(c)&&(++c,++s);else if(i!==u)continue;return t.substring(e,c-s)}return t.substring(e)}for(var i,r,o={},a={},s=[],l=t.length,c=0,d=0;(i=n())!==a;){for(var f=[];i!==o&&i!==a;)f.push(i),i=n();(!e||(f=e(f,d++)))&&s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new o,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(s).join(t)].concat(e.map(function(e){return r.map(function(t){return s(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(a).join("\n")},n},ya.csv=ya.dsv(",","text/csv"),ya.tsv=ya.dsv("	","text/tab-separated-values");var gs,ms,vs,ys,bs,xs=Ca[s(Ca,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ya.timer=function(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var r=n+e,o={callback:t,time:r,next:null};ms?ms.next=o:gs=o,ms=o,vs||(ys=clearTimeout(ys),vs=1,xs(be))},ya.timer.flush=function(){_e(),we()};var _s=".",ws=",",Cs=[3,3],ks="$",Es=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ce);ya.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=ya.round(t,ke(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((0>=n?n+1:n-1)/3)))),Es[8+n/3]},ya.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},ya.format=function(t){var e=Ss.exec(t),n=e[1]||" ",i=e[2]||">",r=e[3]||"",o=e[4]||"",a=e[5],s=+e[6],l=e[7],u=e[8],c=e[9],d=1,f="",h=!1;switch(u&&(u=+u.substring(1)),(a||"0"===n&&"="===i)&&(a=n="0",i="=",l&&(s-=Math.floor((s-1)/4))),c){case"n":l=!0,c="g";break;case"%":d=100,f="%",c="f";break;case"p":d=100,f="%",c="r";break;case"b":case"o":case"x":case"X":"#"===o&&(o="0"+c.toLowerCase());case"c":case"d":h=!0,u=0;break;case"s":d=-1,c="r"}"#"===o?o="":"$"===o&&(o=ks),"r"!=c||u||(c="g"),null!=u&&("g"==c?u=Math.max(1,Math.min(21,u)):("e"==c||"f"==c)&&(u=Math.max(0,Math.min(20,u)))),c=Ms.get(c)||Ee;var p=a&&l;return function(t){if(h&&t%1)return"";var e=0>t||0===t&&0>1/t?(t=-t,"-"):r;if(0>d){var g=ya.formatPrefix(t,u);t=g.scale(t),f=g.symbol}else t*=d;t=c(t,u);var m=t.lastIndexOf("."),v=0>m?t:t.substring(0,m),y=0>m?"":_s+t.substring(m+1);!a&&l&&(v=Ts(v));var b=o.length+v.length+y.length+(p?0:e.length),x=s>b?new Array(b=s-b+1).join(n):"";return p&&(v=Ts(x+v)),e+=o,t=v+y,("<"===i?e+t+x:">"===i?x+e+t:"^"===i?x.substring(0,b>>=1)+e+t+x.substring(b):e+(p?t:x+t))+f}};var Ss=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ms=ya.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ya.round(t,ke(t,e))).toFixed(Math.max(0,Math.min(20,ke(t*(1+1e-15),e))))}}),Ts=ge;if(Cs){var Ns=Cs.length;Ts=function(t){for(var e=t.length,n=[],i=0,r=Cs[0];e>0&&r>0;)n.push(t.substring(e-=r,e+r)),r=Cs[i=(i+1)%Ns];return n.reverse().join(ws)}}ya.geo={},Se.prototype={s:0,t:0,add:function(t){Me(t,this.t,As),Me(As.s,this.s,this),this.s?this.t+=As.t:this.s=As.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var As=new Se;ya.geo.stream=function(t,e){t&&Rs.hasOwnProperty(t.type)?Rs[t.type](t,e):Te(t,e)};var Rs={Feature:function(t,e){Te(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)Te(n[i].geometry,e)}},Ds={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Ne(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Ne(n[i],e,0)},Polygon:function(t,e){Ae(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Ae(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)Te(n[i],e)}};ya.geo.area=function(t){return Hs=0,ya.geo.stream(t,Fs),Hs};var Hs,Ls=new Se,Fs={sphere:function(){Hs+=4*Ka},point:l,lineStart:l,lineEnd:l,polygonStart:function(){Ls.reset(),Fs.lineStart=Re},polygonEnd:function(){var t=2*Ls;Hs+=0>t?4*Ka+t:t,Fs.lineStart=Fs.lineEnd=Fs.point=l}};ya.geo.bounds=function(){function t(t,e){b.push(x=[c=t,f=t]),d>e&&(d=e),e>h&&(h=e)}function e(e,n){var i=De([e*Ja,n*Ja]);if(v){var r=Le(v,i),o=[r[1],-r[0],0],a=Le(o,r);Pe(a),a=je(a);var l=e-p,u=l>0?1:-1,g=a[0]*Qa*u,m=Math.abs(l)>180;if(m^(g>u*p&&u*e>g)){var y=a[1]*Qa;y>h&&(h=y)}else if(g=(g+360)%360-180,m^(g>u*p&&u*e>g)){var y=-a[1]*Qa;d>y&&(d=y)}else d>n&&(d=n),n>h&&(h=n);m?p>e?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e):f>=c?(c>e&&(c=e),e>f&&(f=e)):e>p?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e)}else t(e,n);v=i,p=e}function n(){_.point=e}function i(){x[0]=c,x[1]=f,_.point=t,v=null}function r(t,n){if(v){var i=t-p;y+=Math.abs(i)>180?i+(i>0?360:-360):i}else g=t,m=n;Fs.point(t,n),e(t,n)}function o(){Fs.lineStart()}function a(){r(g,m),Fs.lineEnd(),Math.abs(y)>Za&&(c=-(f=180)),x[0]=c,x[1]=f,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,d,f,h,p,g,m,v,y,b,x,_={point:t,lineStart:n,lineEnd:i,polygonStart:function(){_.point=r,_.lineStart=o,_.lineEnd=a,y=0,Fs.polygonStart()},polygonEnd:function(){Fs.polygonEnd(),_.point=t,_.lineStart=n,_.lineEnd=i,0>Ls?(c=-(f=180),d=-(h=90)):y>Za?h=90:-Za>y&&(d=-90),x[0]=c,x[1]=f}};return function(t){h=f=-(c=d=1/0),b=[],ya.geo.stream(t,_);var e=b.length;if(e){b.sort(l);for(var n,i=1,r=b[0],o=[r];e>i;++i)n=b[i],u(n[0],r)||u(n[1],r)?(s(r[0],n[1])>s(r[0],r[1])&&(r[1]=n[1]),s(n[0],r[1])>s(r[0],r[1])&&(r[0]=n[0])):o.push(r=n);for(var a,n,p=-1/0,e=o.length-1,i=0,r=o[e];e>=i;r=n,++i)n=o[i],(a=s(r[1],n[0]))>p&&(p=a,c=n[0],f=r[1])}return b=x=null,1/0===c||1/0===d?[[0/0,0/0],[0/0,0/0]]:[[c,d],[f,h]]}}(),ya.geo.centroid=function(t){Bs=Ps=js=Os=zs=$s=Is=Ws=qs=Us=Vs=0,ya.geo.stream(t,Xs);var e=qs,n=Us,i=Vs,r=e*e+n*n+i*i;return Ga>r&&(e=$s,n=Is,i=Ws,Za>Ps&&(e=js,n=Os,i=zs),r=e*e+n*n+i*i,Ga>r)?[0/0,0/0]:[Math.atan2(n,e)*Qa,O(i/Math.sqrt(r))*Qa]};var Bs,Ps,js,Os,zs,$s,Is,Ws,qs,Us,Vs,Xs={sphere:l,point:ze,lineStart:Ie,lineEnd:We,polygonStart:function(){Xs.lineStart=qe},polygonEnd:function(){Xs.lineStart=Ie}},Ys=Ye(Ue,Qe,en,nn),Ks=[-Ka,0],Zs=1e9;ya.geo.clipExtent=function(){var t,e,n,i,r,o,a={stream:function(t){return r&&(r.valid=!1),r=o(t),r.valid=!0,r},extent:function(s){return arguments.length?(o=on(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),a):[[t,e],[n,i]]}};return a.extent([[0,0],[960,500]])},(ya.geo.conicEqualArea=function(){return ln(un)}).raw=un,ya.geo.albers=function(){return ya.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ya.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(i(o,a),e)||r(o,a),e}var e,n,i,r,o=ya.geo.albers(),a=ya.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ya.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?a:r>=.166&&.234>r&&i>=-.214&&-.115>i?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var u=o.scale(),c=+e[0],d=+e[1];return n=o.translate(e).clipExtent([[c-.455*u,d-.238*u],[c+.455*u,d+.238*u]]).stream(l).point,i=a.translate([c-.307*u,d+.201*u]).clipExtent([[c-.425*u+Za,d+.12*u+Za],[c-.214*u-Za,d+.234*u-Za]]).stream(l).point,r=s.translate([c-.205*u,d+.212*u]).clipExtent([[c-.214*u+Za,d+.166*u+Za],[c-.115*u-Za,d+.234*u-Za]]).stream(l).point,t},t.scale(1070)};var Gs,Js,Qs,tl,el,nl,il={point:l,lineStart:l,lineEnd:l,polygonStart:function(){Js=0,il.lineStart=cn},polygonEnd:function(){il.lineStart=il.lineEnd=il.point=l,Gs+=Math.abs(Js/2)}},rl={point:dn,lineStart:l,lineEnd:l,polygonStart:l,polygonEnd:l},ol={point:pn,lineStart:gn,lineEnd:mn,polygonStart:function(){ol.lineStart=vn},polygonEnd:function(){ol.point=pn,ol.lineStart=gn,ol.lineEnd=mn}};ya.geo.transform=function(t){return{stream:function(e){var n=new xn(e);for(var i in t)n[i]=t[i];return n}}},xn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ya.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=r(o)),ya.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,i,r,o,a,s=4.5;return t.area=function(t){return Gs=0,ya.geo.stream(t,r(il)),Gs},t.centroid=function(t){return js=Os=zs=$s=Is=Ws=qs=Us=Vs=0,ya.geo.stream(t,r(ol)),Vs?[qs/Vs,Us/Vs]:Ws?[$s/Ws,Is/Ws]:zs?[js/zs,Os/zs]:[0/0,0/0]},t.bounds=function(t){return el=nl=-(Qs=tl=1/0),ya.geo.stream(t,r(rl)),[[Qs,tl],[el,nl]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||_n(t):ge,e()):n},t.context=function(t){return arguments.length?(o=null==(i=t)?new fn:new yn(t),"function"!=typeof s&&o.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(ya.geo.albersUsa()).context(null)},ya.geo.projection=wn,ya.geo.projectionMutator=Cn,(ya.geo.equirectangular=function(){return wn(En)}).raw=En.invert=En,ya.geo.rotation=function(t){function e(e){return e=t(e[0]*Ja,e[1]*Ja),e[0]*=Qa,e[1]*=Qa,e}return t=Sn(t[0]%360*Ja,t[1]*Ja,t.length>2?t[2]*Ja:0),e.invert=function(e){return e=t.invert(e[0]*Ja,e[1]*Ja),e[0]*=Qa,e[1]*=Qa,e},e},ya.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=Sn(-t[0]*Ja,-t[1]*Ja,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Qa,t[1]*=Qa}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=An((e=+i)*Ja,r*Ja),t):e},t.precision=function(i){return arguments.length?(n=An(e*Ja,(r=+i)*Ja),t):r},t.angle(90)},ya.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Ja,r=t[1]*Ja,o=e[1]*Ja,a=Math.sin(i),s=Math.cos(i),l=Math.sin(r),u=Math.cos(r),c=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=u*c-l*d*s)*n),l*c+u*d*s)},ya.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ya.range(Math.ceil(o/m)*m,r,m).map(f).concat(ya.range(Math.ceil(u/v)*v,l,v).map(h)).concat(ya.range(Math.ceil(i/p)*p,n,p).filter(function(t){return Math.abs(t%m)>Za}).map(c)).concat(ya.range(Math.ceil(s/g)*g,a,g).filter(function(t){return Math.abs(t%v)>Za}).map(d))}var n,i,r,o,a,s,l,u,c,d,f,h,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(h(l).slice(1),f(r).reverse().slice(1),h(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],u=+e[0][1],l=+e[1][1],o>r&&(e=o,o=r,r=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[o,u],[r,l]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],i>n&&(e=i,i=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[i,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=Dn(s,a,90),d=Hn(i,n,y),f=Dn(u,l,90),h=Hn(o,r,y),t):y},t.majorExtent([[-180,-90+Za],[180,90-Za]]).minorExtent([[-180,-80-Za],[180,80+Za]])},ya.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=Ln,r=Fn;return t.distance=function(){return ya.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},ya.geo.interpolate=function(t,e){return Bn(t[0]*Ja,t[1]*Ja,e[0]*Ja,e[1]*Ja)},ya.geo.length=function(t){return al=0,ya.geo.stream(t,sl),al};var al,sl={sphere:l,point:l,lineStart:Pn,lineEnd:l,polygonStart:l,polygonEnd:l},ll=jn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ya.geo.azimuthalEqualArea=function(){return wn(ll)}).raw=ll;var ul=jn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},ge);(ya.geo.azimuthalEquidistant=function(){return wn(ul)}).raw=ul,(ya.geo.conicConformal=function(){return ln(On)}).raw=On,(ya.geo.conicEquidistant=function(){return ln(zn)}).raw=zn;var cl=jn(function(t){return 1/t},Math.atan);(ya.geo.gnomonic=function(){return wn(cl)}).raw=cl,$n.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ka/2]},(ya.geo.mercator=function(){return In($n)}).raw=$n;var dl=jn(function(){return 1},Math.asin);(ya.geo.orthographic=function(){return wn(dl)}).raw=dl;var fl=jn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ya.geo.stereographic=function(){return wn(fl)}).raw=fl,Wn.invert=function(t,e){return[Math.atan2(z(t),Math.cos(e)),O(Math.sin(e)/$(t))]},(ya.geo.transverseMercator=function(){return In(Wn)}).raw=Wn,ya.geom={},ya.svg={},ya.svg.line=function(){return qn(ge)};var hl=ya.map({linear:Xn,"linear-closed":Yn,step:Kn,"step-before":Zn,"step-after":Gn,basis:ii,"basis-open":ri,"basis-closed":oi,bundle:ai,cardinal:ti,"cardinal-open":Jn,"cardinal-closed":Qn,monotone:fi});hl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var pl=[0,2/3,1/3,0],gl=[0,1/3,2/3,0],ml=[0,1/6,2/3,1/6];ya.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r,o,a,s,l,u,c,d,f,h,p,g=pe(n),m=pe(i),v=t.length,y=v-1,b=[],x=[],_=0;if(g===Un&&i===Vn)e=t;else for(o=0,e=[];v>o;++o)e.push([+g.call(this,r=t[o],o),+m.call(this,r,o)]);for(o=1;v>o;++o)(e[o][1]<e[_][1]||e[o][1]==e[_][1]&&e[o][0]<e[_][0])&&(_=o);for(o=0;v>o;++o)o!==_&&(l=e[o][1]-e[_][1],s=e[o][0]-e[_][0],b.push({angle:Math.atan2(l,s),index:o}));for(b.sort(function(t,e){return t.angle-e.angle}),h=b[0].angle,f=b[0].index,d=0,o=1;y>o;++o){if(a=b[o].index,h==b[o].angle){if(s=e[f][0]-e[_][0],l=e[f][1]-e[_][1],u=e[a][0]-e[_][0],c=e[a][1]-e[_][1],s*s+l*l>=u*u+c*c){b[o].index=-1;continue}b[d].index=-1}h=b[o].angle,d=o,f=a}for(x.push(_),o=0,a=0;2>o;++a)b[a].index>-1&&(x.push(b[a].index),o++);for(p=x.length;y>a;++a)if(!(b[a].index<0)){for(;!hi(x[p-2],x[p-1],b[a].index,e);)--p;x[p++]=b[a].index}var w=[];for(o=p-1;o>=0;--o)w.push(t[x[o]]);return w}var n=Un,i=Vn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},ya.geom.polygon=function(t){return Ba(t,vl),t};var vl=ya.geom.polygon.prototype=[];vl.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},vl.centroid=function(t){var e,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},vl.clip=function(t){for(var e,n,i,r,o,a,s=mi(t),l=-1,u=this.length-mi(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,r=this[l],o=e[(i=e.length-s)-1],n=-1;++n<i;)a=e[n],pi(a,c,r)?(pi(o,c,r)||t.push(gi(o,a,c,r)),t.push(a)):pi(o,c,r)&&t.push(gi(o,a,c,r)),o=a;s&&t.push(t[0]),c=r}return t},ya.geom.delaunay=function(t){var e=t.map(function(){return[]}),n=[];return vi(t,function(n){e[n.region.l.index].push(t[n.region.r.index])
}),e.forEach(function(e,i){var r=t[i],o=r[0],a=r[1];e.forEach(function(t){t.angle=Math.atan2(t[0]-o,t[1]-a)}),e.sort(function(t,e){return t.angle-e.angle});for(var s=0,l=e.length-1;l>s;s++)n.push([r,e[s],e[s+1]])}),n},ya.geom.voronoi=function(t){function e(t){var e,o,a,s=t.map(function(){return[]}),l=pe(n),u=pe(i),c=t.length,d=1e6;if(l===Un&&u===Vn)e=t;else for(e=new Array(c),a=0;c>a;++a)e[a]=[+l.call(this,o=t[a],a),+u.call(this,o,a)];if(vi(e,function(t){var e,n,i,r,o,a;1===t.a&&t.b>=0?(e=t.ep.r,n=t.ep.l):(e=t.ep.l,n=t.ep.r),1===t.a?(o=e?e.y:-d,i=t.c-t.b*o,a=n?n.y:d,r=t.c-t.b*a):(i=e?e.x:-d,o=t.c-t.a*i,r=n?n.x:d,a=t.c-t.a*r);var l=[i,o],u=[r,a];s[t.region.l.index].push(l,u),s[t.region.r.index].push(l,u)}),s=s.map(function(t,n){var i=e[n][0],r=e[n][1],o=t.map(function(t){return Math.atan2(t[0]-i,t[1]-r)}),a=ya.range(t.length).sort(function(t,e){return o[t]-o[e]});return a.filter(function(t,e){return!e||o[t]-o[a[e-1]]>Za}).map(function(e){return t[e]})}),s.forEach(function(t,n){var i=t.length;if(!i)return t.push([-d,-d],[-d,d],[d,d],[d,-d]);if(!(i>2)){var r=e[n],o=t[0],a=t[1],s=r[0],l=r[1],u=o[0],c=o[1],f=a[0],h=a[1],p=Math.abs(f-u),g=h-c;if(Math.abs(g)<Za){var m=c>l?-d:d;t.push([-d,m],[d,m])}else if(Za>p){var v=u>s?-d:d;t.push([v,-d],[v,d])}else{var m=(u-s)*(h-c)>(f-u)*(c-l)?d:-d,y=Math.abs(g)-p;Math.abs(y)<Za?t.push([0>g?m:-m,m]):(y>0&&(m*=-1),t.push([-d,m],[d,m]))}}}),r)for(a=0;c>a;++a)r.clip(s[a]);for(a=0;c>a;++a)s[a].point=t[a];return s}var n=Un,i=Vn,r=null;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.clipExtent=function(t){if(!arguments.length)return r&&[r[0],r[2]];if(null==t)r=null;else{var n=+t[0][0],i=+t[0][1],o=+t[1][0],a=+t[1][1];r=ya.geom.polygon([[n,i],[n,a],[o,a],[o,i]])}return e},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):r&&r[2]},e.links=function(t){var e,r,o,a=t.map(function(){return[]}),s=[],l=pe(n),u=pe(i),c=t.length;if(l===Un&&u===Vn)e=t;else for(e=new Array(c),o=0;c>o;++o)e[o]=[+l.call(this,r=t[o],o),+u.call(this,r,o)];return vi(e,function(e){var n=e.region.l.index,i=e.region.r.index;a[n][i]||(a[n][i]=a[i][n]=!0,s.push({source:t[n],target:t[i]}))}),s},e.triangles=function(t){if(n===Un&&i===Vn)return ya.geom.delaunay(t);for(var e,r=new Array(l),o=pe(n),a=pe(i),s=-1,l=t.length;++s<l;)(r[s]=[+o.call(this,e=t[s],s),+a.call(this,e,s)]).data=e;return ya.geom.delaunay(r).map(function(t){return t.map(function(t){return t.data})})},e)};var yl={l:"r",r:"l"};ya.geom.quadtree=function(t,e,n,i,r){function o(t){function o(t,e,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(Math.abs(l-n)+Math.abs(c-i)<.01)u(t,e,n,i,r,o,a,s);else{var d=t.point;t.x=t.y=t.point=null,u(t,d,l,c,r,o,a,s),u(t,e,n,i,r,o,a,s)}else t.x=n,t.y=i,t.point=e}else u(t,e,n,i,r,o,a,s)}function u(t,e,n,i,r,a,s,l){var u=.5*(r+s),c=.5*(a+l),d=n>=u,f=i>=c,h=(f<<1)+d;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=xi()),d?r=u:s=u,f?a=c:l=c,o(t,e,n,i,r,a,s,l)}var c,d,f,h,p,g,m,v,y,b=pe(s),x=pe(l);if(null!=e)g=e,m=n,v=i,y=r;else if(v=y=-(g=m=1/0),d=[],f=[],p=t.length,a)for(h=0;p>h;++h)c=t[h],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),d.push(c.x),f.push(c.y);else for(h=0;p>h;++h){var _=+b(c=t[h],h),w=+x(c,h);g>_&&(g=_),m>w&&(m=w),_>v&&(v=_),w>y&&(y=w),d.push(_),f.push(w)}var C=v-g,k=y-m;C>k?y=m+C:v=g+k;var E=xi();if(E.add=function(t){o(E,t,+b(t,++h),+x(t,h),g,m,v,y)},E.visit=function(t){_i(t,E,g,m,v,y)},h=-1,null==e){for(;++h<p;)o(E,t[h],d[h],f[h],g,m,v,y);--h}else t.forEach(E.add);return d=f=t=c=null,E}var a,s=Un,l=Vn;return(a=arguments.length)?(s=yi,l=bi,3===a&&(r=n,i=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(l=t,o):l},o.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o):null==e?null:[[e,n],[i,r]]},o.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),o):null==e?null:[i-e,r-n]},o)},ya.interpolateRgb=wi,ya.interpolateObject=Ci,ya.interpolateNumber=ki,ya.interpolateString=Ei;var bl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;ya.interpolate=Si,ya.interpolators=[function(t,e){var n=typeof e;return("string"===n?ps.has(e)||/^(#|rgb\(|hsl\()/.test(e)?wi:Ei:e instanceof q?wi:"object"===n?Array.isArray(e)?Mi:Ci:ki)(t,e)}],ya.interpolateArray=Mi;var xl=function(){return ge},_l=ya.map({linear:xl,poly:Li,quad:function(){return Ri},cubic:function(){return Di},sin:function(){return Fi},exp:function(){return Bi},circle:function(){return Pi},elastic:ji,back:Oi,bounce:function(){return zi}}),wl=ya.map({"in":ge,out:Ni,"in-out":Ai,"out-in":function(t){return Ai(Ni(t))}});ya.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.substring(0,e):t,i=e>=0?t.substring(e+1):"in";return n=_l.get(n)||xl,i=wl.get(i)||ge,Ti(i(n.apply(null,Array.prototype.slice.call(arguments,1))))},ya.interpolateHcl=$i,ya.interpolateHsl=Ii,ya.interpolateLab=Wi,ya.interpolateRound=qi,ya.transform=function(t){var e=_a.createElementNS(ya.ns.prefix.svg,"g");return(ya.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Ui(n?n.matrix:Cl)})(t)},Ui.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Cl={a:1,b:0,c:0,d:1,e:0,f:0};ya.interpolateTransform=Ki,ya.layout={},ya.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Ji(t[n]));return e}},ya.layout.chord=function(){function t(){var t,u,d,f,h,p={},g=[],m=ya.range(o),v=[];for(n=[],i=[],t=0,f=-1;++f<o;){for(u=0,h=-1;++h<o;)u+=r[f][h];g.push(u),v.push(ya.range(o)),t+=u}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(r[e][t],r[e][n])})}),t=(2*Ka-c*o)/t,u=0,f=-1;++f<o;){for(d=u,h=-1;++h<o;){var y=m[f],b=v[y][h],x=r[y][b],_=u,w=u+=x*t;p[y+"-"+b]={index:y,subindex:b,startAngle:_,endAngle:w,value:x}}i[y]={index:y,startAngle:d,endAngle:u,value:(u-d)/t},u+=c}for(f=-1;++f<o;)for(h=f-1;++h<o;){var C=p[f+"-"+h],k=p[h+"-"+f];(C.value||k.value)&&n.push(C.value<k.value?{source:k,target:C}:{source:C,target:k})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,o,a,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(o=(r=t)&&r.length,n=i=null,u):r},u.padding=function(t){return arguments.length?(c=t,n=i=null,u):c},u.sortGroups=function(t){return arguments.length?(a=t,n=i=null,u):a},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return i||t(),i},u},ya.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=1/Math.sqrt(o*o+a*a);if(g>(r-n)*s){var l=e.charge*s*s;return t.px-=o*l,t.py-=a*l,!0}if(e.point&&isFinite(s)){var l=e.pointCharge*s*s;t.px-=o*l,t.py-=a*l}}return!e.charge}}function e(t){t.px=ya.event.x,t.py=ya.event.y,s.resume()}var n,i,r,o,a,s={},l=ya.dispatch("start","tick","end"),u=[1,1],c=.9,d=kl,f=El,h=-30,p=.1,g=.8,m=[],v=[];return s.tick=function(){if((i*=.99)<.005)return l.end({type:"end",alpha:i=0}),!0;var e,n,s,d,f,g,y,b,x,_=m.length,w=v.length;for(n=0;w>n;++n)s=v[n],d=s.source,f=s.target,b=f.x-d.x,x=f.y-d.y,(g=b*b+x*x)&&(g=i*o[n]*((g=Math.sqrt(g))-r[n])/g,b*=g,x*=g,f.x-=b*(y=d.weight/(f.weight+d.weight)),f.y-=x*y,d.x+=b*(y=1-y),d.y+=x*y);if((y=i*p)&&(b=u[0]/2,x=u[1]/2,n=-1,y))for(;++n<_;)s=m[n],s.x+=(b-s.x)*y,s.y+=(x-s.y)*y;if(h)for(or(e=ya.geom.quadtree(m),i,a),n=-1;++n<_;)(s=m[n]).fixed||e.visit(t(s));for(n=-1;++n<_;)s=m[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);l.tick({type:"tick",alpha:i})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(v=t,s):v},s.size=function(t){return arguments.length?(u=t,s):u},s.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.gravity=function(t){return arguments.length?(p=+t,s):p},s.theta=function(t){return arguments.length?(g=+t,s):g},s.alpha=function(t){return arguments.length?(t=+t,i?i=t>0?t:0:t>0&&(l.start({type:"start",alpha:i=t}),ya.timer(s.tick)),s):i},s.start=function(){function t(t,i){for(var r,o=e(n),a=-1,s=o.length;++a<s;)if(!isNaN(r=o[a][t]))return r;return Math.random()*i}function e(){if(!l){for(l=[],i=0;p>i;++i)l[i]=[];for(i=0;g>i;++i){var t=v[i];l[t.source.index].push(t.target),l[t.target.index].push(t.source)}}return l[n]}var n,i,l,c,p=m.length,g=v.length,y=u[0],b=u[1];for(n=0;p>n;++n)(c=m[n]).index=n,c.weight=0;for(n=0;g>n;++n)c=v[n],"number"==typeof c.source&&(c.source=m[c.source]),"number"==typeof c.target&&(c.target=m[c.target]),++c.source.weight,++c.target.weight;for(n=0;p>n;++n)c=m[n],isNaN(c.x)&&(c.x=t("x",y)),isNaN(c.y)&&(c.y=t("y",b)),isNaN(c.px)&&(c.px=c.x),isNaN(c.py)&&(c.py=c.y);if(r=[],"function"==typeof d)for(n=0;g>n;++n)r[n]=+d.call(this,v[n],n);else for(n=0;g>n;++n)r[n]=d;if(o=[],"function"==typeof f)for(n=0;g>n;++n)o[n]=+f.call(this,v[n],n);else for(n=0;g>n;++n)o[n]=f;if(a=[],"function"==typeof h)for(n=0;p>n;++n)a[n]=+h.call(this,m[n],n);else for(n=0;p>n;++n)a[n]=h;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=ya.behavior.drag().origin(ge).on("dragstart.force",er).on("drag.force",e).on("dragend.force",nr)),arguments.length?(this.on("mouseover.force",ir).on("mouseout.force",rr).call(n),void 0):n},ya.rebind(s,l,"on")};var kl=20,El=1;ya.layout.hierarchy=function(){function t(e,a,s){var l=r.call(n,e,a);if(e.depth=a,s.push(e),l&&(u=l.length)){for(var u,c,d=-1,f=e.children=[],h=0,p=a+1;++d<u;)c=t(l[d],p,s),c.parent=e,f.push(c),h+=c.value;i&&f.sort(i),o&&(e.value=h)}else o&&(e.value=+o.call(n,e,a)||0);return e}function e(t,i){var r=t.children,a=0;if(r&&(s=r.length))for(var s,l=-1,u=i+1;++l<s;)a+=e(r[l],u);else o&&(a=+o.call(n,t,i)||0);return o&&(t.value=a),a}function n(e){var n=[];return t(e,0,n),n}var i=ur,r=sr,o=lr;return n.sort=function(t){return arguments.length?(i=t,n):i},n.children=function(t){return arguments.length?(r=t,n):r},n.value=function(t){return arguments.length?(o=t,n):o},n.revalue=function(t){return e(t,0),t},n},ya.layout.partition=function(){function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(a=o.length)){var a,s,l,u=-1;for(i=e.value?i/e.value:0;++u<a;)t(s=o[u],n,l=s.value*i,r),n+=l}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}function n(n,o){var a=i.call(this,n,o);return t(a[0],0,r[0],r[1]/e(a[0])),a}var i=ya.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},ar(n,i)},ya.layout.pie=function(){function t(o){var a=o.map(function(n,i){return+e.call(t,n,i)}),s=+("function"==typeof i?i.apply(this,arguments):i),l=(("function"==typeof r?r.apply(this,arguments):r)-s)/ya.sum(a),u=ya.range(o.length);null!=n&&u.sort(n===Sl?function(t,e){return a[e]-a[t]}:function(t,e){return n(o[t],o[e])});var c=[];return u.forEach(function(t){var e;c[t]={data:o[t],value:e=a[t],startAngle:s,endAngle:s+=e*l}}),c}var e=Number,n=Sl,i=0,r=2*Ka;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t};var Sl={};ya.layout.stack=function(){function t(s,l){var u=s.map(function(n,i){return e.call(t,n,i)}),c=u.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),d=n.call(t,c,l);u=ya.permute(u,d),c=ya.permute(c,d);var f,h,p,g=i.call(t,c,l),m=u.length,v=u[0].length;for(h=0;v>h;++h)for(r.call(t,u[0][h],p=g[h],c[0][h][1]),f=1;m>f;++f)r.call(t,u[f][h],p+=c[f-1][h][1],c[f][h][1]);return s}var e=ge,n=pr,i=gr,r=hr,o=dr,a=fr;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:Ml.get(e)||pr,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:Tl.get(e)||gr,t):i},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(r=e,t):r},t};var Ml=ya.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(mr),o=t.map(vr),a=ya.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,l=0,u=[],c=[];for(e=0;i>e;++e)n=a[e],l>s?(s+=o[n],u.push(n)):(l+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return ya.range(t.length).reverse()},"default":pr}),Tl=ya.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,a=[],s=0,l=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>s&&(s=i),a.push(i)}for(n=0;o>n;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,i,r,o,a,s,l,u,c=t.length,d=t[0],f=d.length,h=[];for(h[0]=l=u=0,n=1;f>n;++n){for(e=0,r=0;c>e;++e)r+=t[e][n][1];for(e=0,o=0,s=d[n][0]-d[n-1][0];c>e;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>i;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;o+=a*t[e][n][1]}h[n]=l-=r?o/r*s:0,u>l&&(u=l)}for(n=0;f>n;++n)h[n]-=u;return h},expand:function(t){var e,n,i,r=t.length,o=t[0].length,a=1/r,s=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:gr});ya.layout.histogram=function(){function t(t,o){for(var a,s,l=[],u=t.map(n,this),c=i.call(this,u,o),d=r.call(this,c,u,o),o=-1,f=u.length,h=d.length-1,p=e?1:1/f;++o<h;)a=l[o]=[],a.dx=d[o+1]-(a.x=d[o]),a.y=0;if(h>0)for(o=-1;++o<f;)s=u[o],s>=c[0]&&s<=c[1]&&(a=l[ya.bisect(d,s,1,h)-1],a.y+=p,a.push(t[o]));return l}var e=!0,n=Number,i=_r,r=br;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=pe(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return xr(t,e)}:pe(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ya.layout.tree=function(){function t(t,o){function a(t,e){var i=t.children,r=t._tree;if(i&&(o=i.length)){for(var o,s,u,c=i[0],d=c,f=-1;++f<o;)u=i[f],a(u,s),d=l(u,s,d),s=u;Ar(t);var h=.5*(c._tree.prelim+u._tree.prelim);e?(r.prelim=e._tree.prelim+n(t,e),r.mod=r.prelim-h):r.prelim=h}else e&&(r.prelim=e._tree.prelim+n(t,e))}function s(t,e){t.x=t._tree.prelim+e;var n=t.children;if(n&&(i=n.length)){var i,r=-1;for(e+=t._tree.mod;++r<i;)s(n[r],e)}}function l(t,e,i){if(e){for(var r,o=t,a=t,s=e,l=t.parent.children[0],u=o._tree.mod,c=a._tree.mod,d=s._tree.mod,f=l._tree.mod;s=kr(s),o=Cr(o),s&&o;)l=Cr(l),a=kr(a),a._tree.ancestor=t,r=s._tree.prelim+d-o._tree.prelim-u+n(s,o),r>0&&(Rr(Dr(s,t,i),t,r),u+=r,c+=r),d+=s._tree.mod,u+=o._tree.mod,f+=l._tree.mod,c+=a._tree.mod;s&&!kr(a)&&(a._tree.thread=s,a._tree.mod+=d-c),o&&!Cr(l)&&(l._tree.thread=o,l._tree.mod+=u-f,i=t)}return i}var u=e.call(this,t,o),c=u[0];Nr(c,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),a(c),s(c,-c._tree.prelim);var d=Er(c,Mr),f=Er(c,Sr),h=Er(c,Tr),p=d.x-n(d,f)/2,g=f.x+n(f,d)/2,m=h.depth||1;return Nr(c,r?function(t){t.x*=i[0],t.y=t.depth*i[1],delete t._tree}:function(t){t.x=(t.x-p)/(g-p)*i[0],t.y=t.depth/m*i[1],delete t._tree}),u}var e=ya.layout.hierarchy().sort(null).value(null),n=wr,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},ar(t,e)},ya.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],l=r[0],u=r[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,Nr(s,function(t){t.r=+c(t.value)}),Nr(s,Pr),i){var d=i*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;Nr(s,function(t){t.r+=d}),Nr(s,Pr),Nr(s,function(t){t.r-=d})}return zr(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),a}var e,n=ya.layout.hierarchy().sort(Hr),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},ar(t,n)},ya.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),l=s[0],u=0;Nr(l,function(t){var e=t.children;e&&e.length?(t.x=Wr(e),t.y=Ir(e)):(t.x=a?u+=n(t,a):0,t.y=0,a=t)});var c=qr(l),d=Ur(l),f=c.x-n(c,d)/2,h=d.x+n(d,c)/2;return Nr(l,r?function(t){t.x=(t.x-l.x)*i[0],t.y=(l.y-t.y)*i[1]}:function(t){t.x=(t.x-f)/(h-f)*i[0],t.y=(1-(l.y?t.y/l.y:1))*i[1]}),s}var e=ya.layout.hierarchy().sort(null).value(null),n=wr,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},ar(t,e)},ya.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var o=n.children;if(o&&o.length){var a,s,l,u=d(n),c=[],f=o.slice(),p=1/0,g="slice"===h?u.dx:"dice"===h?u.dy:"slice-dice"===h?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(f,u.dx*u.dy/n.value),c.area=0;(l=f.length)>0;)c.push(a=f[l-1]),c.area+=a.area,"squarify"!==h||(s=i(c,g))<=p?(f.pop(),p=s):(c.area-=c.pop().area,r(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(r(c,g,u,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var o,a=d(e),s=i.slice(),l=[];for(t(s,a.dx*a.dy/e.value),l.area=0;o=s.pop();)l.push(o),l.area+=o.area,null!=o.z&&(r(l,o.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(o>n&&(o=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*p/i,i/(e*o*p)):1/0}function r(t,e,n,i){var r,o=-1,a=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++o<a;)r=t[o],r.x=s,r.y=u,r.dy=c,s+=r.dx=Math.min(n.x+n.dx-s,c?l(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++o<a;)r=t[o],r.x=s,r.y=u,r.dx=c,u+=r.dy=Math.min(n.y+n.dy-u,c?l(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function o(i){var r=a||s(i),o=r[0];return o.x=0,o.y=0,o.dx=u[0],o.dy=u[1],a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),f&&(a=r),r}var a,s=ya.layout.hierarchy(),l=Math.round,u=[1,1],c=null,d=Vr,f=!1,h="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(u=t,o):u},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Vr(e):Xr(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Xr(e,t)}if(!arguments.length)return c;var i;return d=null==(c=t)?Vr:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(l=t?Math.round:Number,o):l!=Number},o.sticky=function(t){return arguments.length?(f=t,a=null,o):f},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(h=t+"",o):h},ar(o,s)},ya.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=ya.random.normal.apply(ya,arguments);return function(){return Math.exp(t())}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e/t}}},ya.scale={};var Nl={floor:ge,ceil:ge};ya.scale.linear=function(){return to([0,1],[0,1],Si,!1)},ya.scale.log=function(){return ao(ya.scale.linear().domain([0,1]),10,!0,[1,10])};var Al=ya.format(".0e"),Rl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ya.scale.pow=function(){return so(ya.scale.linear(),1,[0,1])},ya.scale.sqrt=function(){return ya.scale.pow().exponent(.5)},ya.scale.ordinal=function(){return uo([],{t:"range",a:[[]]})},ya.scale.category10=function(){return ya.scale.ordinal().range(Dl)},ya.scale.category20=function(){return ya.scale.ordinal().range(Hl)},ya.scale.category20b=function(){return ya.scale.ordinal().range(Ll)},ya.scale.category20c=function(){return ya.scale.ordinal().range(Fl)};var Dl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(oe),Hl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(oe),Ll=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(oe),Fl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(oe);ya.scale.quantile=function(){return co([],[])},ya.scale.quantize=function(){return fo(0,1,[0,1])},ya.scale.threshold=function(){return ho([.5],[0,1])},ya.scale.identity=function(){return po([0,1])},ya.svg.arc=function(){function t(){var t=e.apply(this,arguments),o=n.apply(this,arguments),a=i.apply(this,arguments)+Bl,s=r.apply(this,arguments)+Bl,l=(a>s&&(l=a,a=s,s=l),s-a),u=Ka>l?"0":"1",c=Math.cos(a),d=Math.sin(a),f=Math.cos(s),h=Math.sin(s);return l>=Pl?t?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":t?"M"+o*c+","+o*d+"A"+o+","+o+" 0 "+u+",1 "+o*f+","+o*h+"L"+t*f+","+t*h+"A"+t+","+t+" 0 "+u+",0 "+t*c+","+t*d+"Z":"M"+o*c+","+o*d+"A"+o+","+o+" 0 "+u+",1 "+o*f+","+o*h+"L0,0"+"Z"}var e=go,n=mo,i=vo,r=yo;return t.innerRadius=function(n){return arguments.length?(e=pe(n),t):e},t.outerRadius=function(e){return arguments.length?(n=pe(e),t):n},t.startAngle=function(e){return arguments.length?(i=pe(e),t):i},t.endAngle=function(e){return arguments.length?(r=pe(e),t):r},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,o=(i.apply(this,arguments)+r.apply(this,arguments))/2+Bl;return[Math.cos(o)*t,Math.sin(o)*t]},t};var Bl=-Ka/2,Pl=2*Ka-1e-6;ya.svg.line.radial=function(){var t=qn(bo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Zn.reverse=Gn,Gn.reverse=Zn,ya.svg.area=function(){return xo(ge)},ya.svg.area.radial=function(){var t=xo(bo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ya.svg.chord=function(){function t(t,s){var l=e(this,o,t,s),u=e(this,a,t,s);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,u)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,u.r,u.p0)+i(u.r,u.p1,u.a1-u.a0)+r(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),o=s.call(t,r,i),a=l.call(t,r,i)+Bl,c=u.call(t,r,i)+Bl;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ka)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var o=Ln,a=Fn,s=_o,l=vo,u=yo;return t.radius=function(e){return arguments.length?(s=pe(e),t):s},t.source=function(e){return arguments.length?(o=pe(e),t):o},t.target=function(e){return arguments.length?(a=pe(e),t):a},t.startAngle=function(e){return arguments.length?(l=pe(e),t):l},t.endAngle=function(e){return arguments.length?(u=pe(e),t):u},t},ya.svg.diagonal=function(){function t(t,r){var o=e.call(this,t,r),a=n.call(this,t,r),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=Ln,n=Fn,i=wo;return t.source=function(n){return arguments.length?(e=pe(n),t):e},t.target=function(e){return arguments.length?(n=pe(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},ya.svg.diagonal.radial=function(){var t=ya.svg.diagonal(),e=wo,n=t.projection;return t.projection=function(t){return arguments.length?n(Co(e=t)):e},t},ya.svg.symbol=function(){function t(t,i){return(jl.get(e.call(this,t,i))||So)(n.call(this,t,i))}var e=Eo,n=ko;return t.type=function(n){return arguments.length?(e=pe(n),t):e},t.size=function(e){return arguments.length?(n=pe(e),t):n},t};var jl=ya.map({circle:So,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Il)),n=e*Il;return"M0,"+-e+"L"+n+",0"+" 0,"+e+" "+-n+",0"+"Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/$l),n=e*$l/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/$l),n=e*$l/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ya.svg.symbolTypes=jl.keys();var Ol,zl,$l=Math.sqrt(3),Il=Math.tan(30*Ja),Wl=[],ql=0;Wl.call=$a.call,Wl.empty=$a.empty,Wl.node=$a.node,Wl.size=$a.size,ya.transition=function(t){return arguments.length?Ol?t.transition():t:qa.transition()},ya.transition.prototype=Wl,Wl.select=function(t){var e,n,i,r=this.id,o=[];t=g(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]);for(var l=this[a],u=-1,c=l.length;++u<c;)(i=l[u])&&(n=t.call(i,i.__data__,u,a))?("__data__"in i&&(n.__data__=i.__data__),Ao(n,u,r,i.__transition__[r]),e.push(n)):e.push(null)}return Mo(o,r)},Wl.selectAll=function(t){var e,n,i,r,o,a=this.id,s=[];t=m(t);for(var l=-1,u=this.length;++l<u;)for(var c=this[l],d=-1,f=c.length;++d<f;)if(i=c[d]){o=i.__transition__[a],n=t.call(i,i.__data__,d,l),s.push(e=[]);for(var h=-1,p=n.length;++h<p;)(r=n[h])&&Ao(r,h,a,o),e.push(r)}return Mo(s,a)},Wl.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=S(t));for(var o=0,a=this.length;a>o;o++){r.push(e=[]);for(var n=this[o],s=0,l=n.length;l>s;s++)(i=n[s])&&t.call(i,i.__data__,s)&&e.push(i)}return Mo(r,this.id)},Wl.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):T(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(i){i.__transition__[n].tween.set(t,e)})},Wl.attr=function(t,e){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Ki:Si,s=ya.ns.qualify(t);return To(this,"attr."+t,e,s.local?o:r)},Wl.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=ya.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},Wl.style=function(t,e,n){function i(){this.style.removeProperty(t)}function r(e){return null==e?i:(e+="",function(){var i,r=Ca.getComputedStyle(this,null).getPropertyValue(t);return r!==e&&(i=Si(r,e),function(e){this.style.setProperty(t,i(e),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return To(this,"style."+t,e,r)},Wl.styleTween=function(t,e,n){function i(i,r){var o=e.call(this,i,r,Ca.getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,i)},Wl.text=function(t){return To(this,"text",t,No)},Wl.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Wl.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=ya.ease.apply(ya,arguments)),T(this,function(n){n.__transition__[e].ease=t}))},Wl.delay=function(t){var e=this.id;return T(this,"function"==typeof t?function(n,i,r){n.__transition__[e].delay=+t.call(n,n.__data__,i,r)}:(t=+t,function(n){n.__transition__[e].delay=t}))},Wl.duration=function(t){var e=this.id;return T(this,"function"==typeof t?function(n,i,r){n.__transition__[e].duration=Math.max(1,t.call(n,n.__data__,i,r))}:(t=Math.max(1,t),function(n){n.__transition__[e].duration=t}))},Wl.each=function(t,e){var n=this.id;if(arguments.length<2){var i=zl,r=Ol;Ol=n,T(this,function(e,i,r){zl=e.__transition__[n],t.call(e,e.__data__,i,r)}),zl=i,Ol=r}else T(this,function(i){var r=i.__transition__[n];(r.event||(r.event=ya.dispatch("start","end"))).on(t,e)});return this},Wl.transition=function(){for(var t,e,n,i,r=this.id,o=++ql,a=[],s=0,l=this.length;l>s;s++){a.push(t=[]);for(var e=this[s],u=0,c=e.length;c>u;u++)(n=e[u])&&(i=Object.create(n.__transition__[r]),i.delay+=i.duration,Ao(n,u,o,i)),t.push(n)}return Mo(a,o)},ya.svg.axis=function(){function t(t){t.each(function(){var t,u=ya.select(this),c=null==l?n.ticks?n.ticks.apply(n,s):n.domain():l,d=null==e?n.tickFormat?n.tickFormat.apply(n,s):ge:e,f=u.selectAll(".tick").data(c,ge),h=f.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),p=ya.transition(f.exit()).style("opacity",1e-6).remove(),g=ya.transition(f).style("opacity",1),m=Kr(n),v=u.selectAll(".domain").data([0]),y=(v.enter().append("path").attr("class","domain"),ya.transition(v)),b=n.copy(),x=this.__chart__||b;this.__chart__=b,h.append("line"),h.append("text");var _=h.select("line"),w=g.select("line"),C=f.select("text").text(d),k=h.select("text"),E=g.select("text");switch(i){case"bottom":t=Ro,_.attr("y2",r),k.attr("y",Math.max(r,0)+a),w.attr("x2",0).attr("y2",r),E.attr("x",0).attr("y",Math.max(r,0)+a),C.attr("dy",".71em").style("text-anchor","middle"),y.attr("d","M"+m[0]+","+o+"V0H"+m[1]+"V"+o);break;case"top":t=Ro,_.attr("y2",-r),k.attr("y",-(Math.max(r,0)+a)),w.attr("x2",0).attr("y2",-r),E.attr("x",0).attr("y",-(Math.max(r,0)+a)),C.attr("dy","0em").style("text-anchor","middle"),y.attr("d","M"+m[0]+","+-o+"V0H"+m[1]+"V"+-o);break;case"left":t=Do,_.attr("x2",-r),k.attr("x",-(Math.max(r,0)+a)),w.attr("x2",-r).attr("y2",0),E.attr("x",-(Math.max(r,0)+a)).attr("y",0),C.attr("dy",".32em").style("text-anchor","end"),y.attr("d","M"+-o+","+m[0]+"H0V"+m[1]+"H"+-o);break;case"right":t=Do,_.attr("x2",r),k.attr("x",Math.max(r,0)+a),w.attr("x2",r).attr("y2",0),E.attr("x",Math.max(r,0)+a).attr("y",0),C.attr("dy",".32em").style("text-anchor","start"),y.attr("d","M"+o+","+m[0]+"H0V"+m[1]+"H"+o)}if(n.rangeBand){var S=b.rangeBand()/2,M=function(t){return b(t)+S};h.call(t,M),g.call(t,M)}else h.call(t,x),g.call(t,b),p.call(t,b)})}var e,n=ya.scale.linear(),i=Ul,r=6,o=6,a=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Vl?e+"":Ul,t):i},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,o=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Ul="bottom",Vl={top:1,right:1,bottom:1,left:1};ya.svg.brush=function(){function t(o){o.each(function(){var o=ya.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(m,ge);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Xl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var c,d=ya.transition(o),f=ya.transition(a);l&&(c=Kr(l),f.attr("x",c[0]).attr("width",c[1]-c[0]),n(d)),u&&(c=Kr(u),f.attr("y",c[0]).attr("height",c[1]-c[0]),i(d)),e(d)
})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+c[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",c[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function i(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function r(){function r(){32==ya.event.keyCode&&(T||(b=null,A[0]-=c[1],A[1]-=f[1],T=2),d())}function h(){32==ya.event.keyCode&&2==T&&(A[0]+=c[1],A[1]+=f[1],T=0,d())}function m(){var t=ya.mouse(_),r=!1;x&&(t[0]+=x[0],t[1]+=x[1]),T||(ya.event.altKey?(b||(b=[(c[0]+c[1])/2,(f[0]+f[1])/2]),A[0]=c[+(t[0]<b[0])],A[1]=f[+(t[1]<b[1])]):b=null),S&&v(t,l,0)&&(n(k),r=!0),M&&v(t,u,1)&&(i(k),r=!0),r&&(e(k),C({type:"brush",mode:T?"move":"resize"}))}function v(t,e,n){var i,r,s=Kr(e),l=s[0],u=s[1],d=A[n],h=n?f:c,m=h[1]-h[0];return T&&(l-=d,u-=m+d),i=(n?g:p)?Math.max(l,Math.min(u,t[n])):t[n],T?r=(i+=d)+m:(b&&(d=Math.max(l,Math.min(u,2*b[n]-i))),i>d?(r=i,i=d):r=d),h[0]!=i||h[1]!=r?(n?a=null:o=null,h[0]=i,h[1]=r,!0):void 0}function y(){m(),k.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ya.select("body").style("cursor",null),R.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),N(),C({type:"brushend"})}var b,x,_=this,w=ya.select(ya.event.target),C=s.of(_,arguments),k=ya.select(_),E=w.datum(),S=!/^(n|s)$/.test(E)&&l,M=!/^(e|w)$/.test(E)&&u,T=w.classed("extent"),N=F(),A=ya.mouse(_),R=ya.select(Ca).on("keydown.brush",r).on("keyup.brush",h);if(ya.event.changedTouches?R.on("touchmove.brush",m).on("touchend.brush",y):R.on("mousemove.brush",m).on("mouseup.brush",y),k.interrupt().selectAll("*").interrupt(),T)A[0]=c[0]-A[0],A[1]=f[0]-A[1];else if(E){var D=+/w$/.test(E),H=+/^n/.test(E);x=[c[1-D]-A[0],f[1-H]-A[1]],A[0]=c[D],A[1]=f[H]}else ya.event.altKey&&(b=A.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),ya.select("body").style("cursor",w.style("cursor")),C({type:"brushstart"}),m()}var o,a,s=h(t,"brushstart","brush","brushend"),l=null,u=null,c=[0,0],f=[0,0],p=!0,g=!0,m=Yl[0];return t.event=function(t){t.each(function(){var t=s.of(this,arguments),e={x:c,y:f,i:o,j:a},n=this.__chart__||e;this.__chart__=e,Ol?ya.select(this).transition().each("start.brush",function(){o=n.i,a=n.j,c=n.x,f=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Mi(c,e.x),i=Mi(f,e.y);return o=a=null,function(r){c=e.x=n(r),f=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,m=Yl[!l<<1|!u],t):l},t.y=function(e){return arguments.length?(u=e,m=Yl[!l<<1|!u],t):u},t.clamp=function(e){return arguments.length?(l&&u?(p=!!e[0],g=!!e[1]):l?p=!!e:u&&(g=!!e),t):l&&u?[p,g]:l?p:u?g:null},t.extent=function(e){var n,i,r,s,d;return arguments.length?(l&&(n=e[0],i=e[1],u&&(n=n[0],i=i[0]),o=[n,i],l.invert&&(n=l(n),i=l(i)),n>i&&(d=n,n=i,i=d),(n!=c[0]||i!=c[1])&&(c=[n,i])),u&&(r=e[0],s=e[1],l&&(r=r[1],s=s[1]),a=[r,s],u.invert&&(r=u(r),s=u(s)),r>s&&(d=r,r=s,s=d),(r!=f[0]||s!=f[1])&&(f=[r,s])),t):(l&&(o?(n=o[0],i=o[1]):(n=c[0],i=c[1],l.invert&&(n=l.invert(n),i=l.invert(i)),n>i&&(d=n,n=i,i=d))),u&&(a?(r=a[0],s=a[1]):(r=f[0],s=f[1],u.invert&&(r=u.invert(r),s=u.invert(s)),r>s&&(d=r,r=s,s=d))),l&&u?[[n,r],[i,s]]:l?[n,i]:u&&[r,s])},t.clear=function(){return t.empty()||(c=[0,0],f=[0,0],o=a=null),t},t.empty=function(){return!!l&&c[0]==c[1]||!!u&&f[0]==f[1]},ya.rebind(t,s,"on")};var Xl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Yl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Kl=ya.time={},Zl=Date,Gl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Ho.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Jl.setUTCDate.apply(this._,arguments)},setDay:function(){Jl.setUTCDay.apply(this._,arguments)},setFullYear:function(){Jl.setUTCFullYear.apply(this._,arguments)},setHours:function(){Jl.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Jl.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Jl.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Jl.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Jl.setUTCSeconds.apply(this._,arguments)},setTime:function(){Jl.setTime.apply(this._,arguments)}};var Jl=Date.prototype,Ql="%a %b %e %X %Y",tu="%m/%d/%Y",eu="%H:%M:%S",nu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],iu=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ru=["January","February","March","April","May","June","July","August","September","October","November","December"],ou=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Kl.year=Lo(function(t){return t=Kl.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Kl.years=Kl.year.range,Kl.years.utc=Kl.year.utc.range,Kl.day=Lo(function(t){var e=new Zl(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Kl.days=Kl.day.range,Kl.days.utc=Kl.day.utc.range,Kl.dayOfYear=function(t){var e=Kl.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},Gl.forEach(function(t,e){t=t.toLowerCase(),e=7-e;var n=Kl[t]=Lo(function(t){return(t=Kl.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=Kl.year(t).getDay();return Math.floor((Kl.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Kl[t+"s"]=n.range,Kl[t+"s"].utc=n.utc.range,Kl[t+"OfYear"]=function(t){var n=Kl.year(t).getDay();return Math.floor((Kl.dayOfYear(t)+(n+e)%7)/7)}}),Kl.week=Kl.sunday,Kl.weeks=Kl.sunday.range,Kl.weeks.utc=Kl.sunday.utc.range,Kl.weekOfYear=Kl.sundayOfYear,Kl.format=Bo;var au=jo(nu),su=Oo(nu),lu=jo(iu),uu=Oo(iu),cu=jo(ru),du=Oo(ru),fu=jo(ou),hu=Oo(ou),pu=/^%/,gu={"-":"",_:" ",0:"0"},mu={a:function(t){return iu[t.getDay()]},A:function(t){return nu[t.getDay()]},b:function(t){return ou[t.getMonth()]},B:function(t){return ru[t.getMonth()]},c:Bo(Ql),d:function(t,e){return zo(t.getDate(),e,2)},e:function(t,e){return zo(t.getDate(),e,2)},H:function(t,e){return zo(t.getHours(),e,2)},I:function(t,e){return zo(t.getHours()%12||12,e,2)},j:function(t,e){return zo(1+Kl.dayOfYear(t),e,3)},L:function(t,e){return zo(t.getMilliseconds(),e,3)},m:function(t,e){return zo(t.getMonth()+1,e,2)},M:function(t,e){return zo(t.getMinutes(),e,2)},p:function(t){return t.getHours()>=12?"PM":"AM"},S:function(t,e){return zo(t.getSeconds(),e,2)},U:function(t,e){return zo(Kl.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return zo(Kl.mondayOfYear(t),e,2)},x:Bo(tu),X:Bo(eu),y:function(t,e){return zo(t.getFullYear()%100,e,2)},Y:function(t,e){return zo(t.getFullYear()%1e4,e,4)},Z:ua,"%":function(){return"%"}},vu={a:$o,A:Io,b:Vo,B:Xo,c:Yo,d:na,e:na,H:ra,I:ra,j:ia,L:sa,m:ea,M:oa,p:la,S:aa,U:qo,w:Wo,W:Uo,x:Ko,X:Zo,y:Jo,Y:Go,Z:Qo,"%":ca},yu=/^\s*\d+/,bu=ya.map({am:0,pm:1});Bo.utc=da;var xu=da("%Y-%m-%dT%H:%M:%S.%LZ");Bo.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?fa:xu,fa.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},fa.toString=xu.toString,Kl.second=Lo(function(t){return new Zl(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Kl.seconds=Kl.second.range,Kl.seconds.utc=Kl.second.utc.range,Kl.minute=Lo(function(t){return new Zl(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Kl.minutes=Kl.minute.range,Kl.minutes.utc=Kl.minute.utc.range,Kl.hour=Lo(function(t){var e=t.getTimezoneOffset()/60;return new Zl(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Kl.hours=Kl.hour.range,Kl.hours.utc=Kl.hour.utc.range,Kl.month=Lo(function(t){return t=Kl.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Kl.months=Kl.month.range,Kl.months.utc=Kl.month.utc.range;var _u=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],wu=[[Kl.second,1],[Kl.second,5],[Kl.second,15],[Kl.second,30],[Kl.minute,1],[Kl.minute,5],[Kl.minute,15],[Kl.minute,30],[Kl.hour,1],[Kl.hour,3],[Kl.hour,6],[Kl.hour,12],[Kl.day,1],[Kl.day,2],[Kl.week,1],[Kl.month,1],[Kl.month,3],[Kl.year,1]],Cu=[[Bo("%Y"),Ue],[Bo("%B"),function(t){return t.getMonth()}],[Bo("%b %d"),function(t){return 1!=t.getDate()}],[Bo("%a %d"),function(t){return t.getDay()&&1!=t.getDate()}],[Bo("%I %p"),function(t){return t.getHours()}],[Bo("%I:%M"),function(t){return t.getMinutes()}],[Bo(":%S"),function(t){return t.getSeconds()}],[Bo(".%L"),function(t){return t.getMilliseconds()}]],ku=ga(Cu);wu.year=Kl.year,Kl.scale=function(){return ha(ya.scale.linear(),wu,ku)};var Eu={range:function(t,e,n){return ya.range(+t,+e,n).map(pa)}},Su=wu.map(function(t){return[t[0].utc,t[1]]}),Mu=[[da("%Y"),Ue],[da("%B"),function(t){return t.getUTCMonth()}],[da("%b %d"),function(t){return 1!=t.getUTCDate()}],[da("%a %d"),function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[da("%I %p"),function(t){return t.getUTCHours()}],[da("%I:%M"),function(t){return t.getUTCMinutes()}],[da(":%S"),function(t){return t.getUTCSeconds()}],[da(".%L"),function(t){return t.getUTCMilliseconds()}]],Tu=ga(Mu);return Su.year=Kl.year.utc,Kl.scale.utc=function(){return ha(ya.scale.linear(),Su,Tu)},ya.text=me(function(t){return t.responseText}),ya.json=function(t,e){return ve(t,"application/json",ma,e)},ya.html=function(t,e){return ve(t,"text/html",va,e)},ya.xml=me(function(t){return t.responseXML}),ya}(),function(t,e){var n="ui-effects-";t.effects={effect:{}},function(t,e){function n(t,e,n){var i=d[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function i(e){var n=u(),i=n._rgba=[];return e=e.toLowerCase(),p(l,function(t,r){var o,a=r.re.exec(e),s=a&&r.parse(a),l=r.space||"rgba";return s?(o=n[l](s),n[c[l].cache]=o[c[l].cache],i=n._rgba=o._rgba,!1):void 0}),i.length?("0,0,0,0"===i.join()&&t.extend(i,o.transparent),n):o[e]}function r(t,e,n){return n=(n+1)%1,1>6*n?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],u=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=u.support={},h=t("<p>")[0],p=t.each;h.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=h.style.backgroundColor.indexOf("rgba")>-1,p(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),u.fn=t.extend(u.prototype,{parse:function(r,a,s,l){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(a),a=e);var d=this,f=t.type(r),h=this._rgba=[];return a!==e&&(r=[r,a,s,l],f="array"),"string"===f?this.parse(i(r)||o._default):"array"===f?(p(c.rgba.props,function(t,e){h[e.idx]=n(r[e.idx],e)}),this):"object"===f?(r instanceof u?p(c,function(t,e){r[e.cache]&&(d[e.cache]=r[e.cache].slice())}):p(c,function(e,i){var o=i.cache;p(i.props,function(t,e){if(!d[o]&&i.to){if("alpha"===t||null==r[t])return;d[o]=i.to(d._rgba)}d[o][e.idx]=n(r[t],e,!0)}),d[o]&&t.inArray(null,d[o].slice(0,3))<0&&(d[o][3]=1,i.from&&(d._rgba=i.from(d[o])))}),this):void 0},is:function(t){var e=u(t),n=!0,i=this;return p(c,function(t,r){var o,a=e[r.cache];return a&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],p(r.props,function(t,e){return null!=a[e.idx]?n=a[e.idx]===o[e.idx]:void 0})),n}),n},_space:function(){var t=[],e=this;return p(c,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=u(t),r=i._space(),o=c[r],a=0===this.alpha()?u("transparent"):this,s=a[o.cache]||o.to(a._rgba),l=s.slice();return i=i[o.cache],p(o.props,function(t,r){var o=r.idx,a=s[o],u=i[o],c=d[r.type]||{};null!==u&&(null===a?l[o]=u:(c.mod&&(u-a>c.mod/2?a+=c.mod:a-u>c.mod/2&&(a-=c.mod)),l[o]=n((u-a)*e+a,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=u(e)._rgba;return u(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=t[3],s=Math.max(i,r,o),l=Math.min(i,r,o),u=s-l,c=s+l,d=.5*c;return e=l===s?0:i===s?60*(r-o)/u+360:r===s?60*(o-i)/u+120:60*(i-r)/u+240,n=0===u?0:.5>=d?u/c:u/(2-c),[Math.round(e)%360,n,d,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],a=.5>=i?i*(1+n):i+n-i*n,s=2*i-a;return[Math.round(255*r(s,a,e+1/3)),Math.round(255*r(s,a,e)),Math.round(255*r(s,a,e-1/3)),o]},p(c,function(i,r){var o=r.props,a=r.cache,l=r.to,c=r.from;u.fn[i]=function(i){if(l&&!this[a]&&(this[a]=l(this._rgba)),i===e)return this[a].slice();var r,s=t.type(i),d="array"===s||"object"===s?i:arguments,f=this[a].slice();return p(o,function(t,e){var i=d["object"===s?t:e.idx];null==i&&(i=f[e.idx]),f[e.idx]=n(i,e)}),c?(r=u(c(f)),r[a]=f,r):u(f)},p(o,function(e,n){u.fn[e]||(u.fn[e]=function(r){var o,a=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":i,u=this[l](),c=u[n.idx];return"undefined"===a?c:("function"===a&&(r=r.call(this,c),a=t.type(r)),null==r&&n.empty?this:("string"===a&&(o=s.exec(r),o&&(r=c+parseFloat(o[2])*("+"===o[1]?1:-1))),u[n.idx]=r,this[l](u)))})})}),u.hook=function(e){var n=e.split(" ");p(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,a,s="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=u(o||r),!f.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?e.parentNode:e;(""===s||"transparent"===s)&&a&&a.style;)try{s=t.css(a,"backgroundColor"),a=a.parentNode}catch(l){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(l){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=u(e.elem,n),e.end=u(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},u.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function n(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function i(e,n){var i,r,a={};for(i in n)r=n[i],e[i]!==r&&(o[i]||(t.fx.step[i]||!isNaN(parseFloat(r)))&&(a[i]=r));return a}var r=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,o,a,s){var l=t.speed(o,a,s);return this.queue(function(){var o,a=t(this),s=a.attr("class")||"",u=l.children?a.find("*").addBack():a;u=u.map(function(){var e=t(this);return{el:e,start:n(this)}}),o=function(){t.each(r,function(t,n){e[n]&&a[n+"Class"](e[n])})},o(),u=u.map(function(){return this.end=n(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",s),u=u.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,u.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(n){return function(i,r,o,a,s){return"boolean"==typeof r||r===e?o?t.effects.animateClass.call(this,r?{add:i}:{remove:i},o,a,s):n.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},r,o,a)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function i(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function r(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.10.3",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data(n+e[i],t[0].style[e[i]])},restore:function(t,i){var r,o;for(o=0;o<i.length;o++)null!==i[o]&&(r=t.data(n+i[o]),r===e&&(r=""),t.css(i[o],r))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus()),e},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){function e(e){function i(){t.isFunction(o)&&o.call(r[0]),t.isFunction(e)&&e()}var r=t(this),o=n.complete,s=n.mode;(r.is(":hidden")?"hide"===s:"show"===s)?(r[s](),i()):a.call(r[0],n,i)}var n=i.apply(this,arguments),r=n.mode,o=n.queue,a=t.effects.effect[n.effect];return t.fx.off||!a?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):o===!1?this.each(e):this.queue(o||"fx",e)},show:function(t){return function(e){if(r(e))return t.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(e){if(r(e))return t.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(e){if(r(e)||"boolean"==typeof e)return t.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}})}()}(jQuery),function(t){var e=/up|down|vertical/,n=/up|left|vertical|horizontal/;t.effects.effect.blind=function(i,r){var o,a,s,l=t(this),u=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(l,i.mode||"hide"),d=i.direction||"up",f=e.test(d),h=f?"height":"width",p=f?"top":"left",g=n.test(d),m={},v="show"===c;l.parent().is(".ui-effects-wrapper")?t.effects.save(l.parent(),u):t.effects.save(l,u),l.show(),o=t.effects.createWrapper(l).css({overflow:"hidden"}),a=o[h](),s=parseFloat(o.css(p))||0,m[h]=v?a:0,g||(l.css(f?"bottom":"right",0).css(f?"top":"left","auto").css({position:"absolute"}),m[p]=v?s:a+s),v&&(o.css(h,0),g||o.css(p,s+a)),o.animate(m,{duration:i.duration,easing:i.easing,queue:!1,complete:function(){"hide"===c&&l.hide(),t.effects.restore(l,u),t.effects.removeWrapper(l),r()}})}}(jQuery),function(t){t.effects.effect.bounce=function(e,n){var i,r,o,a=t(this),s=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(a,e.mode||"effect"),u="hide"===l,c="show"===l,d=e.direction||"up",f=e.distance,h=e.times||5,p=2*h+(c||u?1:0),g=e.duration/p,m=e.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=a.queue(),x=b.length;for((c||u)&&s.push("opacity"),t.effects.save(a,s),a.show(),t.effects.createWrapper(a),f||(f=a["top"===v?"outerHeight":"outerWidth"]()/3),c&&(o={opacity:1},o[v]=0,a.css("opacity",0).css(v,y?2*-f:2*f).animate(o,g,m)),u&&(f/=Math.pow(2,h-1)),o={},o[v]=0,i=0;h>i;i++)r={},r[v]=(y?"-=":"+=")+f,a.animate(r,g,m).animate(o,g,m),f=u?2*f:f/2;u&&(r={opacity:0},r[v]=(y?"-=":"+=")+f,a.animate(r,g,m)),a.queue(function(){u&&a.hide(),t.effects.restore(a,s),t.effects.removeWrapper(a),n()}),x>1&&b.splice.apply(b,[1,0].concat(b.splice(x,p+1))),a.dequeue()}}(jQuery),function(t){t.effects.effect.clip=function(e,n){var i,r,o,a=t(this),s=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(a,e.mode||"hide"),u="show"===l,c=e.direction||"vertical",d="vertical"===c,f=d?"height":"width",h=d?"top":"left",p={};t.effects.save(a,s),a.show(),i=t.effects.createWrapper(a).css({overflow:"hidden"}),r="IMG"===a[0].tagName?i:a,o=r[f](),u&&(r.css(f,0),r.css(h,o/2)),p[f]=u?o:0,p[h]=u?0:o/2,r.animate(p,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){u||a.hide(),t.effects.restore(a,s),t.effects.removeWrapper(a),n()}})}}(jQuery),function(t){t.effects.effect.drop=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","opacity","height","width"],a=t.effects.setMode(r,e.mode||"hide"),s="show"===a,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",d={opacity:s?1:0};t.effects.save(r,o),r.show(),t.effects.createWrapper(r),i=e.distance||r["top"===u?"outerHeight":"outerWidth"](!0)/2,s&&r.css("opacity",0).css(u,"pos"===c?-i:i),d[u]=(s?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+i,r.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}})}}(jQuery),function(t){t.effects.effect.explode=function(e,n){function i(){b.push(this),b.length===d*f&&r()}function r(){h.css({visibility:"visible"}),t(b).remove(),g||h.hide(),n()}var o,a,s,l,u,c,d=e.pieces?Math.round(Math.sqrt(e.pieces)):3,f=d,h=t(this),p=t.effects.setMode(h,e.mode||"hide"),g="show"===p,m=h.show().css("visibility","hidden").offset(),v=Math.ceil(h.outerWidth()/f),y=Math.ceil(h.outerHeight()/d),b=[];for(o=0;d>o;o++)for(l=m.top+o*y,c=o-(d-1)/2,a=0;f>a;a++)s=m.left+a*v,u=a-(f-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:s+(g?u*v:0),top:l+(g?c*y:0),opacity:g?0:1}).animate({left:s+(g?0:u*v),top:l+(g?0:c*y),opacity:g?1:0},e.duration||500,e.easing,i)}}(jQuery),function(t){t.effects.effect.fade=function(e,n){var i=t(this),r=t.effects.setMode(i,e.mode||"toggle");i.animate({opacity:r},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}}(jQuery),function(t){t.effects.effect.fold=function(e,n){var i,r,o=t(this),a=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(o,e.mode||"hide"),l="show"===s,u="hide"===s,c=e.size||15,d=/([0-9]+)%/.exec(c),f=!!e.horizFirst,h=l!==f,p=h?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(o,a),o.show(),i=t.effects.createWrapper(o).css({overflow:"hidden"}),r=h?[i.width(),i.height()]:[i.height(),i.width()],d&&(c=parseInt(d[1],10)/100*r[u?0:1]),l&&i.css(f?{height:0,width:c}:{height:c,width:0}),m[p[0]]=l?r[0]:c,v[p[1]]=l?r[1]:0,i.animate(m,g,e.easing).animate(v,g,e.easing,function(){u&&o.hide(),t.effects.restore(o,a),t.effects.removeWrapper(o),n()})}}(jQuery),function(t){t.effects.effect.highlight=function(e,n){var i=t(this),r=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(i,e.mode||"show"),a={backgroundColor:i.css("backgroundColor")};"hide"===o&&(a.opacity=0),t.effects.save(i,r),i.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&i.hide(),t.effects.restore(i,r),n()}})}}(jQuery),function(t){t.effects.effect.pulsate=function(e,n){var i,r=t(this),o=t.effects.setMode(r,e.mode||"show"),a="show"===o,s="hide"===o,l=a||"hide"===o,u=2*(e.times||5)+(l?1:0),c=e.duration/u,d=0,f=r.queue(),h=f.length;for((a||!r.is(":visible"))&&(r.css("opacity",0).show(),d=1),i=1;u>i;i++)r.animate({opacity:d},c,e.easing),d=1-d;r.animate({opacity:d},c,e.easing),r.queue(function(){s&&r.hide(),n()}),h>1&&f.splice.apply(f,[1,0].concat(f.splice(h,u+1))),r.dequeue()}}(jQuery),function(t){t.effects.effect.puff=function(e,n){var i=t(this),r=t.effects.setMode(i,e.mode||"hide"),o="hide"===r,a=parseInt(e.percent,10)||150,s=a/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:r,complete:n,percent:o?a:100,from:o?l:{height:l.height*s,width:l.width*s,outerHeight:l.outerHeight*s,outerWidth:l.outerWidth*s}}),i.effect(e)},t.effects.effect.scale=function(e,n){var i=t(this),r=t.extend(!0,{},e),o=t.effects.setMode(i,e.mode||"effect"),a=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),s=e.direction||"both",l=e.origin,u={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},c={y:"horizontal"!==s?a/100:1,x:"vertical"!==s?a/100:1};r.effect="size",r.queue=!1,r.complete=n,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:u),r.to={height:u.height*c.y,width:u.width*c.x,outerHeight:u.outerHeight*c.y,outerWidth:u.outerWidth*c.x},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),i.effect(r)},t.effects.effect.size=function(e,n){var i,r,o,a=t(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],u=["width","height","overflow"],c=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],f=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=t.effects.setMode(a,e.mode||"effect"),p=e.restore||"effect"!==h,g=e.scale||"both",m=e.origin||["middle","center"],v=a.css("position"),y=p?s:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&a.show(),i={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===e.mode&&"show"===h?(a.from=e.to||b,a.to=e.from||i):(a.from=e.from||("show"===h?b:i),a.to=e.to||("hide"===h?b:i)),o={from:{y:a.from.height/i.height,x:a.from.width/i.width},to:{y:a.to.height/i.height,x:a.to.width/i.width}},("box"===g||"both"===g)&&(o.from.y!==o.to.y&&(y=y.concat(d),a.from=t.effects.setTransition(a,d,o.from.y,a.from),a.to=t.effects.setTransition(a,d,o.to.y,a.to)),o.from.x!==o.to.x&&(y=y.concat(f),a.from=t.effects.setTransition(a,f,o.from.x,a.from),a.to=t.effects.setTransition(a,f,o.to.x,a.to))),("content"===g||"both"===g)&&o.from.y!==o.to.y&&(y=y.concat(c).concat(u),a.from=t.effects.setTransition(a,c,o.from.y,a.from),a.to=t.effects.setTransition(a,c,o.to.y,a.to)),t.effects.save(a,y),a.show(),t.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),m&&(r=t.effects.getBaseline(m,i),a.from.top=(i.outerHeight-a.outerHeight())*r.y,a.from.left=(i.outerWidth-a.outerWidth())*r.x,a.to.top=(i.outerHeight-a.to.outerHeight)*r.y,a.to.left=(i.outerWidth-a.to.outerWidth)*r.x),a.css(a.from),("content"===g||"both"===g)&&(d=d.concat(["marginTop","marginBottom"]).concat(c),f=f.concat(["marginLeft","marginRight"]),u=s.concat(d).concat(f),a.find("*[width]").each(function(){var n=t(this),i={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};p&&t.effects.save(n,u),n.from={height:i.height*o.from.y,width:i.width*o.from.x,outerHeight:i.outerHeight*o.from.y,outerWidth:i.outerWidth*o.from.x},n.to={height:i.height*o.to.y,width:i.width*o.to.x,outerHeight:i.height*o.to.y,outerWidth:i.width*o.to.x},o.from.y!==o.to.y&&(n.from=t.effects.setTransition(n,d,o.from.y,n.from),n.to=t.effects.setTransition(n,d,o.to.y,n.to)),o.from.x!==o.to.x&&(n.from=t.effects.setTransition(n,f,o.from.x,n.from),n.to=t.effects.setTransition(n,f,o.to.x,n.to)),n.css(n.from),n.animate(n.to,e.duration,e.easing,function(){p&&t.effects.restore(n,u)
})})),a.animate(a.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===h&&a.hide(),t.effects.restore(a,y),p||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):t.each(["top","left"],function(t,e){a.css(e,function(e,n){var i=parseInt(n,10),r=t?a.to.left:a.to.top;return"auto"===n?r+"px":i+r+"px"})})),t.effects.removeWrapper(a),n()}})}}(jQuery),function(t){t.effects.effect.shake=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(r,e.mode||"effect"),s=e.direction||"left",l=e.distance||20,u=e.times||3,c=2*u+1,d=Math.round(e.duration/c),f="up"===s||"down"===s?"top":"left",h="up"===s||"left"===s,p={},g={},m={},v=r.queue(),y=v.length;for(t.effects.save(r,o),r.show(),t.effects.createWrapper(r),p[f]=(h?"-=":"+=")+l,g[f]=(h?"+=":"-=")+2*l,m[f]=(h?"-=":"+=")+2*l,r.animate(p,d,e.easing),i=1;u>i;i++)r.animate(g,d,e.easing).animate(m,d,e.easing);r.animate(g,d,e.easing).animate(p,d/2,e.easing).queue(function(){"hide"===a&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,c+1))),r.dequeue()}}(jQuery),function(t){t.effects.effect.slide=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","width","height"],a=t.effects.setMode(r,e.mode||"show"),s="show"===a,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,d={};t.effects.save(r,o),r.show(),i=e.distance||r["top"===u?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(r).css({overflow:"hidden"}),s&&r.css(u,c?isNaN(i)?"-"+i:-i:i),d[u]=(s?c?"+=":"-=":c?"-=":"+=")+i,r.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}})}}(jQuery),function(t){t.effects.effect.transfer=function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),a=t("body"),s=o?a.scrollTop():0,l=o?a.scrollLeft():0,u=r.offset(),c={top:u.top-s,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},d=i.offset(),f=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:d.top-s,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){f.remove(),n()})}}(jQuery),function(t,e){"object"==typeof exports?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t)}(this,function(t){function e(t){this._targetElement=t,this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",tooltipPosition:"bottom",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0}}function n(){"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,this._targetElement),"undefined"==typeof this._currentStep?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep?("function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),r.call(this,this._targetElement)):s.call(this,this._introItems[this._currentStep])}function i(){return 0===this._currentStep?!1:("undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,this._targetElement),s.call(this,this._introItems[--this._currentStep]),void 0)}function r(t){var e=t.querySelector(".introjs-overlay");if(e.style.opacity=0,setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},500),(t=t.querySelector(".introjs-helperLayer"))&&t.parentNode.removeChild(t),(t=document.querySelector(".introjs-showElement"))&&(t.className=t.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"")),(t=document.querySelectorAll(".introjs-fixParent"))&&0<t.length)for(var n=t.length-1;n>=0;n--)t[n].className=t[n].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this._currentStep=void 0}function o(t,e,n){if(e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,this._introItems[this._currentStep])switch(this._introItems[this._currentStep].position){case"top":e.style.left="15px",e.style.top="-"+(c(e).height+10)+"px",n.className="introjs-arrow bottom";break;case"right":e.style.left=c(t).width+20+"px",n.className="introjs-arrow left";break;case"left":e.style.top="15px",e.style.right=c(t).width+20+"px",n.className="introjs-arrow right";break;default:e.style.bottom="-"+(c(e).height+10)+"px",n.className="introjs-arrow top"}}function a(t){if(t&&this._introItems[this._currentStep]){var e=c(this._introItems[this._currentStep].element);t.setAttribute("style","width: "+(e.width+10)+"px; height:"+(e.height+10)+"px; top:"+(e.top-5)+"px;left: "+(e.left-5)+"px;")}}function s(t){var e;"undefined"!=typeof this._introChangeCallback&&this._introChangeCallback.call(this,t.element);var s=this,u=document.querySelector(".introjs-helperLayer");if(c(t.element),null!=u){var d=u.querySelector(".introjs-helperNumberLayer"),f=u.querySelector(".introjs-tooltiptext"),h=u.querySelector(".introjs-arrow"),p=u.querySelector(".introjs-tooltip"),g=u.querySelector(".introjs-skipbutton");e=u.querySelector(".introjs-prevbutton");var m=u.querySelector(".introjs-nextbutton");if(p.style.opacity=0,a.call(s,u),(u=document.querySelectorAll(".introjs-fixParent"))&&0<u.length)for(var v=u.length-1;v>=0;v--)u[v].className=u[v].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");u=document.querySelector(".introjs-showElement"),u.className=u.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""),s._lastShowElementTimer&&clearTimeout(s._lastShowElementTimer),s._lastShowElementTimer=setTimeout(function(){null!=d&&(d.innerHTML=t.step),f.innerHTML=t.intro,o.call(s,t.element,p,h),p.style.opacity=1},350)}else{g=document.createElement("div"),u=document.createElement("div"),v=document.createElement("div"),g.className="introjs-helperLayer",a.call(s,g),this._targetElement.appendChild(g),u.className="introjs-arrow",v.className="introjs-tooltip",v.innerHTML='<div class="introjs-tooltiptext">'+t.intro+'</div><div class="introjs-tooltipbuttons"></div>',this._options.showStepNumbers&&(e=document.createElement("span"),e.className="introjs-helperNumberLayer",e.innerHTML=t.step,g.appendChild(e)),v.appendChild(u),g.appendChild(v),m=document.createElement("a"),m.onclick=function(){s._introItems.length-1!=s._currentStep&&n.call(s)},m.href="javascript:void(0);",m.innerHTML=this._options.nextLabel,e=document.createElement("a"),e.onclick=function(){0!=s._currentStep&&i.call(s)},e.href="javascript:void(0);",e.innerHTML=this._options.prevLabel,g=document.createElement("a"),g.className="introjs-button introjs-skipbutton",g.href="javascript:void(0);",g.innerHTML=this._options.skipLabel,g.onclick=function(){s._introItems.length-1==s._currentStep&&"function"==typeof s._introCompleteCallback&&s._introCompleteCallback.call(s),s._introItems.length-1!=s._currentStep&&"function"==typeof s._introExitCallback&&s._introExitCallback.call(s),r.call(s,s._targetElement)};var y=v.querySelector(".introjs-tooltipbuttons");y.appendChild(g),y.appendChild(e),y.appendChild(m),o.call(s,t.element,v,u)}for(0==this._currentStep?(e.className="introjs-button introjs-prevbutton introjs-disabled",m.className="introjs-button introjs-nextbutton",g.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep?(g.innerHTML=this._options.doneLabel,e.className="introjs-button introjs-prevbutton",m.className="introjs-button introjs-nextbutton introjs-disabled"):(e.className="introjs-button introjs-prevbutton",m.className="introjs-button introjs-nextbutton",g.innerHTML=this._options.skipLabel),m.focus(),t.element.className+=" introjs-showElement",g=l(t.element,"position"),"absolute"!==g&&"relative"!==g&&(t.element.className+=" introjs-relativePosition"),g=t.element.parentNode;null!=g&&"body"!==g.tagName.toLowerCase();)e=l(g,"z-index"),/[0-9]+/.test(e)&&(g.className+=" introjs-fixParent"),g=g.parentNode;g=t.element.getBoundingClientRect(),0<=g.top&&0<=g.left&&g.bottom+80<=window.innerHeight&&g.right<=window.innerWidth||(e=t.element.getBoundingClientRect(),g=e.bottom-(e.bottom-e.top),m=e.bottom,e=void 0!=window.innerWidth?window.innerHeight:document.documentElement.clientHeight,e=m-e,0>g?window.scrollBy(0,g-30):window.scrollBy(0,e+100))}function l(t,e){var n="";return t.currentStyle?n=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n.toLowerCase?n.toLowerCase():n}function u(t){var e=document.createElement("div"),n="",i=this;if(e.className="introjs-overlay","body"===t.tagName.toLowerCase())n+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",e.setAttribute("style",n);else{var o=c(t);o&&(n+="width: "+o.width+"px; height:"+o.height+"px; top:"+o.top+"px;left: "+o.left+"px;",e.setAttribute("style",n))}return t.appendChild(e),e.onclick=function(){1==i._options.exitOnOverlayClick&&r.call(i,t),void 0!=i._introExitCallback&&i._introExitCallback.call(i)},setTimeout(function(){n+="opacity: .8;",e.setAttribute("style",n)},10),!0}function c(t){var e={};e.width=t.offsetWidth,e.height=t.offsetHeight;for(var n=0,i=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)n+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return e.top=i,e.left=n,e}var d=function(t){if("object"==typeof t)return new e(t);if("string"==typeof t){if(t=document.querySelector(t))return new e(t);throw Error("There is no element with given selector.")}return new e(document.body)};return d.version="0.4.0",d.fn=e.prototype={clone:function(){return new e(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){var e,n=this._options,i={};for(e in n)i[e]=n[e];for(e in t)i[e]=t[e];return this._options=i,this},start:function(){t:{var t=this._targetElement,e=[],o=this;if(this._options.steps)for(var s=[],l=0,s=this._options.steps.length;s>l;l++){var c=this._options.steps[l];c.step=l+1,c.element=document.querySelector(c.element),e.push(c)}else{if(s=t.querySelectorAll("*[data-intro]"),1>s.length)break t;for(l=0,c=s.length;c>l;l++){var d=s[l];e.push({element:d,intro:d.getAttribute("data-intro"),step:parseInt(d.getAttribute("data-step"),10),position:d.getAttribute("data-position")||this._options.tooltipPosition})}}e.sort(function(t,e){return t.step-e.step}),o._introItems=e,u.call(o,t)&&(n.call(o),t.querySelector(".introjs-skipbutton"),t.querySelector(".introjs-nextbutton"),o._onKeyDown=function(e){27===e.keyCode&&1==o._options.exitOnEsc?(r.call(o,t),void 0!=o._introExitCallback&&o._introExitCallback.call(o)):37===e.keyCode?i.call(o):(39===e.keyCode||13===e.keyCode)&&(n.call(o),e.preventDefault?e.preventDefault():e.returnValue=!1)},o._onResize=function(){a.call(o,document.querySelector(".introjs-helperLayer"))},window.addEventListener?(window.addEventListener("keydown",o._onKeyDown,!0),window.addEventListener("resize",o._onResize,!0)):document.attachEvent&&(document.attachEvent("onkeydown",o._onKeyDown),document.attachEvent("onresize",o._onResize)))}return this},goToStep:function(t){return this._currentStep=t-2,"undefined"!=typeof this._introItems&&n.call(this),this},exit:function(){r.call(this,this._targetElement)},onbeforechange:function(t){if("function"!=typeof t)throw Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},onchange:function(t){if("function"!=typeof t)throw Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},oncomplete:function(t){if("function"!=typeof t)throw Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},onexit:function(t){if("function"!=typeof t)throw Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this}},t.introJs=d}),$(document).ready(function(){$("div").on("ajax:success","#unbookmarked_icon",function(t,e){t.preventDefault(),$(this).replaceWith(e)}),$("div").on("ajax:success","#bookmarked_icon",function(t,e){t.preventDefault(),$(this).replaceWith(e)})}),$(document).ready(function(){document.getElementById("other-page")&&new circularTree("#other-page")}),$(document).ready(function(){document.getElementById("other-page")&&new collapsibleTree("#other-page")}),$(document).ready(function(){document.getElementById("node-page")&&new forceGraph("#node-page"),document.getElementById("reading-background")&&$("#reading-background").on("click","#story-map",function(){$("#chart-holder").replaceWith("<div id='chart-holder' class='small-9 columns reveal-modal' ><div id='chart' class='small-6 columns' data-node='"+$("#story-map").data("id")+"'></div><div><a id='node-link' style='display: none'></a></div><div id='superNav'></div><a class='close-reveal-modal'>&#215;</a></div>"),$("#chart-holder").foundation("reveal","open"),new forceGraph("#reading-background")})}),$(document).ready(function(){document.getElementById("index-page")&&new forceGroup("#index-page")}),$(document).ready(function(){$(document).foundation()}),LightDimmer.prototype.bindButton=function(){var t=this;this.buttons.on("click",".dimlights",function(){t.dimPage($(this)),t.fullscreenify()}),this.buttons.on("click",".brighten",function(){t.brightenPage($(this)),t.unfullscreenify()})},LightDimmer.prototype.fullscreenify=function(){$("#reading-background").fullScreen()},LightDimmer.prototype.unfullscreenify=function(){$("#reading-background").fullScreen()},LightDimmer.prototype.dimPage=function(t){this.buttons.unbind("click"),this.updateColor(this.readingPage.dimColor()),this.toggleButton(t)},LightDimmer.prototype.brightenPage=function(t){this.buttons.unbind("click"),this.updateColor(this.readingPage.brightColor()),this.toggleButton(t)},LightDimmer.prototype.toggleButton=function(t){t.toggle(),t.siblings("button").toggle()},LightDimmer.prototype.updateColor=function(t){var e=this;this.readingPage.page.animate({backgroundColor:t},500,function(){e.bindButton()})},ReadingPage.prototype.dimColor=function(){return this.story.addClass("box-shadowify"),this.__color().saturate(.5).toRGB()},ReadingPage.prototype.brightColor=function(){return this.story.removeClass("box-shadowify"),this.__color().saturate(2).toRGB()},ReadingPage.prototype.__color=function(){var t=this.page.css("background-color").match(/\d{1,3}/g);return new Color(t)},Color.prototype.saturate=function(t){var e=Math.floor(Math.pow(this.rgbArray[0],t)),n=Math.floor(Math.pow(this.rgbArray[1],t)),i=Math.floor(Math.pow(this.rgbArray[2],t));return new Color([e,n,i])},Color.prototype.toRGB=function(){return"rgb("+this.rgbArray[0]+","+this.rgbArray[1]+","+this.rgbArray[2]+")"},$(document).ready(function(){readingPage=new ReadingPage($("#reading-background"),$("#show-story")),new LightDimmer($(".buttons"),readingPage)});var prepWalkthrough=function(){var t=introJs();$("#profile-help"),t.setOptions({steps:[{element:"#profile-picture",intro:"Welcome to Storyward! This guide will help you find your way.<br><br>Use the arrow keys for navigation or hit ESC to exit the tour immediately.",position:"bottom"},{element:".top-bar",intro:"Here's a fancy navigation bar! Click 'Browse Stories' to explore user created stories. Click 'Create Story' to write your own!",position:"bottom"},{element:"#created-stories",intro:"Here are all the stories you've created. Click the story to view it's tree in the 'Story Viewer'",position:"right"},{element:".nodes-contributed",intro:"Here are nodes you've added to stories. Click the title to view their tree in the 'Story Viewer'",position:"right"},{element:"#favorite-authors",intro:"Favorite authors are added when you bookmark a story. Click to view the author's profile.",position:"right"},{element:"#favorite-stories",intro:"Favorite stories are added when you bookmark a story. Click the title to read the story.",position:"left"},{element:"#story-viewer",intro:"This is the super fancy story viewer. When you click on a created story or node, a little ball will pop up in the center of the screen. Double click the ball to expand the tree. Hover over any node to see a preview of that particular branch's story. Click 'Check out this story!' to view the story in the cozy reading page.<br><br>There is even more the tree can do, explore!",position:"top"}]}),t.oncomplete(function(){prepWalkthrough()}),t.onexit(function(){prepWalkthrough()}),listenForHelp(t)},listenForHelp=function(t){$("#profile-help").on("click",function(){t.start(),$(this).hide()})};$(document).ready(function(){prepWalkthrough()}),$(document).ready(function(){$(".stories-contributed").on("click","a",function(t){t.preventDefault(),console.log("enter"),console.log($(this).data("node"));var e=$(this).data("node");$("#story-viewer #chart").children().remove(),$("#story-viewer #chart").attr("data-node",e),console.log($("#story-viewer #chart").data("node")),new forceGraph("#show-user")}),$(".nodes-contributed").on("click","a",function(t){t.preventDefault(),console.log("enter"),console.log($(this).data("node"));var e=$(this).data("node");$("#story-viewer #chart").children().remove(),$("#story-viewer #chart").attr("data-node",e),console.log($("#story-viewer #chart").data("node")),new forceGraph("#show-user")})}),Tree.prototype.update=function(){var t=this.flatten(),e=d3.layout.tree().links(t);console.log("before force"),this.force.nodes(t).links(e).start(),this.link=this.vis.selectAll("line.link").data(e,function(t){return t.target.id}).style("stroke-width","1.5px").style("stroke",linkColor),this.link.enter().insert("svg:line",".node").attr("class","link").attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),this.link.exit().remove(),this.node=this.vis.selectAll("circle.node").data(t,function(t){return t.id}).style("fill",color),this.node.enter().append("svg:circle").attr("class","node").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",function(t){return Math.sqrt(t.size)/10||4.5}).style("fill",color).on("click",this.click).call(this.force.drag),this.node.exit().remove()},Tree.prototype.toggleChildren=function(t){t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null),this.update()},Tree.prototype.click=function(t){this.toggleChildren(t)},Tree.prototype.flatten=function(){function t(i){i.children&&i.children.forEach(t),i.id||(i.id=++n),e.push(i)}var e=[],n=0;return console.log("flatten"),console.log(this.root),t(this.root),e},Tree.prototype.tick=function(){console.log("in tick"),this.link.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),node.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y})},$(document).ready(function(){document.getElementById("show-story")&&new storyTime("#show-story")}),$(document).ready(function(){document.getElementById("other-page")&&new sunBurst("#other-page")}),$(document).ready(function(){$("#sign_in").on("click",function(){$(".welcome_options").remove(),$(".sign_in_links").show()}),$("#sign_up").on("click",function(){$(".welcome_options").remove(),$(".sign_up_links").show()})});